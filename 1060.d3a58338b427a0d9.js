"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[52,1060,5704,5864,7564],{3923:(N,C,s)=>{s.d(C,{$o:()=>f,_G:()=>y,Vq:()=>k,SQ:()=>c});var f=function(e){return e.Loaded="applePayLoaded",e.FailedToLoad="applePayFailedToLoad",e.Completed="applePayCompleted",e.Canceled="applePayCanceled",e.Failed="applePayFailed",e.DidSelectShippingContact="applePayDidSelectShippingContact",e.DidCreatePaymentMethod="applePayDidCreatePaymentMethod",e}(f||{}),y=function(e){return e.Loaded="googlePayLoaded",e.FailedToLoad="googlePayFailedToLoad",e.Completed="googlePayCompleted",e.Canceled="googlePayCanceled",e.Failed="googlePayFailed",e}(y||{}),k=function(e){return e.Loaded="paymentFlowLoaded",e.FailedToLoad="paymentFlowFailedToLoad",e.Opened="paymentFlowOpened",e.Created="paymentFlowCreated",e.Completed="paymentFlowCompleted",e.Canceled="paymentFlowCanceled",e.Failed="paymentFlowFailed",e}(k||{}),c=function(e){return e.Loaded="paymentSheetLoaded",e.FailedToLoad="paymentSheetFailedToLoad",e.Completed="paymentSheetCompleted",e.Canceled="paymentSheetCanceled",e.Failed="paymentSheetFailed",e}(c||{})},7762:(N,C,s)=>{s.d(C,{L:()=>y});const y=(0,s(5083).F3)("Geolocation",{web:()=>s.e(2920).then(s.bind(s,2920)).then(k=>new k.GeolocationWeb)})},7564:(N,C,s)=>{s.r(C),s.d(C,{AddressPage:()=>b});var f=s(467),y=s(177),k=s(4341),c=s(4742),e=s(7762),n=s(4438),E=s(3656),S=s(9568),M=s(1208),T=s(2068);const t=["map"];function A(p,R){if(1&p){const O=n.RV6();n.j41(0,"ion-button",12),n.bIt("click",function(){n.eBV(O);const r=n.XpG();return n.Njj(r.close())}),n.EFF(1),n.k0s()}if(2&p){const O=n.XpG();n.R7$(),n.JRh(O.text.cancel)}}function G(p,R){if(1&p){const O=n.RV6();n.j41(0,"ion-item",17),n.bIt("click",function(){const r=n.eBV(O).$implicit,x=n.XpG(2);return n.Njj(x.close(r))}),n.j41(1,"ion-label"),n.EFF(2),n.j41(3,"small",18),n.EFF(4),n.k0s()()()}if(2&p){const O=R.$implicit;n.R7$(2),n.JRh(O.type),n.R7$(2),n.JRh(O.address)}}function m(p,R){if(1&p&&(n.j41(0,"ion-accordion-group")(1,"ion-accordion",13)(2,"ion-item",14)(3,"ion-label"),n.EFF(4),n.k0s()(),n.j41(5,"div",15),n.DNE(6,G,5,2,"ion-item",16),n.k0s()()()),2&p){const O=n.XpG();n.R7$(4),n.JRh(O.text.saved_address),n.R7$(2),n.Y8G("ngForOf",O.data)}}function I(p,R){if(1&p){const O=n.RV6();n.j41(0,"ion-button",19),n.bIt("click",function(){n.eBV(O);const r=n.XpG();return n.Njj(r.saveAddress())}),n.EFF(1),n.k0s()}if(2&p){const O=n.XpG();n.R7$(),n.JRh(O.text.save_address)}}function u(p,R){1&p&&(n.j41(0,"ion-button",20),n.nrm(1,"ion-spinner",21),n.k0s())}let b=(()=>{var p;class R{constructor(l,r,x,h,g,P,F){this.navParams=l,this.platform=r,this.zone=x,this.otherService=h,this.mapService=g,this.server=P,this.alertCtrl=F,this.type="Home",this.autocompleteItems=[],this.show=!0,this.hasClick=!1,this.data=l.get("data"),this.store_id=l.get("store_id");const D=localStorage.getItem("app_lang");null!==D&&(this.text=JSON.parse(D),this.text=this.text.text)}ngOnInit(){this.getCurrentLocation()}requestLocationPermission(){var l=this;return(0,f.A)(function*(){try{"granted"===(yield e.L.requestPermissions()).location?l.getCurrentLocation():l.showAlert("Permission Denied","Please allow location access in your app or browser settings.")}catch(r){l.showAlert("Error","Unable to request location permission."),console.error("Permission request error",r)}})()}getCurrentLocation(){var l=this;return(0,f.A)(function*(){try{const r=yield e.L.getCurrentPosition();l.latitude=r.coords.latitude,l.longitude=r.coords.longitude,console.log("Latitude:",l.latitude,"Longitude:",l.longitude)}catch(r){1===r.code?l.showAlert("Location Permission Denied","Please allow location access in your app or browser settings."):l.showAlert("Error","Failed to get your location."),console.error("Error getting location",r)}})()}showAlert(l,r){var x=this;return(0,f.A)(function*(){x.otherService.confirmPernissions(l,r).then(h=>{x.close()})})()}setType(l){this.type=l}ionViewDidEnter(){var l=this;return(0,f.A)(function*(){l.platform.ready().then(()=>{l.loadMap()})})()}close(l=[]){var r=this;return(0,f.A)(function*(){r.otherService.closeModel(l)})()}loadMap(){var l=this;return(0,f.A)(function*(){l.map=null,l.show=!0;let r=yield l.mapService.getMap();l.map=yield new google.maps.Map(l.mapElement.nativeElement,r),l.show=!1,l.map.addListener("tilesloaded",(0,f.A)(function*(){l.lat=l.map.center.lat(),l.lng=l.map.center.lng()}))})()}UpdateSearchResults(){this.GoogleAutocomplete.getPlacePredictions({input:this.autocomplete},(l,r)=>{this.autocompleteItems=[],this.zone.run(()=>{l.forEach(x=>{this.autocompleteItems.push(x)})})})}SelectSearchResult(l){const r=new google.maps.Geocoder;new google.maps.InfoWindow,this.placeid=l.place_id,r.geocode({placeId:this.placeid},(h,g)=>{"OK"===g?h[0]?(this.map.setZoom(16),this.map.setCenter(h[0].geometry.location)):window.alert("No results found"):window.alert("Geocoder failed due to: "+g)}),this.ClearAutocomplete()}ClearAutocomplete(){this.autocompleteItems=[],this.autocomplete=""}saveAddress(){var l=this;return(0,f.A)(function*(){if(l.lat=l.latitude,l.lng=l.longitude,!l.address||l.address.length<4||!l.lat||!l.lng)return l.otherService.toast(l.text.correct_detail);let r={type:l.type,address:l.address,floor:l.floor,landmark:l.landmark,lat:l.latitude,lng:l.longitude,user_id:localStorage.getItem("user_id"),store_id:l.store_id};l.hasClick=!0,l.server.saveAddress(r).subscribe(x=>{l.hasClick=!1,l.close(x.latest)})})()}}return(p=R).\u0275fac=function(l){return new(l||p)(n.rXU(E.y8),n.rXU(E.OD),n.rXU(n.SKi),n.rXU(S.G),n.rXU(M.u),n.rXU(T.Z),n.rXU(c.hG))},p.\u0275cmp=n.VBU({type:p,selectors:[["app-address"]],viewQuery:function(l,r){if(1&l&&n.GBs(t,5),2&l){let x;n.mGM(x=n.lsd())&&(r.mapElement=x.first)}},decls:31,vars:23,consts:[[1,"ion-no-border"],["slot","end"],["color","medium",3,"click",4,"ngIf"],[1,"ion-padding"],[4,"ngIf"],[2,"font-weight","bold"],["size","4",3,"click"],["name","address","label-placement","floating","fill","outline","mode","md",3,"ngModelChange","label","ngModel","disabled"],["name","floor","label-placement","floating","fill","outline","mode","md",3,"ngModelChange","label","ngModel","disabled"],["name","landmark","label-placement","floating","fill","outline","mode","md",3,"ngModelChange","label","ngModel","disabled"],["mode","ios","expand","block","color","dark","type","submit",3,"click",4,"ngIf"],["mode","ios","expand","block","color","dark","type","button",4,"ngIf"],["color","medium",3,"click"],["value","first"],["slot","header","color","light",1,"h"],["slot","content",1,"ion-padding"],["style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click"],[2,"color","gray","margin-top","5px","display","block"],["mode","ios","expand","block","color","dark","type","submit",3,"click"],["mode","ios","expand","block","color","dark","type","button"],["name","crescent"]],template:function(l,r){1&l&&(n.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),n.DNE(3,A,2,1,"ion-button",2),n.k0s()()(),n.j41(4,"ion-content")(5,"div",3),n.DNE(6,m,7,2,"ion-accordion-group",4),n.j41(7,"p",5),n.EFF(8),n.k0s(),n.nrm(9,"br"),n.j41(10,"ion-row")(11,"ion-col",6),n.bIt("click",function(){return r.setType("Home")}),n.j41(12,"span"),n.EFF(13),n.k0s()(),n.j41(14,"ion-col",6),n.bIt("click",function(){return r.setType("Office")}),n.j41(15,"span"),n.EFF(16),n.k0s()(),n.j41(17,"ion-col",6),n.bIt("click",function(){return r.setType("Other")}),n.j41(18,"span"),n.EFF(19),n.k0s()()(),n.nrm(20,"br")(21,"br"),n.j41(22,"ion-input",7),n.mxI("ngModelChange",function(h){return n.DH7(r.address,h)||(r.address=h),h}),n.k0s(),n.nrm(23,"br"),n.j41(24,"ion-input",8),n.mxI("ngModelChange",function(h){return n.DH7(r.floor,h)||(r.floor=h),h}),n.k0s(),n.nrm(25,"br"),n.j41(26,"ion-input",9),n.mxI("ngModelChange",function(h){return n.DH7(r.landmark,h)||(r.landmark=h),h}),n.k0s(),n.nrm(27,"br")(28,"br"),n.DNE(29,I,2,1,"ion-button",10)(30,u,2,0,"ion-button",11),n.k0s()()),2&l&&(n.R7$(3),n.Y8G("ngIf",r.text),n.R7$(3),n.Y8G("ngIf",r.data&&r.data.length>0),n.R7$(2),n.JRh(r.text.add_new_address),n.R7$(4),n.HbH("Home"==r.type?"typeSelected":"type"),n.R7$(),n.JRh(r.text.home),n.R7$(2),n.HbH("Office"==r.type?"typeSelected":"type"),n.R7$(),n.JRh(r.text.office),n.R7$(2),n.HbH("Other"==r.type?"typeSelected":"type"),n.R7$(),n.JRh(r.text.other),n.R7$(3),n.FS9("label",r.text.com_address),n.R50("ngModel",r.address),n.Y8G("disabled",r.hasClick),n.R7$(2),n.FS9("label",r.text.floor),n.R50("ngModel",r.floor),n.Y8G("disabled",r.hasClick),n.R7$(2),n.FS9("label",r.text.landmark),n.R50("ngModel",r.landmark),n.Y8G("disabled",r.hasClick),n.R7$(3),n.Y8G("ngIf",!r.hasClick),n.R7$(),n.Y8G("ngIf",r.hasClick))},dependencies:[c.bv,c.xk,c.YH,c.Jm,c.QW,c.hU,c.W9,c.eU,c.$w,c.uz,c.he,c.ln,c.w2,c.ai,c.Gw,y.MD,y.Sq,y.bT,k.YN,k.BC,k.vS],styles:["ion-row[_ngcontent-%COMP%]{text-align:center}ion-toolbar[_ngcontent-%COMP%]{--background: white}.type[_ngcontent-%COMP%]{background-color:var(--ion-color-light);padding:10px 15px;border-radius:5px}.typeSelected[_ngcontent-%COMP%]{background-color:var(--ion-color-dark);color:#fff;padding:10px 15px;border-radius:5px}#map[_ngcontent-%COMP%]{width:100%;height:45vh}.map-wrapper[_ngcontent-%COMP%]{position:relative}.map-wrapper[_ngcontent-%COMP%]   #map_center[_ngcontent-%COMP%]{position:absolute;z-index:99;height:40px;width:40px;top:50%;left:50%;margin-left:-21px;margin-top:-41px}.h[_ngcontent-%COMP%]{--min-height:10px !important}ion-accordion[_ngcontent-%COMP%]{border-radius:10px;margin-bottom:40px}"]}),R})()},52:(N,C,s)=>{s.r(C),s.d(C,{FeedbackPage:()=>G});var f=s(467),y=s(177),k=s(4341),c=s(4742),e=s(4438),n=s(9568),E=s(3656);const S=()=>[];function M(m,I){if(1&m){const u=e.RV6();e.j41(0,"ion-button",5),e.bIt("click",function(){e.eBV(u);const p=e.XpG();return e.Njj(p.close())}),e.EFF(1),e.k0s()}if(2&m){const u=e.XpG();e.R7$(),e.JRh(u.text.cancel)}}function T(m,I){1&m&&e.nrm(0,"ion-icon",9)}function t(m,I){if(1&m&&(e.j41(0,"ion-item",10)(1,"ion-label",11),e.EFF(2),e.j41(3,"ion-badge",12),e.nrm(4,"ion-icon",13),e.EFF(5),e.k0s(),e.j41(6,"small",14),e.EFF(7),e.k0s()()()),2&m){const u=I.$implicit;e.R7$(2),e.SpI("",u.name," "),e.R7$(3),e.SpI(" ",u.star,".0"),e.R7$(2),e.JRh(u.comment)}}function A(m,I){if(1&m&&(e.j41(0,"ion-content",6)(1,"h3"),e.EFF(2),e.k0s(),e.DNE(3,T,1,0,"ion-icon",7),e.nrm(4,"br")(5,"br"),e.DNE(6,t,8,3,"ion-item",8),e.k0s()),2&m){const u=e.XpG();e.R7$(2),e.JRh(u.data.item.name),e.R7$(),e.Y8G("ngForOf",e.lJ4(3,S).constructor(u.roundRating(u.data.item.rating))),e.R7$(3),e.Y8G("ngForOf",u.data.item.ratings)}}let G=(()=>{var m;class I{constructor(b,p){this.otherService=b,this.navParams=p,this.data=p.get("data");const R=localStorage.getItem("app_lang");null!==R&&(this.text=JSON.parse(R),this.text=this.text.text)}ngOnInit(){}close(b=[]){var p=this;return(0,f.A)(function*(){p.otherService.closeModel(b)})()}roundRating(b){return Math.round(b)}}return(m=I).\u0275fac=function(b){return new(b||m)(e.rXU(n.G),e.rXU(E.y8))},m.\u0275cmp=e.VBU({type:m,selectors:[["app-feedback"]],decls:5,vars:2,consts:[[1,"ion-no-border"],["color","light"],["slot","end"],["color","medium",3,"click",4,"ngIf"],["class","ion-padding",4,"ngIf"],["color","medium",3,"click"],[1,"ion-padding"],["name","star","color","primary",4,"ngFor","ngForOf"],["lines","none",4,"ngFor","ngForOf"],["name","star","color","primary"],["lines","none"],[1,"ion-text-wrap"],["color","dark",2,"float","right"],["name","star"],[2,"margin-top","5px","display","block"]],template:function(b,p){1&b&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e.DNE(3,M,2,1,"ion-button",3),e.k0s()()(),e.DNE(4,A,7,4,"ion-content",4)),2&b&&(e.R7$(3),e.Y8G("ngIf",p.text),e.R7$(),e.Y8G("ngIf",p.data))},dependencies:[c.bv,c.In,c.Jm,c.QW,c.W9,c.eU,c.iq,c.uz,c.he,c.ai,y.MD,y.Sq,y.bT,k.YN],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-light)}ion-item[_ngcontent-%COMP%]{border-radius:10px;margin-top:15px}"]}),I})()},1060:(N,C,s)=>{s.r(C),s.d(C,{ItemPage:()=>Q});var f=s(467),y=s(177),k=s(4341),c=s(4742),e=s(3804),n=s(8870),E=s(52),S=s(7564),M=s(5864),T=s(5704),t=s(4438),A=s(2068),G=s(9568);const m=["content"],I=()=>[];function u(d,v){if(1&d&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&d){const a=t.XpG(2);t.R7$(),t.SpI("\xa0(",a.data.cart,")")}}function b(d,v){if(1&d&&(t.j41(0,"ion-row"),t.nrm(1,"ion-col",5),t.j41(2,"ion-col",6)(3,"ion-button",7),t.nrm(4,"ion-icon",8),t.DNE(5,u,2,1,"span",3),t.k0s()()()),2&d){const a=t.XpG();t.R7$(5),t.Y8G("ngIf",a.data&&a.data.cart)}}function p(d,v){1&d&&(t.j41(0,"ion-col",20),t.nrm(1,"ion-skeleton-text",21),t.k0s()),2&d&&(t.R7$(),t.Y8G("animated",!0))}function R(d,v){1&d&&(t.j41(0,"ion-row")(1,"ion-col",22),t.nrm(2,"ion-skeleton-text",23),t.k0s()()),2&d&&(t.R7$(2),t.Y8G("animated",!0))}function O(d,v){if(1&d&&(t.j41(0,"div",11)(1,"ion-grid",12),t.nrm(2,"ion-skeleton-text",13)(3,"ion-skeleton-text",14)(4,"br")(5,"ion-skeleton-text",15)(6,"br"),t.j41(7,"ion-row"),t.DNE(8,p,2,1,"ion-col",16),t.k0s(),t.nrm(9,"br"),t.j41(10,"ion-row")(11,"ion-col",17),t.nrm(12,"ion-skeleton-text",18),t.k0s(),t.j41(13,"ion-col",17),t.nrm(14,"ion-skeleton-text",18),t.k0s(),t.j41(15,"ion-col",17),t.nrm(16,"ion-skeleton-text",18),t.k0s(),t.j41(17,"ion-col",17),t.nrm(18,"ion-skeleton-text",18),t.k0s()(),t.nrm(19,"br"),t.DNE(20,R,3,1,"ion-row",19),t.k0s()()),2&d){const a=t.XpG(2);t.R7$(),t.Y8G("fixed",!0),t.R7$(),t.Y8G("animated",!0),t.R7$(),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(3),t.Y8G("ngForOf",a.fakeData),t.R7$(4),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(2),t.Y8G("ngForOf",a.fakeData)}}function l(d,v){1&d&&t.nrm(0,"ion-col",17)}function r(d,v){if(1&d&&(t.j41(0,"ion-segment-button",31),t.EFF(1),t.k0s()),2&d){const a=t.XpG(3);t.Y8G("value",2),t.R7$(),t.JRh(a.text.breakfast)}}function x(d,v){if(1&d&&(t.j41(0,"ion-segment-button",31),t.EFF(1),t.k0s()),2&d){const a=t.XpG(3);t.Y8G("value",3),t.R7$(),t.JRh(a.text.lunch)}}function h(d,v){if(1&d&&(t.j41(0,"ion-segment-button",31),t.EFF(1),t.k0s()),2&d){const a=t.XpG(3);t.Y8G("value",4),t.R7$(),t.JRh(a.text.dinner)}}function g(d,v){if(1&d&&(t.j41(0,"p",32),t.EFF(1),t.k0s()),2&d){const a=t.XpG(3);t.R7$(),t.Lme("",a.text.delivery_time," ",a.data.store.b_time,"")}}function P(d,v){if(1&d&&(t.j41(0,"p",32),t.EFF(1),t.k0s()),2&d){const a=t.XpG(3);t.R7$(),t.Lme("",a.text.delivery_time," ",a.data.store.l_time,"")}}function F(d,v){if(1&d&&(t.j41(0,"p",32),t.EFF(1),t.k0s()),2&d){const a=t.XpG(3);t.R7$(),t.Lme("",a.text.delivery_time," ",a.data.store.d_time,"")}}function D(d,v){if(1&d){const a=t.RV6();t.j41(0,"ion-button",44),t.bIt("click",function(){t.eBV(a);const i=t.XpG().$implicit,_=t.XpG(3);return t.Njj(_.detail(i))}),t.EFF(1),t.k0s()}if(2&d){const a=t.XpG(4);t.R7$(),t.SpI("",a.text.add," + ")}}function $(d,v){if(1&d){const a=t.RV6();t.j41(0,"ion-icon",47),t.bIt("click",function(){t.eBV(a);const i=t.XpG(2).$implicit,_=t.XpG(3);return t.Njj(_.openModel(i,2))}),t.k0s()}}function L(d,v){if(1&d&&(t.j41(0,"span",45),t.DNE(1,$,1,0,"ion-icon",46),t.k0s()),2&d){const a=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",t.lJ4(1,I).constructor(a.rating))}}function w(d,v){if(1&d){const a=t.RV6();t.j41(0,"ion-button",48),t.bIt("click",function(){t.eBV(a);const i=t.XpG().$implicit,_=t.XpG(3);return t.Njj(_.detail(i))}),t.EFF(1),t.k0s()}if(2&d){const a=t.XpG(4);t.R7$(),t.SpI("\xa0\xa0",a.text.add," + \xa0")}}function X(d,v){if(1&d&&(t.j41(0,"ion-col",33)(1,"ion-row",34)(2,"ion-col",35),t.nrm(3,"img",36),t.DNE(4,D,2,1,"ion-button",37),t.k0s(),t.j41(5,"ion-col",38)(6,"span",39),t.EFF(7),t.k0s(),t.j41(8,"span",40),t.EFF(9),t.k0s(),t.j41(10,"span",41),t.EFF(11),t.k0s(),t.DNE(12,L,2,2,"span",42),t.nrm(13,"br"),t.DNE(14,w,2,1,"ion-button",43),t.k0s()()()),2&d){const a=v.$implicit,o=t.XpG(3);t.R7$(3),t.FS9("src",a.img,t.B4B),t.R7$(),t.Y8G("ngIf",o.isMobile),t.R7$(3),t.JRh(a.name),t.R7$(2),t.JRh(a.desc),t.R7$(2),t.Lme("",a.currency,"",a.price," "),t.R7$(),t.Y8G("ngIf",a.rating>0),t.R7$(2),t.Y8G("ngIf",!o.isMobile)}}function Y(d,v){if(1&d){const a=t.RV6();t.j41(0,"div")(1,"ion-grid",12)(2,"ion-row"),t.DNE(3,l,1,0,"ion-col",24),t.j41(4,"ion-col",25),t.nrm(5,"br"),t.j41(6,"div",26)(7,"ion-segment",27),t.mxI("ngModelChange",function(i){t.eBV(a);const _=t.XpG(2);return t.DH7(_.type,i)||(_.type=i),t.Njj(i)}),t.bIt("ionChange",function(){t.eBV(a);const i=t.XpG(2);return t.Njj(i.ic())}),t.DNE(8,r,2,2,"ion-segment-button",28)(9,x,2,2,"ion-segment-button",28)(10,h,2,2,"ion-segment-button",28),t.k0s(),t.DNE(11,g,2,2,"p",29)(12,P,2,2,"p",29)(13,F,2,2,"p",29),t.k0s(),t.j41(14,"ion-row"),t.DNE(15,X,15,8,"ion-col",30),t.k0s()()()()()}if(2&d){const a=t.XpG(2);t.R7$(),t.Y8G("fixed",!0),t.R7$(2),t.Y8G("ngIf",!a.isMobile),t.R7$(),t.Y8G("size",a.isMobile?12:7),t.R7$(3),t.Y8G("scrollable",!0),t.R50("ngModel",a.type),t.R7$(),t.Y8G("ngIf",0==a.data.store.breakfast),t.R7$(),t.Y8G("ngIf",0==a.data.store.lunch),t.R7$(),t.Y8G("ngIf",0==a.data.store.dinner),t.R7$(),t.Y8G("ngIf",2==a.type),t.R7$(),t.Y8G("ngIf",3==a.type),t.R7$(),t.Y8G("ngIf",4==a.type),t.R7$(2),t.Y8G("ngForOf",a.allItem)}}function z(d,v){if(1&d){const a=t.RV6();t.j41(0,"ion-list",53)(1,"ion-item",54),t.bIt("click",function(){const i=t.eBV(a).$implicit,_=t.XpG(3);return t.Njj(_.selectProducts(i.id))}),t.j41(2,"ion-row")(3,"ion-col",6),t.nrm(4,"img",55),t.k0s(),t.j41(5,"ion-col",5)(6,"h3",56),t.EFF(7),t.k0s()()()()()}if(2&d){const a=v.$implicit,o=t.XpG(3);t.R7$(),t.Y8G("ngClass",o.cat_id==a.id?"selected_category":"non_selected_category"),t.R7$(3),t.FS9("src",a.img,t.B4B),t.R7$(3),t.JRh(a.name)}}function W(d,v){if(1&d){const a=t.RV6();t.j41(0,"ion-button",44),t.bIt("click",function(){t.eBV(a);const i=t.XpG().$implicit,_=t.XpG(4);return t.Njj(_.add_to_cart(i))}),t.EFF(1),t.k0s()}if(2&d){const a=t.XpG().$implicit,o=t.XpG(4);t.R7$(),t.SpI(" ",null!=a&&a.subscribed_item?"Subscribe":o.text.add,"")}}function J(d,v){if(1&d&&(t.j41(0,"ion-col",58)(1,"ion-card",59)(2,"ion-row",34)(3,"ion-col",17),t.nrm(4,"img",36),t.k0s(),t.j41(5,"ion-col",60)(6,"span",39),t.EFF(7),t.k0s(),t.j41(8,"span",61),t.EFF(9),t.nI1(10,"currency"),t.k0s(),t.nrm(11,"br"),t.k0s(),t.j41(12,"ion-col",22)(13,"div",62),t.EFF(14,"Order via App and get "),t.j41(15,"span"),t.EFF(16,"Upto 40% OFF"),t.k0s(),t.EFF(17," with "),t.j41(18,"strong"),t.EFF(19,"VIP"),t.k0s()()(),t.j41(20,"ion-col",63)(21,"ion-row",64)(22,"ion-col",65),t.nrm(23,"ion-icon",66),t.j41(24,"span",67),t.EFF(25,"Premium Sourcing"),t.k0s()(),t.j41(26,"ion-col",65),t.nrm(27,"ion-icon",68),t.j41(28,"span",67),t.EFF(29,"Hourly Flash Deals"),t.k0s()(),t.j41(30,"ion-col",65),t.nrm(31,"ion-icon",69),t.j41(32,"span",67),t.EFF(33,"Delivery by 7 AM"),t.k0s()()()(),t.j41(34,"ion-col",5)(35,"p",70),t.EFF(36),t.k0s()(),t.j41(37,"ion-col",6),t.DNE(38,W,2,1,"ion-button",37),t.k0s()()()()),2&d){const a=v.$implicit,o=t.XpG(4);t.R7$(4),t.FS9("src",a.img,t.B4B),t.R7$(3),t.JRh(a.name),t.R7$(2),t.SpI("",t.i5U(10,5,a.price,"INR")," "),t.R7$(27),t.SpI("Order Premium Quality ",a.name," Online"),t.R7$(2),t.Y8G("ngIf",!o.isMobile)}}function K(d,v){if(1&d&&(t.j41(0,"ion-row"),t.DNE(1,J,39,8,"ion-col",57),t.k0s()),2&d){const a=t.XpG(3);t.R7$(),t.Y8G("ngForOf",a.filteredItems)}}function V(d,v){if(1&d&&(t.j41(0,"div",11)(1,"ion-card",49)(2,"ion-row")(3,"ion-col",20)(4,"ion-card-content",50),t.DNE(5,z,8,3,"ion-list",51),t.k0s()(),t.j41(6,"ion-col",52),t.DNE(7,K,2,1,"ion-row",3),t.k0s()()()()),2&d){const a=t.XpG(2);t.R7$(5),t.Y8G("ngForOf",a.categories_list),t.R7$(2),t.Y8G("ngIf",a.filteredItems)}}function H(d,v){if(1&d&&(t.j41(0,"ion-content",9),t.DNE(1,O,21,10,"div",10)(2,Y,16,12,"div",3)(3,V,8,2,"div",10),t.k0s()),2&d){const a=t.XpG();t.Y8G("fullscreen",!0),t.R7$(),t.Y8G("ngIf",!a.data),t.R7$(),t.Y8G("ngIf",a.data&&a.isMobile),t.R7$(),t.Y8G("ngIf",a.data&&!a.isMobile)}}(0,e.kz)();let Q=(()=>{var d;class v{constructor(o,i,_,j,U){this.server=o,this.route=i,this.router=_,this.otherService=j,this.modalCtrl=U,this.fakeData=[1,2,3,4,5,6],this.type=2,this.isMobile=!1,this.allItem=[],this.filteredItems=[],this.selectedItms=[],this.total=0,this.payble_amount=0,this.hasClick=!1,this.show=!0,this.categoryItemsMap={1:[1,2,6],2:[5],3:[3,4]},this.days=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.otherService.statusBar("#ffffff",2),this.cat_id=this.route.snapshot.paramMap.get("id");const B=localStorage.getItem("app_lang");null!==B&&(this.text=JSON.parse(B),this.text=this.text.text),"null"==localStorage.getItem("cart_no")||null==localStorage.getItem("cart_no")?(this.cart_no=Math.floor(2e9*Math.random())+1,localStorage.setItem("cart_no",this.cart_no)):this.cart_no=localStorage.getItem("cart_no"),this.checkScreenSize(),null==localStorage.getItem("lang_id")&&localStorage.setItem("lang_id","0")}onResize(o){this.checkScreenSize()}checkScreenSize(){this.isMobile=window.innerWidth<=768}ngOnInit(){}ionViewDidEnter(){this.loadData()}loadData(){var o=this;return(0,f.A)(function*(){o.server.item({store_id:1,cat_id:o.cat_id}).subscribe(i=>{localStorage.setItem("admin_setting",JSON.stringify(i.data.admin)),localStorage.setItem("app_lang",JSON.stringify(i.data.lang)),localStorage.setItem("lang_id","0"),o.text=i.data.lang.text,o.data=i.data,o.filteredItems=o.data.item,console.log(" this.data ",o.data);const _=localStorage.getItem("selectedItms");o.selectedItms=_?JSON.parse(_):[],o.selectedItms&&o.CalculateTotal(),o.loadCategoriesData(),o.getSavedAddress(),o.setItem(),o.selectProducts(o.cat_id)})})()}loadCategoriesData(){var o=this;return(0,f.A)(function*(){o.server.homepage().subscribe(i=>{o.categories_list=i.data.cate})})()}selectProducts(o){var i=this;return(0,f.A)(function*(){i.cat_id=o,i.server.item({store_id:1,cat_id:i.cat_id}).subscribe(_=>{i.filteredItems=_.data.item})})()}getSavedAddress(){this.server.checkoutData().subscribe(o=>{this.checkout_data=o.data,this.savedAddress=this.checkout_data.address})}setItem(){var o=this;return(0,f.A)(function*(){const i=new Map;for(const _ of o.data.item)o.chkFilter(_)&&i.set(_.id,_);o.allItem=Array.from(i.values()).map(_=>({..._,subscribed_item:/fruit/i.test(_.name)})),console.log(o.allItem)})()}ic(){var o=this;return(0,f.A)(function*(){o.allItem=[],o.setItem()})()}goBack(){var o=this;return(0,f.A)(function*(){return o.otherService.goBack()})()}chkFilter(o){return 1==this.type||(2==this.type?1==o.breakfast:3==this.type?1==o.lunch:4!=this.type||1==o.dinner)}add_to_cart(o){var i=this;return(0,f.A)(function*(){o.subscribed_item?(o.qty=1,localStorage.setItem("subscribed_items",JSON.stringify(o)),i.router.navigate(["/subscribed-cart"],{replaceUrl:!0})):(i.hasClick=!0,i.server.add_to_cart({cart_no:i.cart_no,item_id:o.id,price:o.price,item_type:i.type,qty:1,store_id:o.store_id,days:i.days}).subscribe(j=>{i.hasClick=!1,i.otherService.triggerLoadData.emit(),i.otherService.toast(i.text.added)}))})()}detail(o){const i=this.selectedItms.find(_=>_.id===o.id);i?(i.quantity+=1,i.selected_price=Number(o.price)*Number(i.quantity)):(o.quantity=1,o.selected_price=o.price,this.selectedItms.push(o)),this.CalculateTotal()}increment(o){const i=this.selectedItms.find(_=>_.id===o.id);i.quantity+=1,i.selected_price=Number(o.price)*Number(i.quantity),this.CalculateTotal()}decrement(o){if(o.quantity>1){const i=this.selectedItms.find(_=>_.id===o.id);i.quantity-=1,i.selected_price=Number(o.price)*Number(i.quantity),this.CalculateTotal()}}CalculateTotal(){this.total=this.selectedItms.reduce((o,i)=>o+(Number(i.selected_price)||0),0),localStorage.setItem("selectedItms",JSON.stringify(this.selectedItms))}removeItem(o){this.selectedItms=this.selectedItms.filter(i=>i.id!=o.id),this.CalculateTotal()}getAddress(){var o=this;return(0,f.A)(function*(){const i={data:o.savedAddress,store_id:o.data.store.id},_=yield o.modalCtrl.create({component:S.AddressPage,animated:!0,mode:"ios",componentProps:i});return _.onDidDismiss().then(j=>{console.log(j),j.data.id&&(o.address=j.data)}),yield _.present()})()}startDate(){var o=this;return(0,f.A)(function*(){if(!o.sub_time)return o.otherService.toast(o.text.sub_time);if(!o.start_date)return;o.otherService.showLoading();const i={plan:o.sub_time,start_date:o.start_date,cart_no:localStorage.getItem("cart_no"),user_id:localStorage.getItem("user_id"),store_id:o.checkout_data.store.id};o.server.getAmount(i).subscribe(_=>{o.cal=_,o.otherService.hideLoading(),console.log(o.cal.summery)})})()}getOffer(){var o=this;return(0,f.A)(function*(){const i=yield o.modalCtrl.create({component:M.OfferPage,animated:!0,mode:"ios",componentProps:{data:o.checkout_data.offer}});return i.onDidDismiss().then(_=>{_.data.code&&(o.offer=_.data,o.applyOffer())}),yield i.present()})()}applyOffer(){var o=this;return(0,f.A)(function*(){if(1==o.offer.type){const i=o.cal.total*o.offer.value/100;o.payble_amount=o.total-i,o.save=i.toFixed(1)}else o.payble_amount=o.total-o.offer.value,o.save=o.offer.value})()}validate(){return!!(this.sub_time&&this.start_date&&this.address)}placeOrder(){var o=this;return(0,f.A)(function*(){o.validate()?o.total>o.checkout_data.user.wallet?o.openpaymentsModel({amount:o.total-o.checkout_data.user.wallet,stripe_key:o.checkout_data.stripe_id}):o.checkout():o.otherService.toast(o.text.all_field)})()}openpaymentsModel(o){var i=this;return(0,f.A)(function*(){const _=yield i.modalCtrl.create({component:T.PaymentPage,animated:!0,mode:"ios",componentProps:{data:o}});return _.onDidDismiss().then(j=>{j.data?i.checkout():i.otherService.toast(i.text.payment_cancel)}),yield _.present()})()}checkout(){var o=this;return(0,f.A)(function*(){o.hasClick=!0;const i={user_id:localStorage.getItem("user_id"),cart_no:localStorage.getItem("cart_no"),cal:o.cal,address:o.address.id,plan:o.sub_time,total:o.total,discount:o.save,store_id:o.checkout_data.store.id,notes:localStorage.getItem("order_notes")&&"undefined"!=localStorage.getItem("order_notes")?localStorage.getItem("order_notes"):null};console.log(i)})()}custom(){return localStorage.setItem("custom_data",JSON.stringify(this.data.custom)),localStorage.setItem("store_data",JSON.stringify(this.data.store)),this.otherService.redirect("custom")}openModel(o,i){var _=this;return(0,f.A)(function*(){const j=yield _.modalCtrl.create({component:E.FeedbackPage,animated:!0,mode:"ios",componentProps:{data:{item:o,type:i}}});return j.onDidDismiss().then(U=>{}),yield j.present()})()}}return(d=v).\u0275fac=function(o){return new(o||d)(t.rXU(A.Z),t.rXU(n.nX),t.rXU(n.Ix),t.rXU(G.G),t.rXU(c.W3))},d.\u0275cmp=t.VBU({type:d,selectors:[["app-item"]],viewQuery:function(o,i){if(1&o&&t.GBs(m,5),2&o){let _;t.mGM(_=t.lsd())&&(i.content=_.first)}},hostBindings:function(o,i){1&o&&t.bIt("resize",function(j){return i.onResize(j)},!1,t.tSv)},decls:6,vars:2,consts:[[1,"ion-no-border"],["color","dark"],["slot","start"],[4,"ngIf"],[3,"fullscreen",4,"ngIf"],["size","8"],["size","4"],["color","primary","routerLink","/tabs/cart",2,"float","right","margin-top","10px"],["name","cart-outline"],[3,"fullscreen"],["class","ion-padding",4,"ngIf"],[1,"ion-padding"],[3,"fixed"],[1,"sek",3,"animated"],[1,"sek2",3,"animated"],[1,"sek3",3,"animated"],["size","2",4,"ngFor","ngForOf"],["size","3"],[1,"sek5",3,"animated"],[4,"ngFor","ngForOf"],["size","2"],[1,"sek4",3,"animated"],["size","12"],[1,"sek6",3,"animated"],["size","3",4,"ngIf"],[3,"size"],[1,"white"],["mode","md","color","dark","value","2",3,"ngModelChange","ionChange","scrollable","ngModel"],[3,"value",4,"ngIf"],["class","dtime",4,"ngIf"],["size","12","style","margin-bottom: 10px;",4,"ngFor","ngForOf"],[3,"value"],[1,"dtime"],["size","12",2,"margin-bottom","10px"],[1,"showItem"],["size","5"],[3,"src"],["color","primary","expand","block","shape","round","color","dark","size","medium","style","margin-top: 10px;",3,"click",4,"ngIf"],["size","7",2,"padding","0px 10px"],[1,"iname"],[1,"item_desc"],[1,"price"],["class","rating",4,"ngIf"],["color","primary","shape","round","color","dark",3,"click",4,"ngIf"],["color","primary","expand","block","shape","round","color","dark","size","medium",2,"margin-top","10px",3,"click"],[1,"rating"],["name","star","style","font-size: 10px;","color","primary",3,"click",4,"ngFor","ngForOf"],["name","star","color","primary",2,"font-size","10px",3,"click"],["color","primary","shape","round","color","dark",3,"click"],[1,"category_card"],[1,"scrollable-content"],["style","cursor: pointer;padding:0px;",4,"ngFor","ngForOf"],["size","10",2,"padding","5px 25px"],[2,"cursor","pointer","padding","0px"],["lines","none",3,"click","ngClass"],[1,"cat_img",3,"src"],[1,"cat_title"],["size","4","style","margin-bottom: 10px;",4,"ngFor","ngForOf"],["size","4",2,"margin-bottom","10px"],[1,"product_card","mat-elevation-z8"],["size","9",2,"padding","15px 10px"],[1,"actual_price"],[1,"discount"],["size","12",1,"prod_desc"],[1,"feature-row"],["size","4",1,"feature-col"],["name","ribbon-outline",1,"feature-icon"],[1,"feature-text"],["name","flash-outline",1,"feature-icon"],["name","time-outline",1,"feature-icon"],[1,"footer"]],template:function(o,i){1&o&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),t.nrm(3,"ion-back-button"),t.k0s(),t.DNE(4,b,6,1,"ion-row",3),t.k0s()(),t.DNE(5,H,4,4,"ion-content",4)),2&o&&(t.R7$(4),t.Y8G("ngIf",i.isMobile),t.R7$(),t.Y8G("ngIf",i.text))},dependencies:[c.bv,c.Jm,c.QW,c.b_,c.I9,c.hU,c.W9,c.lO,c.eU,c.iq,c.uz,c.nf,c.ln,c.Gp,c.eP,c.ds,c.ai,c.Je,c.el,c.N7,y.MD,y.YU,y.Sq,y.bT,y.oe,k.YN,k.BC,k.vS,n.Wk],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light) }.scrollable-content[_ngcontent-%COMP%]{height:80vh;overflow-y:auto;border-right:3px solid whitesmoke;scrollbar-width:thin;scrollbar-color:transparent transparent}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.card_title[_ngcontent-%COMP%]{width:100%;font-weight:700;background-color:var(--ion-color-dark);padding:10px}.card_title[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--ion-color-light)}.category_card[_ngcontent-%COMP%]{box-shadow:0 5px 15px #0000001a}.product_card[_ngcontent-%COMP%]{box-shadow:0 0 #0003;border:2px solid var(--ion-color-light);background:#fff;padding:20px;border-radius:12px;width:100%;transition:transform .2s}.product_card[_ngcontent-%COMP%]:hover{border:2px solid var(--ion-color-dark)}.discount[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff3cd);padding:8px;font-size:14px;margin:10px 0;border-radius:5px;color:#000}.discount[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#28a745;font-weight:700}.prod_desc[_ngcontent-%COMP%]{border-top:1px solid whitesmoke;border-bottom:1px solid whitesmoke;font-size:12px}.feature-row[_ngcontent-%COMP%]{text-align:center;margin-top:10px}.feature-col[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:5px}.feature-icon[_ngcontent-%COMP%]{font-size:20px;color:#333}.footer[_ngcontent-%COMP%]{font-weight:600;font-size:14px;line-height:18px}.selected_category[_ngcontent-%COMP%]{border:2px solid var(--ion-color-dark);border-radius:10px;border-left:10px solid var(--ion-color-dark);color:var(--ion-color-dark);cursor:pointer}.non_selected_category[_ngcontent-%COMP%]{border:2px solid white;border-radius:10px;border-left:10px solid white;cursor:pointer}ion-fab[_ngcontent-%COMP%]{margin-top:20px}.iname[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--ion-color-dark)}.iname_price[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.total[_ngcontent-%COMP%]{font-weight:600;font-size:20px;text-align:right;color:#000}.trash_icon[_ngcontent-%COMP%]{margin-top:3px;color:#d00101;cursor:pointer}.white[_ngcontent-%COMP%]{background-color:#fff}.top[_ngcontent-%COMP%]{padding:10px 20px;margin-top:20px}.cont[_ngcontent-%COMP%]{padding:10px;margin-top:2%}swiper-slide[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: var(--ion-color-light)}.code[_ngcontent-%COMP%]{letter-spacing:3px}.top[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:700}.offer[_ngcontent-%COMP%]{border:1px solid #d1d1d1;border-radius:10px;background-color:#fff;font-size:15px}.buttonDiv[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{background-color:var(--ion-color-dark);padding:10px;border-radius:50%;color:#fff}.buttonDiv[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;text-align:center;padding:10px 0}.buttonDiv[_ngcontent-%COMP%]{margin-top:-5%}.day[_ngcontent-%COMP%]{background-color:var(--ion-color-light);padding:10px;width:auto!important;text-align:center;border-radius:5px}.sek[_ngcontent-%COMP%]{width:100%;height:150px;border-radius:10px}.sek2[_ngcontent-%COMP%]{width:80%;height:50px;border-radius:10px;margin-left:10%;margin-top:-10%}.sek3[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:10px}.sek4[_ngcontent-%COMP%]{height:30px;border-radius:10px}.sek5[_ngcontent-%COMP%]{height:30px;border-radius:5px}.sek6[_ngcontent-%COMP%]{height:50px;width:100%;border-radius:10px}.badgeRow[_ngcontent-%COMP%]{float:right;margin-right:10px}.address[_ngcontent-%COMP%]{float:right;margin-top:5px}.desc[_ngcontent-%COMP%]{display:block;margin-top:5px}.ddays[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.swipe[_ngcontent-%COMP%]{background-color:#fff;padding:10px}.own[_ngcontent-%COMP%]{float:right;border:1px solid #607d8b;padding:5px;border-radius:5px;font-size:14px}.dtime[_ngcontent-%COMP%]{font-size:14px;padding:10px}.avial[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.item_desc[_ngcontent-%COMP%]{display:block;margin-top:10px;color:gray;font-size:15px}ion-segment[_ngcontent-%COMP%]{--background: white}.actual_price[_ngcontent-%COMP%]{font-size:22px;display:block;margin-top:15px;font-weight:700;color:var(--ion-color-dark)}.total_price[_ngcontent-%COMP%]{font-size:13px;font-weight:500;display:block;margin-top:18px;color:#b5b4b4}.price[_ngcontent-%COMP%]{font-size:18px;display:block;margin-top:20px;font-weight:700}img[_ngcontent-%COMP%]{border-radius:5px}.topBtn[_ngcontent-%COMP%]{margin-top:15px}.quantity-field[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:70px;height:25px}.quantity-field[_ngcontent-%COMP%]   .value-button[_ngcontent-%COMP%]{border:1px solid #ddd;margin:0;width:40px;height:100%;padding:0;background:#eee;outline:none;cursor:pointer}.quantity-field[_ngcontent-%COMP%]   .value-button[_ngcontent-%COMP%]:hover{background:#e6e6e6}.quantity-field[_ngcontent-%COMP%]   .value-button[_ngcontent-%COMP%]:active{background:#d2d2d2}.quantity-field[_ngcontent-%COMP%]   .decrease-button[_ngcontent-%COMP%]{margin-right:-4px;border-radius:8px 0 0 8px;color:#d00101;font-size:25px;cursor:pointer}.quantity-field[_ngcontent-%COMP%]   .increase-button[_ngcontent-%COMP%]{margin-left:-4px;border-radius:0 8px 8px 0;color:green;font-size:25px;cursor:pointer}.number[_ngcontent-%COMP%]{border-top:1px solid #ddd;border-bottom:1px solid #ddd;text-align:center;background-color:1px solid #fff;margin:0;width:60px;height:100%;padding:0;outline:none}.address[_ngcontent-%COMP%]{--min-height: 40px !important;--padding-start: 20px;--padding-end: 20px;--background: var(--ion-color-light);width:100%}.cat_title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-top:15px}.cat_img[_ngcontent-%COMP%]{height:40px;width:200px;margin-top:5px}"]}),v})()},5864:(N,C,s)=>{s.r(C),s.d(C,{OfferPage:()=>G});var f=s(467),y=s(177),k=s(4341),c=s(4742),e=s(4438),n=s(9568),E=s(3656);function S(m,I){if(1&m){const u=e.RV6();e.j41(0,"ion-button",4),e.bIt("click",function(){e.eBV(u);const p=e.XpG();return e.Njj(p.close())}),e.EFF(1),e.k0s()}if(2&m){const u=e.XpG();e.R7$(),e.JRh(u.text.cancel)}}function M(m,I){if(1&m&&(e.j41(0,"p",8),e.EFF(1),e.k0s()),2&m){const u=e.XpG(2);e.R7$(),e.JRh(u.text.no_offer)}}function T(m,I){if(1&m){const u=e.RV6();e.j41(0,"ion-item",11),e.bIt("click",function(){const p=e.eBV(u).$implicit,R=e.XpG(3);return e.Njj(R.setOffer(p))}),e.j41(1,"ion-avatar",12),e.nrm(2,"img",13),e.k0s(),e.j41(3,"ion-label",14)(4,"b"),e.EFF(5),e.k0s(),e.j41(6,"span",15),e.EFF(7),e.k0s()()()}if(2&m){const u=I.$implicit;e.R7$(5),e.JRh(u.code),e.R7$(2),e.JRh(u.desc)}}function t(m,I){if(1&m&&(e.j41(0,"div")(1,"ion-note",9),e.EFF(2),e.k0s(),e.nrm(3,"br")(4,"br"),e.DNE(5,T,8,2,"ion-item",10),e.k0s()),2&m){const u=e.XpG(2);e.R7$(2),e.JRh(u.text.avilable_offer),e.R7$(3),e.Y8G("ngForOf",u.data)}}function A(m,I){if(1&m&&(e.j41(0,"ion-content",5),e.DNE(1,M,2,1,"p",6)(2,t,6,2,"div",7),e.k0s()),2&m){const u=e.XpG();e.R7$(),e.Y8G("ngIf",u.data&&0==u.data.length),e.R7$(),e.Y8G("ngIf",u.data&&u.data.length>0)}}let G=(()=>{var m;class I{constructor(b,p){this.otherService=b,this.navParams=p,this.data=p.get("data");const R=localStorage.getItem("app_lang");null!==R&&(this.text=JSON.parse(R),this.text=this.text.text)}ngOnInit(){}close(b=null){var p=this;return(0,f.A)(function*(){p.otherService.closeModel(b)})()}setOffer(b){var p=this;return(0,f.A)(function*(){p.otherService.closeModel(b)})()}}return(m=I).\u0275fac=function(b){return new(b||m)(e.rXU(n.G),e.rXU(E.y8))},m.\u0275cmp=e.VBU({type:m,selectors:[["app-offer"]],decls:5,vars:2,consts:[[1,"ion-no-border"],["slot","end"],["color","medium",3,"click",4,"ngIf"],["class","ion-padding",4,"ngIf"],["color","medium",3,"click"],[1,"ion-padding"],["align","center",4,"ngIf"],[4,"ngIf"],["align","center"],[2,"color","black"],["lines","none","detail","",3,"click",4,"ngFor","ngForOf"],["lines","none","detail","",3,"click"],["slot","start"],["src","assets/discount-icon.png"],[1,"ion-text-wrap"],[2,"display","block","margin-top","5px"]],template:function(b,p){1&b&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.DNE(3,S,2,1,"ion-button",2),e.k0s()()(),e.DNE(4,A,3,2,"ion-content",3)),2&b&&(e.R7$(3),e.Y8G("ngIf",p.text),e.R7$(),e.Y8G("ngIf",p.data&&p.text))},dependencies:[c.bv,c.mC,c.Jm,c.QW,c.W9,c.eU,c.uz,c.he,c.JI,c.ai,y.MD,y.Sq,y.bT,k.YN],styles:["ion-item[_ngcontent-%COMP%]{margin-top:20px;--min-height: 50px !important;border-radius:5px}ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light)}"]}),I})()},5704:(N,C,s)=>{s.r(C),s.d(C,{PaymentPage:()=>l});var f=s(467),y=s(177),k=s(4341),c=s(4742),e=s(5083),n=s(3923);const E=(0,e.F3)("Stripe",{web:()=>s.e(1651).then(s.bind(s,1651)).then(r=>new r.StripeWeb)});var S=s(1594),M=s(9350),t=s(4438),A=s(3656),G=s(9568),m=s(1626),I=s(2068);function u(r,x){if(1&r){const h=t.RV6();t.j41(0,"ion-button",4),t.bIt("click",function(){t.eBV(h);const P=t.XpG();return t.Njj(P.close())}),t.EFF(1),t.k0s()}if(2&r){const h=t.XpG();t.R7$(),t.JRh(h.text.cancel)}}function b(r,x){1&r&&t.nrm(0,"ion-spinner",13)}function p(r,x){if(1&r){const h=t.RV6();t.j41(0,"ion-item",8),t.bIt("click",function(){t.eBV(h);const P=t.XpG(2);return t.Njj(P.paymentSheet())}),t.j41(1,"ion-thumbnail",9),t.nrm(2,"img",12),t.k0s(),t.j41(3,"ion-label"),t.EFF(4),t.k0s(),t.DNE(5,b,1,0,"ion-spinner",11),t.k0s()}if(2&r){const h=t.XpG(2);t.R7$(4),t.JRh(h.text.credit),t.R7$(),t.Y8G("ngIf",1==h.payment_method)}}function R(r,x){1&r&&t.nrm(0,"ion-spinner",13)}function O(r,x){if(1&r){const h=t.RV6();t.j41(0,"ion-content",5)(1,"h3"),t.EFF(2),t.j41(3,"ion-badge",6),t.EFF(4),t.k0s()(),t.nrm(5,"br")(6,"br"),t.DNE(7,p,6,2,"ion-item",7),t.nrm(8,"br"),t.j41(9,"ion-item",8),t.bIt("click",function(){t.eBV(h);const P=t.XpG();return t.Njj(P.payWithRazorpay())}),t.j41(10,"ion-label"),t.EFF(11),t.k0s(),t.j41(12,"ion-thumbnail",9),t.nrm(13,"img",10),t.k0s(),t.DNE(14,R,1,0,"ion-spinner",11),t.k0s(),t.nrm(15,"br")(16,"br")(17,"br")(18,"br"),t.j41(19,"b"),t.EFF(20,"For stripe use these Test card detail : "),t.k0s(),t.j41(21,"p"),t.EFF(22,"Card No : 4242 4242 4242 4242"),t.k0s(),t.j41(23,"p"),t.EFF(24,"Exp. 12/25 CVV : 321"),t.k0s()()}if(2&r){const h=t.XpG();t.R7$(2),t.SpI("",h.text.select_payment_method," "),t.R7$(2),t.Lme("",h.setting.currency,"",h.data.amount,""),t.R7$(3),t.Y8G("ngIf",h.setting.stripe_key),t.R7$(4),t.SpI(" ",h.text.upi,""),t.R7$(3),t.Y8G("ngIf",2==h.payment_method)}}let l=(()=>{var r;class x{constructor(g,P,F,D){this.navParams=g,this.otherService=P,this.http=F,this.server=D,this.data=g.get("data");const $=localStorage.getItem("admin_setting"),L=localStorage.getItem("user_data");null!==$&&(this.setting=JSON.parse($)),null!==L&&(this.user=JSON.parse(L));const w=localStorage.getItem("app_lang");null!==w&&(this.text=JSON.parse(w),this.text=this.text.text),E.initialize({publishableKey:this.data.stripe_key}),this.meta={counsumer_id:778383,consumer_mac:"sdjksfhsd887f8s"},this.customizations={title:"Wallet Recharge",description:"Wallet Recharge",logo:"https://dicont.s3.amazonaws.com/static/flow-logos/flutterwave-logo.png"},this.customerDetails={name:this.user.name,email:this.user.email,phone_number:this.user.phone}}ngOnInit(){}updateWallet(g=null){var P=this;return(0,f.A)(function*(){const F={amount:P.data.amount,user_id:localStorage.getItem("user_id"),trans_id:g,payment_method:P.payment_method,notes:"Wallet Recharge"};P.server.updateWallet(F).subscribe(D=>{P.payment_method=null,P.otherService.toast(P.text.payment_added),P.close(g)})})()}close(g=null){var P=this;return(0,f.A)(function*(){P.otherService.closeModel(g)})()}httpPost(){const g={user:localStorage.getItem("user_id"),total:this.data.amount};return this.http.post(this.server.getApiUrl()+"stripePayment",g).pipe((0,S.$)())}paymentSheet(){var g=this;return(0,f.A)(function*(){g.payment_method=1;try{E.addListener(n.SQ.Completed,()=>{console.log("PaymentSheetEventsEnum.Completed")});const P=g.httpPost();console.log(P);const{paymentIntent:F,ephemeralKey:D,customer:$}=yield function T(r,x){const h="object"==typeof x;return new Promise((g,P)=>{let D,F=!1;r.subscribe({next:$=>{D=$,F=!0},error:P,complete:()=>{F?g(D):h?g(x.defaultValue):P(new M.G)}})})}(P);yield E.createPaymentSheet({paymentIntentClientSecret:F,customerId:$,customerEphemeralKeySecret:D,merchantDisplayName:g.setting.app_name});const L=yield E.presentPaymentSheet();console.log("result: ",L),L&&L.paymentResult===n.SQ.Completed?g.updateWallet(g.splitAndJoin(F)):g.otherService.toast(g.text.payment_cancel)}catch{g.otherService.toast(g.text.payment_cancel)}})()}splitAndJoin(g){const P=g.split("_").slice(0,2).join("_");return console.log(P),P}payWithRazorpay(){var g=this;return(0,f.A)(function*(){RazorpayCheckout.open({description:"Pay Now",image:"https://cdn.iconscout.com/icon/free/png-512/bhim-3-69845.png",currency:"INR",key:g.setting.razor_key,amount:100*g.data.amount,name:g.user.name,prefill:{email:g.user.email,contact:g.user.phone},theme:{color:"#2196f3"},modal:{ondismiss:function(){alert("dismissed")}}},$=>{g.updateWallet(Date.now())},$=>{g.otherService.toast(g.text.payment_cancel)})})()}}return(r=x).\u0275fac=function(g){return new(g||r)(t.rXU(A.y8),t.rXU(G.G),t.rXU(m.Qq),t.rXU(I.Z))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-payment"]],decls:5,vars:2,consts:[[1,"ion-no-border"],["slot","end"],["color","medium",3,"click",4,"ngIf"],["class","ion-padding",4,"ngIf"],["color","medium",3,"click"],[1,"ion-padding"],["color","dark",2,"float","right","margin-top","5px"],["lines","none","detail","",3,"click",4,"ngIf"],["lines","none","detail","",3,"click"],["slot","start"],["src","assets/razor.png"],["name","crescent","slot","end",4,"ngIf"],["src","assets/stripe.png"],["name","crescent","slot","end"]],template:function(g,P){1&g&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t.DNE(3,u,2,1,"ion-button",2),t.k0s()()(),t.DNE(4,O,25,6,"ion-content",3)),2&g&&(t.R7$(3),t.Y8G("ngIf",P.text),t.R7$(),t.Y8G("ngIf",P.data&&P.text))},dependencies:[c.bv,c.In,c.Jm,c.QW,c.W9,c.eU,c.uz,c.he,c.w2,c.Zx,c.ai,y.MD,y.bT,k.YN],styles:["ion-item[_ngcontent-%COMP%]{border-radius:5px;--min-height:60px;border:1px solid #f1f1f1}ion-toolbar[_ngcontent-%COMP%]{--background: white}ion-thumbnail[_ngcontent-%COMP%]{width:32px;height:32px}"]}),x})()},1208:(N,C,s)=>{s.d(C,{u:()=>e});var f=s(467),y=s(7762),k=s(4438),c=s(3158);let e=(()=>{var n;class E{constructor(M){this.nativeGeocoder=M}getLocation(){const M=y.L.getCurrentPosition();return console.log("data ",M),M}getMap(){return(0,f.A)(function*(){const M=yield y.L.getCurrentPosition();return{center:yield new google.maps.LatLng(M.coords.latitude,M.coords.longitude),zoom:16,mapTypeId:google.maps.MapTypeId.ROADMAP}})()}getAddress(M,T){var t=this;return(0,f.A)(function*(){return yield t.nativeGeocoder.reverseGeocode(M,T,{useLocale:!0,maxResults:5}).then(function(){var G=(0,f.A)(function*(m){t.address="";let I=[];for(let[u,b]of Object.entries(m[0]))b.length>0&&I.push(b);I.reverse();for(let u of I)t.address+=u+", ";t.address=t.address.slice(0,-2)});return function(m){return G.apply(this,arguments)}}()).catch(G=>{}),console.log("Address  "+t.address),t.address})()}}return(n=E).\u0275fac=function(M){return new(M||n)(k.KVO(c.K))},n.\u0275prov=k.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),E})()}}]);