"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9252],{9252:(N,u,_)=>{_.r(u),_.d(u,{DatesPage:()=>X});var l=_(467),d=_(177),m=_(4341),r=_(4742),t=_(4438),k=_(2068),h=_(9568);const b=()=>[0,1];function x(e,a){if(1&e&&(t.j41(0,"a",7),t.EFF(1),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.JRh(n.text.stop_sub)}}function D(e,a){if(1&e){const n=t.RV6();t.j41(0,"ion-col",13)(1,"ion-checkbox",24),t.bIt("ionChange",function(i){t.eBV(n);const c=t.XpG().$implicit,s=t.XpG(2);return t.Njj(s.setValue(i,c.id))}),t.EFF(2),t.k0s()()}if(2&e){const n=t.XpG().$implicit;t.R7$(2),t.JRh(n.date)}}function R(e,a){if(1&e){const n=t.RV6();t.j41(0,"a",26),t.bIt("click",function(){t.eBV(n);const i=t.XpG(2).$implicit,c=t.XpG(2);return t.Njj(c.viewimg(i.img))}),t.EFF(1,"View Image"),t.k0s()}}function P(e,a){if(1&e&&(t.j41(0,"ion-col",13),t.EFF(1),t.DNE(2,R,2,0,"a",25),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.SpI("",n.date," "),t.R7$(),t.Y8G("ngIf",n.img)}}function I(e,a){1&e&&(t.j41(0,"span"),t.EFF(1,"---"),t.k0s())}function E(e,a){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&e){const n=t.XpG(3);t.R7$(),t.JRh(n.text.on_way)}}function v(e,a){1&e&&(t.j41(0,"span",27),t.nrm(1,"ion-icon",28),t.k0s())}function $(e,a){1&e&&(t.j41(0,"span",29),t.nrm(1,"ion-icon",30),t.k0s())}function j(e,a){1&e&&(t.j41(0,"span",31),t.nrm(1,"ion-icon",30),t.k0s())}function y(e,a){if(1&e){const n=t.RV6();t.j41(0,"ion-col",32),t.bIt("click",function(){t.eBV(n);const i=t.XpG().$implicit,c=t.XpG(2);return t.Njj(c.undo(i.id))}),t.EFF(1),t.k0s()}if(2&e){const n=t.XpG(3);t.R7$(),t.JRh(n.text.reorder)}}function F(e,a){if(1&e&&(t.j41(0,"ion-row",17),t.DNE(1,D,3,1,"ion-col",18)(2,P,3,2,"ion-col",18),t.j41(3,"ion-col",14),t.DNE(4,I,2,0,"span",19)(5,E,2,1,"span",19)(6,v,2,0,"span",20)(7,$,2,0,"span",21)(8,j,2,0,"span",22),t.k0s(),t.DNE(9,y,2,1,"ion-col",23),t.k0s()),2&e){const n=a.$implicit;t.R7$(),t.Y8G("ngIf",n.mark&&0==n.status),t.R7$(),t.Y8G("ngIf",!n.mark||0!=n.status),t.R7$(2),t.Y8G("ngIf",0==n.status&&!n.not),t.R7$(),t.Y8G("ngIf",1==n.status&&!n.not),t.R7$(),t.Y8G("ngIf",2==n.status),t.R7$(),t.Y8G("ngIf",3==n.status),t.R7$(),t.Y8G("ngIf",n.not),t.R7$(),t.Y8G("ngIf",3==n.status&&n.mark)}}function G(e,a){if(1&e){const n=t.RV6();t.j41(0,"ion-button",38),t.bIt("click",function(){t.eBV(n);const i=t.XpG(3);return t.Njj(i.cancel())}),t.EFF(1),t.k0s()}if(2&e){const n=t.XpG(3);t.R7$(),t.JRh(n.text.cancel)}}function C(e,a){if(1&e){const n=t.RV6();t.j41(0,"ion-button",39),t.bIt("click",function(){t.eBV(n);const i=t.XpG(3);return t.Njj(i.stop())}),t.EFF(1),t.k0s()}if(2&e){const n=t.XpG(3);t.R7$(),t.JRh(n.text.stop_sub)}}function T(e,a){1&e&&(t.j41(0,"ion-button",40),t.nrm(1,"ion-spinner",41),t.k0s())}function O(e,a){if(1&e&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",3),t.DNE(3,G,2,1,"ion-button",33),t.k0s()()(),t.j41(4,"div",8)(5,"p",34),t.EFF(6),t.k0s(),t.j41(7,"ion-row")(8,"ion-col",35)(9,"b"),t.EFF(10),t.k0s()(),t.j41(11,"ion-col",35),t.EFF(12),t.k0s()(),t.j41(13,"ion-row")(14,"ion-col",35)(15,"b"),t.EFF(16),t.k0s()(),t.j41(17,"ion-col",35),t.EFF(18),t.k0s()(),t.nrm(19,"br"),t.DNE(20,C,2,1,"ion-button",36)(21,T,2,0,"ion-button",37),t.k0s()),2&e){const n=t.XpG(2);t.R7$(3),t.Y8G("ngIf",n.text),t.R7$(3),t.JRh(n.text.cancel_sub),t.R7$(4),t.JRh(n.text.pending_days),t.R7$(2),t.JRh(n.data.pending.count),t.R7$(4),t.JRh(n.text.return_amount),t.R7$(2),t.Lme("",n.data.currency,"",n.data.pending.amount,""),t.R7$(2),t.Y8G("ngIf",!n.hasClick),t.R7$(),t.Y8G("ngIf",n.hasClick)}}function w(e,a){if(1&e&&(t.j41(0,"ion-content",8)(1,"ion-grid",9)(2,"b",10),t.EFF(3),t.k0s(),t.nrm(4,"br")(5,"br"),t.j41(6,"small",11),t.EFF(7),t.k0s(),t.nrm(8,"br")(9,"br"),t.j41(10,"ion-row",12)(11,"ion-col",13)(12,"b"),t.EFF(13),t.k0s()(),t.j41(14,"ion-col",14)(15,"b"),t.EFF(16),t.k0s()()(),t.DNE(17,F,10,8,"ion-row",15),t.j41(18,"ion-modal",16),t.DNE(19,O,22,9,"ng-template"),t.k0s()()()),2&e){const n=t.XpG();t.R7$(),t.Y8G("fixed",!0),t.R7$(2),t.Lme("",n.data.item," - ",n.text.del_cal,""),t.R7$(4),t.JRh(n.text.date_desc),t.R7$(6),t.JRh(n.text.date),t.R7$(3),t.JRh(n.text.status),t.R7$(),t.Y8G("ngForOf",n.data.dates),t.R7$(),t.Y8G("initialBreakpoint",1)("breakpoints",t.lJ4(9,b))}}function M(e,a){if(1&e){const n=t.RV6();t.j41(0,"ion-button",44),t.bIt("click",function(){t.eBV(n);const i=t.XpG(2);return t.Njj(i.mark())}),t.EFF(1),t.j41(2,"span",45),t.nrm(3,"ion-icon",46),t.k0s()()}if(2&e){const n=t.XpG(2);t.R7$(),t.SpI("",n.text.dont_send," ")}}function S(e,a){1&e&&(t.j41(0,"ion-button",47),t.nrm(1,"ion-spinner",41),t.k0s())}function Y(e,a){if(1&e&&(t.j41(0,"ion-footer",0)(1,"ion-toolbar",1),t.DNE(2,M,4,1,"ion-button",42)(3,S,2,0,"ion-button",43),t.k0s()()),2&e){const n=t.XpG();t.R7$(2),t.Y8G("ngIf",!n.hasClick),t.R7$(),t.Y8G("ngIf",n.hasClick)}}let X=(()=>{var e;class a{constructor(o,i){this.server=o,this.otherService=i,this.fakeData=[1,2,3,4,5,6],this.array=[],this.hasClick=!1;const c=localStorage.getItem("sub_data");null!==c&&(this.data=JSON.parse(c),console.log(this.data));const s=localStorage.getItem("app_lang");null!==s&&(this.text=JSON.parse(s),this.text=this.text.text)}ngOnInit(){}mark(){var o=this;return(0,l.A)(function*(){o.otherService.vacationModeConfirm("Order Cancellation & Refund Update",`Your order will be canceled in ${o.array.length} days, and the refunded amount ${o.data.currency}${o.array.length*o.data.price} will be added to your wallet. Thank you.`).then(s=>{if("ok"===s){o.hasClick=!0;const g={id:o.array,user_id:localStorage.getItem("user_id")};o.server.mark(g).subscribe(f=>{o.hasClick=!1,o.otherService.triggerLoadData.emit(),o.otherService.toast("Delivery dates updated successfully. "+f.data+" credited in your wallet."),o.otherService.redirect("subscription")})}})})()}undo(o){var i=this;return(0,l.A)(function*(){i.otherService.vacationModeConfirm("Reorder Confirmation",`The amount ${i.data.currency}${i.data.price} will be directly debited from your wallet balance. Thank you.`).then(g=>{"ok"===g&&(localStorage.getItem("user_id"),i.otherService.showLoading(),i.server.undo(o).subscribe(p=>{i.otherService.hideLoading(),"done"==p.msg?(i.otherService.toast("Delivery dates updated successfully. "+p.data+" debited from your wallet."),i.otherService.redirect("subscription")):i.otherService.toast(p.error),i.otherService.triggerLoadData.emit()}))})})()}setValue(o,i){if(1==o.detail.checked)this.array.push(i);else{let c=this.array.indexOf(i);-1!==c&&this.array.splice(c,1)}}cancel(){this.modal.dismiss(null,"cancel")}stop(){var o=this;return(0,l.A)(function*(){o.otherService.confirm().then(i=>{"ok"===i&&(o.hasClick=!0,o.server.stop(o.data.detail_id).subscribe(c=>{o.hasClick=!1,o.cancel(),o.otherService.toast(o.text.sub_stop),o.otherService.redirect("account")}))})})()}viewimg(o){return(0,l.A)(function*(){})()}}return(e=a).\u0275fac=function(o){return new(o||e)(t.rXU(k.Z),t.rXU(h.G))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-dates"]],viewQuery:function(o,i){if(1&o&&t.GBs(r.Sb,5),2&o){let c;t.mGM(c=t.lsd())&&(i.modal=c.first)}},decls:8,vars:3,consts:[[1,"ion-no-border"],["color","dark"],["slot","start"],["slot","end"],["style","color:white !important;margin-right: 10px;","id","open-modal",4,"ngIf"],["class","ion-padding",4,"ngIf"],["class","ion-no-border",4,"ngIf"],["id","open-modal",2,"color","white !important","margin-right","10px"],[1,"ion-padding"],[3,"fixed"],[2,"font-size","18px","color","black"],[2,"color","gray"],[1,"head"],["size","4"],["size","8",2,"text-align","right"],["class","detail",4,"ngFor","ngForOf"],["trigger","open-modal",3,"initialBreakpoint","breakpoints"],[1,"detail"],["size","4",4,"ngIf"],[4,"ngIf"],["style","color:green",4,"ngIf"],["style","color:orange",4,"ngIf"],["style","color:red",4,"ngIf"],["size","12","style","font-size: 12px;color:blue;cursor: pointer;",3,"click",4,"ngIf"],["labelPlacement","end","color","dark",3,"ionChange"],["style","margin-top: 10px;display: block;",3,"click",4,"ngIf"],[2,"margin-top","10px","display","block",3,"click"],[2,"color","green"],["name","checkmark-circle-outline",1,"f22"],[2,"color","orange"],["name","close-circle-outline",1,"f22"],[2,"color","red"],["size","12",2,"font-size","12px","color","blue","cursor","pointer",3,"click"],[3,"click",4,"ngIf"],[2,"font-size","15px"],["size","6"],["color","dark","expand","block","mode","ios",3,"click",4,"ngIf"],["color","dark","expand","block","mode","ios",4,"ngIf"],[3,"click"],["color","dark","expand","block","mode","ios",3,"click"],["color","dark","expand","block","mode","ios"],["name","crescent"],["expand","block","color","dark","mode","ios",3,"click",4,"ngIf"],["expand","block","color","dark","mode","ios",4,"ngIf"],["expand","block","color","dark","mode","ios",3,"click"],[2,"margin-left","10px","margin-top","5px"],["name","arrow-forward-outline"],["expand","block","color","dark","mode","ios"]],template:function(o,i){1&o&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),t.nrm(3,"ion-back-button"),t.k0s(),t.j41(4,"ion-buttons",3),t.DNE(5,x,2,1,"a",4),t.k0s()()(),t.DNE(6,w,20,10,"ion-content",5)(7,Y,4,2,"ion-footer",6)),2&o&&(t.R7$(5),t.Y8G("ngIf",i.text),t.R7$(),t.Y8G("ngIf",i.data&&i.text),t.R7$(),t.Y8G("ngIf",i.text&&i.array&&i.array.length>0))},dependencies:[r.bv,r.Jm,r.QW,r.eY,r.hU,r.W9,r.M0,r.lO,r.eU,r.iq,r.ln,r.w2,r.ai,r.Sb,r.hB,r.el,d.MD,d.Sq,d.bT,m.YN],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-light)}.head[_ngcontent-%COMP%]{background-color:#fff;padding:10px}.detail[_ngcontent-%COMP%]{background-color:#fff;padding:10px;margin-top:5px}.block[_ngcontent-%COMP%]{width:100%;height:300px}ion-modal[_ngcontent-%COMP%]{--height: auto}ion-modal[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{border-bottom:1px solid #efefef;padding:10px}ion-checkbox[_ngcontent-%COMP%]{--background: white !important}ion-icon[_ngcontent-%COMP%]{color:#fff}b[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{color:#000}ion-col[_ngcontent-%COMP%]{color:#000}.f22[_ngcontent-%COMP%]{font-size:22px}"]}),a})()}}]);