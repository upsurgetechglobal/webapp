"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4014],{4014:(E,p,s)=>{s.r(p),s.d(p,{SignupPage:()=>C});var _=s(467),d=s(177),c=s(4341),i=s(4742),h=s(3168),e=s(4438),f=s(2068),b=s(9568),x=s(7414);function S(r,g){1&r&&e.nrm(0,"img",25)}function P(r,g){if(1&r&&(e.j41(0,"ion-button",26),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.text.signup," ")}}function v(r,g){1&r&&(e.j41(0,"ion-button",27),e.nrm(1,"ion-spinner",28),e.k0s())}function M(r,g){if(1&r){const t=e.RV6();e.j41(0,"ion-content",4)(1,"ion-grid")(2,"ion-row"),e.nrm(3,"ion-col",5),e.j41(4,"ion-col",6)(5,"ion-card",7)(6,"ion-card-content")(7,"div",8),e.DNE(8,S,1,0,"img",9),e.k0s(),e.j41(9,"h2",10),e.EFF(10),e.k0s(),e.j41(11,"p",11),e.EFF(12),e.k0s(),e.j41(13,"form",12,0),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.sdS(14),a=e.XpG();return e.Njj(a.signup(n.value))}),e.j41(15,"ion-row")(16,"ion-col",6),e.nrm(17,"ion-input",13),e.k0s(),e.j41(18,"ion-col",6),e.nrm(19,"ion-input",14),e.k0s()(),e.j41(20,"ion-row")(21,"ion-col",6),e.nrm(22,"ion-input",15),e.k0s(),e.j41(23,"ion-col",6),e.nrm(24,"ion-input",16),e.k0s()(),e.j41(25,"ion-row")(26,"ion-col",17),e.nrm(27,"ion-input",18),e.k0s()(),e.j41(28,"ion-item",19)(29,"ion-checkbox",20),e.bIt("ionChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.termAgree())}),e.k0s(),e.j41(30,"ion-label",21),e.EFF(31),e.j41(32,"a",22),e.EFF(33),e.k0s()()(),e.DNE(34,P,2,1,"ion-button",23)(35,v,2,0,"ion-button",24),e.k0s()()()(),e.nrm(36,"ion-col",5),e.k0s()()()}if(2&r){const t=e.XpG();e.Y8G("fullscreen",!0),e.R7$(4),e.Y8G("size",t.isMobile?"11":"8"),e.R7$(4),e.Y8G("ngIf",!t.isMobile),e.R7$(2),e.JRh(t.text.signup_title),e.R7$(2),e.JRh(t.text.signup_desc),e.R7$(4),e.Y8G("size",t.isMobile?"12":"6"),e.R7$(),e.FS9("label",t.text.name),e.FS9("helperText",t.name_error),e.Y8G("disabled",t.hasClick),e.R7$(),e.Y8G("size",t.isMobile?"12":"6"),e.R7$(),e.FS9("label",t.text.email),e.FS9("helperText",t.email_error),e.Y8G("disabled",t.hasClick),e.R7$(2),e.Y8G("size",t.isMobile?"12":"6"),e.R7$(),e.FS9("label",t.text.phone),e.FS9("helperText",t.phone_error),e.Y8G("disabled",t.hasClick),e.R7$(),e.Y8G("size",t.isMobile?"12":"6"),e.R7$(),e.FS9("label",t.text.password),e.FS9("helperText",t.password_error),e.Y8G("disabled",t.hasClick),e.R7$(3),e.FS9("label",t.text.ref_code),e.Y8G("disabled",t.hasClick),e.R7$(4),e.SpI("",t.text.iagree," "),e.R7$(2),e.JRh(t.text.term),e.R7$(),e.Y8G("ngIf",!t.hasClick),e.R7$(),e.Y8G("ngIf",t.hasClick)}}let C=(()=>{var r;class g{constructor(o,n,a,l){this.server=o,this.otherService=n,this.router=a,this.modalCtrl=l,this.hasClick=!1,this.term=!1,this.isMobile=!1,this.password="",this.passwordError="";const m=localStorage.getItem("admin_setting");null!==m&&(this.setting=JSON.parse(m));const u=localStorage.getItem("app_lang");null!==u&&(this.text=JSON.parse(u),this.text=this.text.text),this.checkScreenSize()}validatePassword(){this.passwordError=this.password.match(/^(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$/)?"":"Password must contain at least one uppercase letter, one number, and one special character."}onResize(o){this.checkScreenSize()}checkScreenSize(){this.isMobile=window.innerWidth<=768}ionViewWillEnter(){this.otherService.statusBar("#ffffff",1)}ngOnInit(){}signup(o){var n=this;return(0,_.A)(function*(){let a=n.otherService.formValidation(o);if(n.email_error=a.email,n.phone_error=a.phone,n.password_error=a.password,n.name_error=a.name,!n.term)return n.otherService.toast(n.text.agree_term);!n.email_error&&!n.phone_error&&!n.password_error&&!n.name_error&&(n.hasClick=!0,n.server.signup(o).subscribe(l=>{n.hasClick=!1,"done"!=l.msg?n.otherService.toast(l.error):l.otp>0?(localStorage.setItem("user_res",JSON.stringify(l)),n.otherService.redirect("otp")):(localStorage.setItem("user_id",l.user.id),localStorage.setItem("user_data",JSON.stringify(l.user)),n.otherService.toast(n.text.account_created),localStorage.getItem("cart_no")&&null!=localStorage.getItem("cart_no")?n.otherService.redirect("cart","root"):n.otherService.redirect("account","root"))}))})()}openTermsModal(){var o=this;return(0,_.A)(function*(){const n=yield o.modalCtrl.create({component:h.PrivacyPolicyPage,animated:!0});yield n.present();const{data:a}=yield n.onWillDismiss();localStorage.setItem("user_location",a.name)})()}termAgree(){this.term=1!=this.term}}return(r=g).\u0275fac=function(o){return new(o||r)(e.rXU(f.Z),e.rXU(b.G),e.rXU(x.Ix),e.rXU(i.W3))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-signup"]],hostBindings:function(o,n){1&o&&e.bIt("resize",function(l){return n.onResize(l)},!1,e.tSv)},decls:5,vars:1,consts:[["form","ngForm"],[1,"ion-no-border"],["color","dark"],["class","ion-padding signup-content",3,"fullscreen",4,"ngIf"],[1,"ion-padding","signup-content",3,"fullscreen"],["size","2"],[3,"size"],[1,"signup-card"],[1,"logo-container"],["src","assets/l.svg","class","signup-image",4,"ngIf"],[1,"signup-title"],[1,"signup-description"],[3,"ngSubmit"],["label-placement","floating","fill","outline","type","text","name","name","ngModel","","required","","mode","md",3,"label","helperText","disabled"],["label-placement","floating","fill","outline","type","email","name","email","ngModel","","required","","mode","md",3,"label","helperText","disabled"],["label-placement","floating","fill","outline","type","tel","name","phone","ngModel","","required","","mode","md","oninput","this.value = this.value.replace(/[^0-9]/g, '').replace(/(\\..*?)\\..*/g, '$1');","maxlength","10",3,"label","helperText","disabled"],["label-placement","floating","fill","outline","type","password","name","password","ngModel","","required","","mode","md",3,"label","helperText","disabled"],["size","12"],["label-placement","floating","fill","outline","type","text","name","rcode","ngModel","","mode","md",3,"label","disabled"],["lines","none",1,"terms-item"],["slot","start","mode","ios",3,"ionChange"],[1,"ion-text-wrap"],["href","/privacy-policy","target","_blank"],["mode","ios","expand","block","color","dark","type","submit",4,"ngIf"],["mode","ios","expand","block","color","dark","type","button",4,"ngIf"],["src","assets/l.svg",1,"signup-image"],["mode","ios","expand","block","color","dark","type","submit"],["mode","ios","expand","block","color","dark","type","button"],["name","crescent"]],template:function(o,n){1&o&&(e.j41(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-buttons"),e.nrm(3,"ion-back-button"),e.k0s()()(),e.DNE(4,M,37,27,"ion-content",3)),2&o&&(e.R7$(4),e.Y8G("ngIf",n.setting&&n.text))},dependencies:[i.bv,i.Jm,i.QW,i.b_,i.I9,i.eY,i.hU,i.W9,i.lO,i.eU,i.$w,i.uz,i.he,i.ln,i.w2,i.ai,i.hB,i.Gw,i.el,d.MD,d.bT,c.YN,c.qT,c.BC,c.cb,c.YS,c.tU,c.vS,c.cV],styles:[".signup-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:#f4f4f4}.signup-card[_ngcontent-%COMP%]{width:100%;border-radius:12px;box-shadow:0 4px 10px #0003;background:#fff}.logo-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:10px}.signup-image[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:contain}.signup-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#333;margin-bottom:5px;text-align:center}.signup-description[_ngcontent-%COMP%]{font-size:14px;color:gray;margin-bottom:15px;text-align:center}.input-item[_ngcontent-%COMP%]{--min-height: 56px;width:100%;margin-bottom:10px}ion-input[_ngcontent-%COMP%]{font-weight:600}.terms-item[_ngcontent-%COMP%]{font-size:14px;display:flex;align-items:center}.terms-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;cursor:pointer}ion-button[_ngcontent-%COMP%]{margin-top:10px}"]}),g})()}}]);