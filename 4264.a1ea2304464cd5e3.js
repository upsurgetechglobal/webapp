"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4264,5704,5864],{3923:(A,R,l)=>{l.d(R,{$o:()=>b,_G:()=>v,Vq:()=>S,SQ:()=>s});var b=function(o){return o.Loaded="applePayLoaded",o.FailedToLoad="applePayFailedToLoad",o.Completed="applePayCompleted",o.Canceled="applePayCanceled",o.Failed="applePayFailed",o.DidSelectShippingContact="applePayDidSelectShippingContact",o.DidCreatePaymentMethod="applePayDidCreatePaymentMethod",o}(b||{}),v=function(o){return o.Loaded="googlePayLoaded",o.FailedToLoad="googlePayFailedToLoad",o.Completed="googlePayCompleted",o.Canceled="googlePayCanceled",o.Failed="googlePayFailed",o}(v||{}),S=function(o){return o.Loaded="paymentFlowLoaded",o.FailedToLoad="paymentFlowFailedToLoad",o.Opened="paymentFlowOpened",o.Created="paymentFlowCreated",o.Completed="paymentFlowCompleted",o.Canceled="paymentFlowCanceled",o.Failed="paymentFlowFailed",o}(S||{}),s=function(o){return o.Loaded="paymentSheetLoaded",o.FailedToLoad="paymentSheetFailedToLoad",o.Completed="paymentSheetCompleted",o.Canceled="paymentSheetCanceled",o.Failed="paymentSheetFailed",o}(s||{})},5864:(A,R,l)=>{l.r(R),l.d(R,{OfferPage:()=>$});var b=l(467),v=l(177),S=l(4341),s=l(4742),o=l(4438),D=l(9568),I=l(3656);function M(g,y){if(1&g){const m=o.RV6();o.j41(0,"ion-button",4),o.bIt("click",function(){o.eBV(m);const x=o.XpG();return o.Njj(x.close())}),o.EFF(1),o.k0s()}if(2&g){const m=o.XpG();o.R7$(),o.JRh(m.text.cancel)}}function T(g,y){if(1&g&&(o.j41(0,"p",8),o.EFF(1),o.k0s()),2&g){const m=o.XpG(2);o.R7$(),o.JRh(m.text.no_offer)}}function t(g,y){if(1&g){const m=o.RV6();o.j41(0,"ion-item",11),o.bIt("click",function(){const x=o.eBV(m).$implicit,O=o.XpG(3);return o.Njj(O.setOffer(x))}),o.j41(1,"ion-avatar",12),o.nrm(2,"img",13),o.k0s(),o.j41(3,"ion-label",14)(4,"b"),o.EFF(5),o.k0s(),o.j41(6,"span",15),o.EFF(7),o.k0s()()()}if(2&g){const m=y.$implicit;o.R7$(5),o.JRh(m.code),o.R7$(2),o.JRh(m.desc)}}function a(g,y){if(1&g&&(o.j41(0,"div")(1,"ion-note",9),o.EFF(2),o.k0s(),o.nrm(3,"br")(4,"br"),o.DNE(5,t,8,2,"ion-item",10),o.k0s()),2&g){const m=o.XpG(2);o.R7$(2),o.JRh(m.text.avilable_offer),o.R7$(3),o.Y8G("ngForOf",m.data)}}function G(g,y){if(1&g&&(o.j41(0,"ion-content",5),o.DNE(1,T,2,1,"p",6)(2,a,6,2,"div",7),o.k0s()),2&g){const m=o.XpG();o.R7$(),o.Y8G("ngIf",m.data&&0==m.data.length),o.R7$(),o.Y8G("ngIf",m.data&&m.data.length>0)}}let $=(()=>{var g;class y{constructor(k,x){this.otherService=k,this.navParams=x,this.data=x.get("data");const O=localStorage.getItem("app_lang");null!==O&&(this.text=JSON.parse(O),this.text=this.text.text)}ngOnInit(){}close(k=null){var x=this;return(0,b.A)(function*(){x.otherService.closeModel(k)})()}setOffer(k){var x=this;return(0,b.A)(function*(){x.otherService.closeModel(k)})()}}return(g=y).\u0275fac=function(k){return new(k||g)(o.rXU(D.G),o.rXU(I.y8))},g.\u0275cmp=o.VBU({type:g,selectors:[["app-offer"]],decls:5,vars:2,consts:[[1,"ion-no-border"],["slot","end"],["color","medium",3,"click",4,"ngIf"],["class","ion-padding",4,"ngIf"],["color","medium",3,"click"],[1,"ion-padding"],["align","center",4,"ngIf"],[4,"ngIf"],["align","center"],[2,"color","black"],["lines","none","detail","",3,"click",4,"ngFor","ngForOf"],["lines","none","detail","",3,"click"],["slot","start"],["src","assets/discount-icon.png"],[1,"ion-text-wrap"],[2,"display","block","margin-top","5px"]],template:function(k,x){1&k&&(o.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),o.DNE(3,M,2,1,"ion-button",2),o.k0s()()(),o.DNE(4,G,3,2,"ion-content",3)),2&k&&(o.R7$(3),o.Y8G("ngIf",x.text),o.R7$(),o.Y8G("ngIf",x.data&&x.text))},dependencies:[s.bv,s.mC,s.Jm,s.QW,s.W9,s.eU,s.uz,s.he,s.JI,s.ai,v.MD,v.Sq,v.bT,S.YN],styles:["ion-item[_ngcontent-%COMP%]{margin-top:20px;--min-height: 50px !important;border-radius:5px}ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light)}"]}),y})()},5704:(A,R,l)=>{l.r(R),l.d(R,{PaymentPage:()=>X});var b=l(467),v=l(177),S=l(4341),s=l(4742),o=l(5083),D=l(3923);const I=(0,o.F3)("Stripe",{web:()=>l.e(1651).then(l.bind(l,1651)).then(f=>new f.StripeWeb)});var M=l(1594),T=l(9350),a=l(4438),G=l(3656),$=l(9568),g=l(1626),y=l(2068);function m(f,C){if(1&f){const h=a.RV6();a.j41(0,"ion-button",4),a.bIt("click",function(){a.eBV(h);const _=a.XpG();return a.Njj(_.close())}),a.EFF(1),a.k0s()}if(2&f){const h=a.XpG();a.R7$(),a.JRh(h.text.cancel)}}function k(f,C){1&f&&a.nrm(0,"ion-spinner",13)}function x(f,C){if(1&f){const h=a.RV6();a.j41(0,"ion-item",8),a.bIt("click",function(){a.eBV(h);const _=a.XpG(2);return a.Njj(_.paymentSheet())}),a.j41(1,"ion-thumbnail",9),a.nrm(2,"img",12),a.k0s(),a.j41(3,"ion-label"),a.EFF(4),a.k0s(),a.DNE(5,k,1,0,"ion-spinner",11),a.k0s()}if(2&f){const h=a.XpG(2);a.R7$(4),a.JRh(h.text.credit),a.R7$(),a.Y8G("ngIf",1==h.payment_method)}}function O(f,C){1&f&&a.nrm(0,"ion-spinner",13)}function B(f,C){if(1&f){const h=a.RV6();a.j41(0,"ion-content",5)(1,"h3"),a.EFF(2),a.j41(3,"ion-badge",6),a.EFF(4),a.k0s()(),a.nrm(5,"br")(6,"br"),a.DNE(7,x,6,2,"ion-item",7),a.nrm(8,"br"),a.j41(9,"ion-item",8),a.bIt("click",function(){a.eBV(h);const _=a.XpG();return a.Njj(_.payWithRazorpay())}),a.j41(10,"ion-label"),a.EFF(11),a.k0s(),a.j41(12,"ion-thumbnail",9),a.nrm(13,"img",10),a.k0s(),a.DNE(14,O,1,0,"ion-spinner",11),a.k0s(),a.nrm(15,"br")(16,"br")(17,"br")(18,"br"),a.j41(19,"b"),a.EFF(20,"For stripe use these Test card detail : "),a.k0s(),a.j41(21,"p"),a.EFF(22,"Card No : 4242 4242 4242 4242"),a.k0s(),a.j41(23,"p"),a.EFF(24,"Exp. 12/25 CVV : 321"),a.k0s()()}if(2&f){const h=a.XpG();a.R7$(2),a.SpI("",h.text.select_payment_method," "),a.R7$(2),a.Lme("",h.setting.currency,"",h.data.amount,""),a.R7$(3),a.Y8G("ngIf",h.setting.stripe_key),a.R7$(4),a.SpI(" ",h.text.upi,""),a.R7$(3),a.Y8G("ngIf",2==h.payment_method)}}let X=(()=>{var f;class C{constructor(d,_,F,P){this.navParams=d,this.otherService=_,this.http=F,this.server=P,this.data=d.get("data");const j=localStorage.getItem("admin_setting"),E=localStorage.getItem("user_data");null!==j&&(this.setting=JSON.parse(j)),null!==E&&(this.user=JSON.parse(E));const w=localStorage.getItem("app_lang");null!==w&&(this.text=JSON.parse(w),this.text=this.text.text),I.initialize({publishableKey:this.data.stripe_key}),this.meta={counsumer_id:778383,consumer_mac:"sdjksfhsd887f8s"},this.customizations={title:"Wallet Recharge",description:"Wallet Recharge",logo:"https://dicont.s3.amazonaws.com/static/flow-logos/flutterwave-logo.png"},this.customerDetails={name:this.user.name,email:this.user.email,phone_number:this.user.phone}}ngOnInit(){}updateWallet(d=null){var _=this;return(0,b.A)(function*(){const F={amount:_.data.amount,user_id:localStorage.getItem("user_id"),trans_id:d,payment_method:_.payment_method,notes:"Wallet Recharge"};_.server.updateWallet(F).subscribe(P=>{_.payment_method=null,_.otherService.toast(_.text.payment_added),_.close(d)})})()}close(d=null){var _=this;return(0,b.A)(function*(){_.otherService.closeModel(d)})()}httpPost(){const d={user:localStorage.getItem("user_id"),total:this.data.amount};return this.http.post(this.server.getApiUrl()+"stripePayment",d).pipe((0,M.$)())}paymentSheet(){var d=this;return(0,b.A)(function*(){d.payment_method=1;try{I.addListener(D.SQ.Completed,()=>{console.log("PaymentSheetEventsEnum.Completed")});const _=d.httpPost();console.log(_);const{paymentIntent:F,ephemeralKey:P,customer:j}=yield function t(f,C){const h="object"==typeof C;return new Promise((d,_)=>{let P,F=!1;f.subscribe({next:j=>{P=j,F=!0},error:_,complete:()=>{F?d(P):h?d(C.defaultValue):_(new T.G)}})})}(_);yield I.createPaymentSheet({paymentIntentClientSecret:F,customerId:j,customerEphemeralKeySecret:P,merchantDisplayName:d.setting.app_name});const E=yield I.presentPaymentSheet();console.log("result: ",E),E&&E.paymentResult===D.SQ.Completed?d.updateWallet(d.splitAndJoin(F)):d.otherService.toast(d.text.payment_cancel)}catch{d.otherService.toast(d.text.payment_cancel)}})()}splitAndJoin(d){const _=d.split("_").slice(0,2).join("_");return console.log(_),_}payWithRazorpay(){var d=this;return(0,b.A)(function*(){RazorpayCheckout.open({description:"Pay Now",image:"https://cdn.iconscout.com/icon/free/png-512/bhim-3-69845.png",currency:"INR",key:d.setting.razor_key,amount:100*d.data.amount,name:d.user.name,prefill:{email:d.user.email,contact:d.user.phone},theme:{color:"#2196f3"},modal:{ondismiss:function(){alert("dismissed")}}},j=>{d.updateWallet(Date.now())},j=>{d.otherService.toast(d.text.payment_cancel)})})()}}return(f=C).\u0275fac=function(d){return new(d||f)(a.rXU(G.y8),a.rXU($.G),a.rXU(g.Qq),a.rXU(y.Z))},f.\u0275cmp=a.VBU({type:f,selectors:[["app-payment"]],decls:5,vars:2,consts:[[1,"ion-no-border"],["slot","end"],["color","medium",3,"click",4,"ngIf"],["class","ion-padding",4,"ngIf"],["color","medium",3,"click"],[1,"ion-padding"],["color","dark",2,"float","right","margin-top","5px"],["lines","none","detail","",3,"click",4,"ngIf"],["lines","none","detail","",3,"click"],["slot","start"],["src","assets/razor.png"],["name","crescent","slot","end",4,"ngIf"],["src","assets/stripe.png"],["name","crescent","slot","end"]],template:function(d,_){1&d&&(a.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),a.DNE(3,m,2,1,"ion-button",2),a.k0s()()(),a.DNE(4,B,25,6,"ion-content",3)),2&d&&(a.R7$(3),a.Y8G("ngIf",_.text),a.R7$(),a.Y8G("ngIf",_.data&&_.text))},dependencies:[s.bv,s.In,s.Jm,s.QW,s.W9,s.eU,s.uz,s.he,s.w2,s.Zx,s.ai,v.MD,v.bT,S.YN],styles:["ion-item[_ngcontent-%COMP%]{border-radius:5px;--min-height:60px;border:1px solid #f1f1f1}ion-toolbar[_ngcontent-%COMP%]{--background: white}ion-thumbnail[_ngcontent-%COMP%]{width:32px;height:32px}"]}),C})()},4264:(A,R,l)=>{l.r(R),l.d(R,{SubscribedCartPage:()=>J});var b=l(467),v=l(177),S=l(4341),s=l(4742),o=l(7414),D=l(3804),I=l(7564),M=l(5864),T=l(5704),t=l(4438),a=l(2068),G=l(9568);const $=r=>({selected_type:r});function g(r,p){if(1&r&&(t.j41(0,"ion-title"),t.EFF(1),t.j41(2,"a",5),t.EFF(3),t.k0s()()),2&r){const n=t.XpG();t.R7$(),t.SpI("",n.text.cart," "),t.R7$(2),t.JRh(n.text.go_back)}}function y(r,p){1&r&&t.nrm(0,"ion-skeleton-text",7),2&r&&t.Y8G("animated",!0)}function m(r,p){if(1&r&&(t.j41(0,"div")(1,"ion-grid",4),t.DNE(2,y,1,1,"ion-skeleton-text",6),t.k0s()()),2&r){const n=t.XpG();t.R7$(),t.Y8G("fixed",!0),t.R7$(),t.Y8G("ngForOf",n.fakeData)}}function k(r,p){1&r&&(t.j41(0,"ion-col",15),t.nrm(1,"img",16),t.k0s())}function x(r,p){if(1&r){const n=t.RV6();t.j41(0,"ion-item",17)(1,"ion-label",18)(2,"span",19),t.EFF(3),t.k0s(),t.j41(4,"ion-badge",20),t.EFF(5),t.k0s(),t.j41(6,"span",21),t.EFF(7),t.j41(8,"a",22),t.bIt("click",function(){const i=t.eBV(n).$implicit,c=t.XpG(3);return t.Njj(c.remove(i.id))}),t.EFF(9),t.k0s()()()()}if(2&r){const n=p.$implicit,e=t.XpG(3);t.R7$(3),t.Lme("",n.name," - ",n.type,""),t.R7$(2),t.Lme("",n.currency,"",n.price," "),t.R7$(2),t.SpI("",n.days," "),t.R7$(2),t.JRh(e.text.remove)}}function O(r,p){if(1&r){const n=t.RV6();t.j41(0,"ion-button",23),t.bIt("click",function(){t.eBV(n);const i=t.XpG(3);return t.Njj(i.continue())}),t.EFF(1),t.k0s()}if(2&r){const n=t.XpG(3);t.R7$(),t.JRh(n.text.continue)}}function B(r,p){1&r&&(t.j41(0,"ion-button",24),t.nrm(1,"ion-spinner",25),t.k0s())}function X(r,p){if(1&r){const n=t.RV6();t.j41(0,"ion-row"),t.DNE(1,k,2,0,"ion-col",8),t.j41(2,"ion-col",9)(3,"div",10),t.DNE(4,x,10,6,"ion-item",11),t.j41(5,"ion-textarea",12),t.mxI("ngModelChange",function(i){t.eBV(n);const c=t.XpG(2);return t.DH7(c.notes,i)||(c.notes=i),t.Njj(i)}),t.k0s(),t.nrm(6,"br"),t.DNE(7,O,2,1,"ion-button",13)(8,B,2,0,"ion-button",14),t.k0s()()()}if(2&r){const n=t.XpG(2);t.R7$(),t.Y8G("ngIf",!n.isMobile),t.R7$(),t.Y8G("size",n.isMobile?12:6),t.R7$(2),t.Y8G("ngForOf",n.data),t.R7$(),t.FS9("label",n.text.notes_order),t.R50("ngModel",n.notes),t.R7$(2),t.Y8G("ngIf",!n.hasClick),t.R7$(),t.Y8G("ngIf",n.hasClick)}}function f(r,p){if(1&r&&(t.j41(0,"ion-col",63),t.nrm(1,"img",64),t.k0s()),2&r){const n=t.XpG().$implicit;t.R7$(),t.FS9("src",n.img,t.B4B)}}function C(r,p){if(1&r){const n=t.RV6();t.j41(0,"ion-row"),t.DNE(1,f,2,1,"ion-col",49),t.j41(2,"ion-col",50)(3,"div",10)(4,"ion-item",51)(5,"ion-label",18)(6,"ion-row")(7,"ion-col",52)(8,"b",53),t.EFF(9),t.k0s(),t.j41(10,"span",54),t.EFF(11),t.k0s()(),t.j41(12,"ion-col",55)(13,"span",53),t.EFF(14),t.nI1(15,"currency"),t.k0s()()()()(),t.nrm(16,"br"),t.j41(17,"div",56)(18,"ion-label",18)(19,"b"),t.EFF(20,"Description"),t.k0s(),t.nrm(21,"br"),t.k0s(),t.j41(22,"span"),t.EFF(23," Our Diabetic Fruit Box is thoughtfully curated for individuals managing diabetes, ensuring a delicious and health-conscious selection of fruits. Each fruit is carefully chosen to be low in sugar while still being rich in essential nutrients, fiber, and antioxidants. "),t.k0s(),t.nrm(24,"br"),t.j41(25,"ion-label",18)(26,"b"),t.EFF(27,"What's Inside?"),t.k0s()(),t.j41(28,"ul",57)(29,"li")(30,"b"),t.EFF(31,"Berries"),t.k0s(),t.EFF(32," (Strawberries, Blueberries, Blackberries) \u2013 Packed with fiber and antioxidants, they help regulate blood sugar. "),t.k0s(),t.j41(33,"li")(34,"b"),t.EFF(35,"Green Apples"),t.k0s(),t.EFF(36," \u2013 A crisp, fiber-rich fruit with a lower glycemic index. "),t.k0s(),t.j41(37,"li")(38,"b"),t.EFF(39,"Guava"),t.k0s(),t.EFF(40," \u2013 High in fiber and vitamin C, known to aid in blood sugar control. "),t.k0s(),t.j41(41,"li")(42,"b"),t.EFF(43,"Kiwis"),t.k0s(),t.EFF(44," \u2013 Loaded with vitamin C and fiber, helping with blood sugar balance. "),t.k0s(),t.j41(45,"li")(46,"b"),t.EFF(47,"Avocados"),t.k0s(),t.EFF(48," \u2013 Though not sweet, they provide healthy fats that improve insulin sensitivity. "),t.k0s()(),t.j41(49,"span"),t.EFF(50," Why Choose Our Diabetic Fruit Box? "),t.k0s(),t.nrm(51,"br"),t.j41(52,"span"),t.EFF(53," \u2705 "),t.j41(54,"strong"),t.EFF(55," Low Glycemic Index Fruits"),t.k0s(),t.EFF(56," \u2013 Helps prevent blood sugar spikes. "),t.k0s(),t.nrm(57,"br"),t.j41(58,"span"),t.EFF(59," \u2705 "),t.j41(60,"strong"),t.EFF(61,"Rich in Fiber & Antioxidants"),t.k0s(),t.EFF(62," \u2013 Supports digestion and overall health. "),t.k0s(),t.nrm(63,"br"),t.j41(64,"span"),t.EFF(65," \u2705 "),t.j41(66,"strong"),t.EFF(67,"100% Fresh & Natural"),t.k0s(),t.EFF(68," \u2013 No artificial sweeteners or preservatives. "),t.k0s(),t.nrm(69,"br"),t.j41(70,"span"),t.EFF(71," \u2705 "),t.j41(72,"strong"),t.EFF(73,"Perfect for Snacking or Gifting"),t.k0s(),t.EFF(74," \u2013 A thoughtful and healthy choice for loved ones. "),t.k0s(),t.nrm(75,"br"),t.j41(76,"span"),t.EFF(77," Enjoy a guilt-free, nutritious, and delicious fruit experience with our Diabetic Fruit Box! \u{1f34f}\u{1f353}\u{1f951} "),t.k0s(),t.nrm(78,"br"),t.j41(79,"div",58)(80,"ion-label",18)(81,"b"),t.EFF(82,"Select Quantity :"),t.k0s()(),t.j41(83,"div",59)(84,"button",60),t.bIt("click",function(){const i=t.eBV(n).$implicit,c=t.XpG(3);return t.Njj(c.decrement(i))}),t.EFF(85,"-"),t.k0s(),t.j41(86,"div",61)(87,"span"),t.EFF(88),t.k0s()(),t.j41(89,"button",62),t.bIt("click",function(){const i=t.eBV(n).$implicit,c=t.XpG(3);return t.Njj(c.increment(i))}),t.EFF(90,"+ "),t.k0s()()()()()()()}if(2&r){const n=p.$implicit,e=t.XpG(3);t.R7$(),t.Y8G("ngIf",!e.isMobile),t.R7$(),t.Y8G("size",e.isMobile?12:8),t.R7$(7),t.JRh(n.name),t.R7$(2),t.Lme("",n.subscribe," ",e.text.people_subscribe,""),t.R7$(3),t.Lme("",t.i5U(15,8,n.price,"INR"),"\xa0/\xa0",e.text.day,""),t.R7$(74),t.JRh(n.qty)}}function h(r,p){if(1&r&&(t.j41(0,"small",65),t.nrm(1,"br"),t.EFF(2),t.k0s()),2&r){const n=t.XpG(3);t.R7$(2),t.JRh(n.address.address)}}function d(r,p){if(1&r){const n=t.RV6();t.j41(0,"span",66),t.bIt("click",function(){const i=t.eBV(n).$implicit,c=t.XpG(3);return t.Njj(c.sub_time=null==i?null:i.id)}),t.nrm(1,"ion-radio",67),t.j41(2,"span"),t.EFF(3),t.k0s()()}if(2&r){const n=p.$implicit,e=t.XpG(3);t.Y8G("ngClass",t.eq3(3,$,e.sub_time===(null==n?null:n.id))),t.R7$(),t.Y8G("value",null==n?null:n.id),t.R7$(2),t.JRh(null==n?null:n.title)}}function _(r,p){if(1&r&&(t.j41(0,"ion-select-option",68),t.EFF(1),t.k0s()),2&r){const n=p.$implicit;t.Y8G("value",n),t.R7$(),t.JRh(n)}}function F(r,p){if(1&r&&(t.j41(0,"small",69),t.EFF(1),t.nI1(2,"currency"),t.k0s()),2&r){const n=t.XpG(3);t.R7$(),t.Lme("",n.text.you_save," ",t.i5U(2,2,n.save,"INR"),"")}}function P(r,p){if(1&r){const n=t.RV6();t.j41(0,"ion-icon",70),t.bIt("click",function(i){t.eBV(n);const c=t.XpG(3);return t.Njj(c.removeDiscount(i))}),t.k0s()}}function j(r,p){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"currency"),t.k0s()),2&r){const n=t.XpG(4);t.R7$(),t.JRh(t.i5U(2,1,n.total,"INR"))}}function E(r,p){if(1&r&&(t.j41(0,"s"),t.EFF(1),t.nI1(2,"currency"),t.k0s()),2&r){const n=t.XpG(4);t.R7$(),t.JRh(t.i5U(2,1,n.total,"INR"))}}function w(r,p){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"currency"),t.k0s()),2&r){const n=t.XpG(4);t.R7$(),t.JRh(t.i5U(2,1,n.total-n.save,"INR"))}}function z(r,p){if(1&r&&(t.j41(0,"h3",32),t.EFF(1,"Total Payable Amount\xa0:\xa0"),t.DNE(2,j,3,4,"span",3),t.EFF(3,"\xa0"),t.DNE(4,E,3,4,"s",3),t.EFF(5,"\xa0"),t.DNE(6,w,3,4,"span",3),t.k0s()),2&r){const n=t.XpG(3);t.R7$(2),t.Y8G("ngIf",!n.payble_amount),t.R7$(2),t.Y8G("ngIf",n.payble_amount),t.R7$(2),t.Y8G("ngIf",n.payble_amount)}}function L(r,p){if(1&r){const n=t.RV6();t.j41(0,"ion-button",71),t.bIt("click",function(){t.eBV(n);const i=t.XpG(3);return t.Njj(i.placeOrder())}),t.EFF(1),t.k0s()}if(2&r){const n=t.XpG(3);t.R7$(),t.JRh(n.text.checkout_button)}}function Y(r,p){if(1&r){const n=t.RV6();t.j41(0,"ion-row")(1,"ion-col",26)(2,"ion-card-content",27),t.DNE(3,C,91,11,"ion-row",28),t.k0s()(),t.j41(4,"ion-col",29)(5,"div",30)(6,"ion-row")(7,"ion-col",31)(8,"h3",32),t.EFF(9,"Total Amount\xa0:\xa0"),t.j41(10,"span"),t.EFF(11),t.nI1(12,"currency"),t.k0s()()()(),t.j41(13,"ion-row")(14,"ion-col",31)(15,"p",33),t.EFF(16),t.k0s(),t.j41(17,"ion-item",34),t.bIt("click",function(){t.eBV(n);const i=t.XpG(2);return t.Njj(i.getAddress())}),t.j41(18,"label"),t.EFF(19),t.DNE(20,h,3,1,"small",35),t.k0s(),t.nrm(21,"ion-icon",36),t.k0s()()(),t.j41(22,"ion-row")(23,"ion-col",31)(24,"p",33),t.EFF(25),t.k0s(),t.j41(26,"ion-list")(27,"ion-radio-group",37),t.mxI("ngModelChange",function(i){t.eBV(n);const c=t.XpG(2);return t.DH7(c.sub_time,i)||(c.sub_time=i),t.Njj(i)}),t.bIt("click",function(){t.eBV(n);const i=t.XpG(2);return t.Njj(i.startDate())}),t.j41(28,"div",38),t.DNE(29,d,4,5,"span",39),t.k0s()()()()(),t.j41(30,"ion-row")(31,"ion-col",31)(32,"p",33),t.EFF(33),t.k0s(),t.j41(34,"ion-item",40)(35,"ion-select",41),t.mxI("ngModelChange",function(i){t.eBV(n);const c=t.XpG(2);return t.DH7(c.start_date,i)||(c.start_date=i),t.Njj(i)}),t.bIt("ionChange",function(){t.eBV(n);const i=t.XpG(2);return t.Njj(i.startDate())}),t.DNE(36,_,2,2,"ion-select-option",42),t.k0s(),t.nrm(37,"ion-icon",43),t.k0s()()(),t.j41(38,"ion-row")(39,"ion-col",31)(40,"p",33),t.EFF(41),t.k0s(),t.j41(42,"ion-item",34),t.bIt("click",function(){t.eBV(n);const i=t.XpG(2);return t.Njj(i.getOffer())}),t.j41(43,"label"),t.EFF(44),t.DNE(45,F,3,5,"small",44),t.k0s(),t.nrm(46,"ion-icon",45),t.DNE(47,P,1,0,"ion-icon",46),t.k0s()()(),t.j41(48,"ion-row")(49,"ion-col",31),t.DNE(50,z,7,3,"h3",47),t.nrm(51,"br"),t.DNE(52,L,2,1,"ion-button",48),t.k0s()()()()()}if(2&r){const n=t.XpG(2);t.R7$(3),t.Y8G("ngForOf",n.data),t.R7$(8),t.JRh(t.i5U(12,18,n.total,"INR")),t.R7$(5),t.JRh(n.text.delivery_address_desc),t.R7$(3),t.SpI("",n.text.delivery_address," "),t.R7$(),t.Y8G("ngIf",n.address),t.R7$(5),t.JRh(n.text.checkout_desc),t.R7$(2),t.R50("ngModel",n.sub_time),t.R7$(2),t.Y8G("ngForOf",null==n.checkout_data?null:n.checkout_data.time),t.R7$(4),t.JRh(n.text.starting_date_desc),t.R7$(2),t.FS9("label",n.text.start_date),t.R50("ngModel",n.start_date),t.R7$(),t.Y8G("ngForOf",null==n.checkout_data?null:n.checkout_data.dates),t.R7$(5),t.JRh(n.text.discount_desc),t.R7$(3),t.SpI("",n.text.discount_offers," "),t.R7$(),t.Y8G("ngIf",n.save),t.R7$(2),t.Y8G("ngIf",n.save),t.R7$(3),t.Y8G("ngIf",n.validate()),t.R7$(2),t.Y8G("ngIf",!n.isMobile)}}function U(r,p){if(1&r&&(t.j41(0,"div"),t.DNE(1,X,9,7,"ion-row",3),t.j41(2,"ion-card"),t.DNE(3,Y,53,21,"ion-row",3),t.k0s()()),2&r){const n=t.XpG();t.R7$(),t.Y8G("ngIf",n.data&&n.isMobile),t.R7$(2),t.Y8G("ngIf",n.data&&!n.isMobile)}}function V(r,p){if(1&r&&(t.j41(0,"div"),t.nrm(1,"br")(2,"br")(3,"img",72),t.j41(4,"h1",73),t.EFF(5),t.k0s(),t.j41(6,"div",74)(7,"ion-button",75),t.EFF(8),t.k0s()()()),2&r){const n=t.XpG();t.R7$(5),t.JRh(n.text.cart_empty),t.R7$(2),t.Y8G("expand",n.isMobile?"block":""),t.R7$(),t.JRh(n.text.start_item)}}(0,D.kz)();let J=(()=>{var r;class p{constructor(e,i,c){this.server=e,this.otherService=i,this.modalCtrl=c,this.fakeData=[1,2,3,4],this.selectedDay=[],this.hasClick=!1,this.isMobile=!1,this.total=0,this.payble_amount=0;const u=localStorage.getItem("app_lang");null!==u&&(this.text=JSON.parse(u),this.text=this.text.text),this.checkScreenSize()}onResize(e){this.checkScreenSize()}checkScreenSize(){this.isMobile=window.innerWidth<=768}ngOnInit(){this.user_id=localStorage.getItem("user_id")}ionViewDidEnter(){this.otherService.statusBar("#ffffff",2),this.loadData()}loadData(){var e=this;return(0,b.A)(function*(){e.server.getCart().subscribe(i=>{const c=localStorage.getItem("subscribed_items");e.data=c?[JSON.parse(c)]:[],console.log("this.data",e.data),e.data.map(u=>{u.selected_price=Number(u.price)*u.qty}),e.CalculateTotal(),e.getSavedAddress(),e.working_days=i.working_day,e.selectedDay=i.days,console.log(e.data)})})()}increment(e){if(e.qty<10){const i=this.data.find(c=>c.id===e.id);i.qty+=1,i.selected_price=Number(e.price)*Number(i.qty),localStorage.setItem("subscribed_items",JSON.stringify(i)),this.CalculateTotal()}}decrement(e){if(e.qty>1){const i=this.data.find(c=>c.id===e.id);i.qty-=1,i.selected_price=Number(e.price)*Number(i.qty),localStorage.setItem("subscribed_items",JSON.stringify(i)),this.CalculateTotal()}}CalculateTotal(){this.total=this.data.reduce((e,i)=>e+(Number(i.selected_price)||0),0),1==this.sub_time?this.total=1*this.total:2==this.sub_time?this.total=6*this.total:3==this.sub_time?this.total=12*this.total:4==this.sub_time&&(this.total=24*this.total)}getSavedAddress(){this.server.checkoutData().subscribe(e=>{this.checkout_data=e.data,this.savedAddress=this.checkout_data.address})}getAddress(){var e=this;return(0,b.A)(function*(){if(e.user_id){var i;const c={data:e.savedAddress,store_id:null!==(i=e.data)&&void 0!==i&&null!==(i=i.store)&&void 0!==i&&i.id?e.data.store.id:1},u=yield e.modalCtrl.create({component:I.AddressPage,animated:!0,mode:"ios",componentProps:c});return u.onDidDismiss().then(N=>{N.data.id&&(e.address=N.data)}),yield u.present()}e.continue()})()}startDate(){var e=this;return(0,b.A)(function*(){if(!e.sub_time)return e.otherService.toast(e.text.sub_time);if(!e.start_date)return;e.otherService.showLoading();const i={plan:e.sub_time,start_date:e.start_date,cart_no:localStorage.getItem("cart_no"),user_id:localStorage.getItem("user_id"),store_id:e.checkout_data.store.id,item_id:e.data[0].id,qty:e.data[0].qty};e.CalculateTotal(),e.server.getSubAmount(i).subscribe(c=>{console.log("response",c),e.cal=c,e.cal.summery=[e.cal.summery[0]],e.cal.summery.map(u=>{u.item_id=e.data[0].id,u.item=e.data[0].name}),console.log(e.cal),e.otherService.hideLoading()})})()}getOffer(){var e=this;return(0,b.A)(function*(){const i=yield e.modalCtrl.create({component:M.OfferPage,animated:!0,mode:"ios",componentProps:{data:e.checkout_data.offer}});return i.onDidDismiss().then(c=>{c.data.code&&(e.offer=c.data,e.applyOffer())}),yield i.present()})()}applyOffer(){var e=this;return(0,b.A)(function*(){if(1==e.offer.type){const i=e.cal.total*e.offer.value/100;e.payble_amount=e.total-i,e.save=i.toFixed(1)}else e.payble_amount=e.total-e.offer.value,e.save=e.offer.value})()}validate(){return!!(this.sub_time&&this.start_date&&this.address)}placeOrder(){var e=this;return(0,b.A)(function*(){e.validate()?e.total>e.checkout_data.user.wallet?e.openpaymentsModel({amount:e.total-e.checkout_data.user.wallet,stripe_key:e.checkout_data.stripe_id}):e.checkout():e.otherService.toast(e.text.all_field)})()}openpaymentsModel(e){var i=this;return(0,b.A)(function*(){const c=yield i.modalCtrl.create({component:T.PaymentPage,animated:!0,mode:"ios",componentProps:{data:e}});return c.onDidDismiss().then(u=>{u.data?i.checkout():i.otherService.toast(i.text.payment_cancel)}),yield c.present()})()}checkout(){var e=this;return(0,b.A)(function*(){e.hasClick=!0;const i={user_id:localStorage.getItem("user_id"),cart_no:localStorage.getItem("cart_no"),cal:e.cal,address:e.address.id,plan:e.sub_time,total:e.save?e.total-Number(e.save):e.total,discount:e.save,store_id:e.checkout_data.store.id,notes:localStorage.getItem("order_notes")&&"undefined"!=localStorage.getItem("order_notes")?localStorage.getItem("order_notes"):null};console.log(i),e.server.placeOrder(i).subscribe(c=>{1==c.done?(localStorage.removeItem("order_notes"),e.otherService.redirect("success")):e.otherService.toast(c.error),e.hasClick=!1})})()}removeDiscount(e){e.stopPropagation(),this.save=0,this.payble_amount=0}remove(e){var i=this;return(0,b.A)(function*(){i.otherService.confirm().then(c=>{"ok"===c&&i.server.getCart(e).subscribe(u=>{i.data=u.data,i.data.map(N=>{N.selected_price=N.price}),i.CalculateTotal(),i.otherService.toast(i.text.removed)})})})()}selectDay(e,i){var c=this;return(0,b.A)(function*(){let u=c.checkSelected(e,i);u?(u=999==u?0:u,c.selectedDay.splice(u,1)):c.selectedDay.push({day:e,id:i.id})})()}checkSelected(e,i,c=!1){for(var u=0;u<this.selectedDay.length;u++)if(this.selectedDay[u].day===e&&this.selectedDay[u].id==i.id)return 0==u?999:u;return!1}continue(){var e=this;return(0,b.A)(function*(){localStorage.setItem("order_notes",e.notes),e.hasClick=!0,e.server.updateDays({days:e.selectedDay}).subscribe(i=>{e.hasClick=!1,e.otherService.redirect("checkout/0")})})()}}return(r=p).\u0275fac=function(e){return new(e||r)(t.rXU(a.Z),t.rXU(G.G),t.rXU(s.W3))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-cart"]],hostBindings:function(e,i){1&e&&t.bIt("resize",function(u){return i.onResize(u)},!1,t.tSv)},decls:10,vars:5,consts:[[1,"ion-no-border"],["color","dark"],["slot","start"],[4,"ngIf"],[3,"fixed"],["routerLink","/tabs/home",2,"float","right","font-size","14px","color","white !important","margin-top","5px"],["class","sek",3,"animated",4,"ngFor","ngForOf"],[1,"sek",3,"animated"],["size","6",4,"ngIf"],[2,"background-color","#edf2fa","border-radius","10px !important","margin-top","20px",3,"size"],[1,"ion-padding"],["lines","none",4,"ngFor","ngForOf"],["name","notes","label-placement","floating","fill","outline","mode","md",1,"msg",3,"ngModelChange","label","ngModel"],["mode","ios","color","dark","expand","block",3,"click",4,"ngIf"],["mode","ios","expand","block","color","dark","type","button",4,"ngIf"],["size","6"],["src","assets/ch.avif"],["lines","none"],[1,"ion-text-wrap"],[2,"font-weight","bold","font-size","20px"],["color","dark",2,"float","right"],[1,"cart_desc"],[2,"float","right","color","red !important",3,"click"],["mode","ios","color","dark","expand","block",3,"click"],["mode","ios","expand","block","color","dark","type","button"],["name","crescent"],["size","8"],[1,"scrollable-content"],[4,"ngFor","ngForOf"],["size","4",1,"checkout_page"],[1,"scrollable-content",2,"padding","20px"],["size","12"],[1,"total"],[1,"desc"],["lines","none",1,"address",3,"click"],["class","address_1",4,"ngIf"],["name","location-outline","slot","start","color","dark"],[3,"ngModelChange","click","ngModel"],[1,"radio-container"],["lines","none","class","subscribed_type",3,"ngClass","click",4,"ngFor","ngForOf"],["lines","none",1,"address"],["placeholder","Select","interface","popover","name","start_date",3,"ngModelChange","ionChange","label","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","calendar-outline","slot","start","color","dark"],["class","discount",4,"ngIf"],["name","receipt-outline","slot","start","color","dark"],["name","trash","slot","end","class","remove_discount",3,"click",4,"ngIf"],["class","total",4,"ngIf"],["mode","ios","expand","block","color","dark","id","open-modal","expand","block",3,"click",4,"ngIf"],["size","4",4,"ngIf"],[3,"size"],["lines","none",2,"margin-top","-20px","margin-left","-20px"],["size","7"],[1,"iname_price"],[2,"display","block","color","gray","font-size","14px"],["size","5",2,"text-align","right"],[1,"description"],[2,"margin-top","-1px"],[2,"margin-top","12px"],[1,"quantity-field"],[1,"value-button","decrease-button",3,"click"],[1,"number"],[1,"value-button","increase-button",3,"click"],["size","4"],[2,"margin-top","15px",3,"src"],[1,"address_1"],["lines","none",1,"subscribed_type",3,"click","ngClass"],[1,"hidden-radio",3,"value"],[3,"value"],[1,"discount"],["name","trash","slot","end",1,"remove_discount",3,"click"],["mode","ios","expand","block","color","dark","id","open-modal","expand","block",3,"click"],["src","assets/empty.webp",2,"width","70%","margin-left","15%"],["align","center"],[1,"ion-padding",2,"text-align","center"],["routerLink","/tabs/home","mode","ios","color","dark",3,"expand"]],template:function(e,i){1&e&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),t.nrm(3,"ion-back-button"),t.k0s(),t.DNE(4,g,4,2,"ion-title",3),t.k0s()(),t.j41(5,"ion-content")(6,"ion-grid",4),t.DNE(7,m,3,2,"div",3)(8,U,4,2,"div",3)(9,V,9,3,"div",3),t.k0s()()),2&e&&(t.R7$(4),t.Y8G("ngIf",i.text),t.R7$(2),t.Y8G("fixed",!!i.isMobile),t.R7$(),t.Y8G("ngIf",!i.data),t.R7$(),t.Y8G("ngIf",i.data&&i.data.length>0),t.R7$(),t.Y8G("ngIf",i.data&&0==i.data.length))},dependencies:[s.bv,s.In,s.Jm,s.QW,s.b_,s.I9,s.hU,s.W9,s.lO,s.eU,s.iq,s.uz,s.he,s.nf,s.KO,s.f0,s.ln,s.Nm,s.Ip,s.ds,s.w2,s.nc,s.BC,s.ai,s.Je,s.Gw,s.el,s.N7,s.oY,v.MD,v.YU,v.Sq,v.bT,v.oe,S.YN,S.BC,S.vS,o.Wk],styles:[".radio-container[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light) }.hidden-radio[_ngcontent-%COMP%]{display:none}.scrollable-content[_ngcontent-%COMP%]{height:84vh;overflow-y:auto;scrollbar-width:thin;scrollbar-color:transparent transparent}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.subscribed_type[_ngcontent-%COMP%]{color:#000;border:1px solid var(--ion-color-dark)!important;border-radius:5px;transition:background .3s ease-in-out;text-align:center;cursor:pointer;font-size:15px;padding:5px 20px}.subscribed_type.selected_type[_ngcontent-%COMP%]{background-color:var(--ion-color-dark)!important;color:var(--ion-color-light);font-weight:600;border-radius:5px}.sek[_ngcontent-%COMP%]{width:96%;height:50px;border-radius:10px;margin-left:2%;margin-top:8%}.desc[_ngcontent-%COMP%]{font-size:14px;color:gray;padding:0 10px}.cart_desc[_ngcontent-%COMP%]{display:block;margin-top:5px;color:gray;font-size:15px}.msg[_ngcontent-%COMP%]{height:100px;margin-top:20px}.description[_ngcontent-%COMP%]{color:#000;margin-top:-25px}.iname_price[_ngcontent-%COMP%]{font-size:25px;font-weight:700}.total[_ngcontent-%COMP%]{font-weight:600;font-size:20px;text-align:right;color:#000}.trash_icon[_ngcontent-%COMP%]{margin-top:5px;color:#d00101;cursor:pointer;font-size:20px}.quantity-field[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:120px;height:35px}.quantity-field[_ngcontent-%COMP%]   .value-button[_ngcontent-%COMP%]{border:1px solid #ddd;margin:0;width:50px;height:100%;padding:0;background:#eee;outline:none;cursor:pointer}.quantity-field[_ngcontent-%COMP%]   .value-button[_ngcontent-%COMP%]:hover{background:#e6e6e6}.quantity-field[_ngcontent-%COMP%]   .value-button[_ngcontent-%COMP%]:active{background:#d2d2d2}.quantity-field[_ngcontent-%COMP%]   .decrease-button[_ngcontent-%COMP%]{margin-right:-4px;border-radius:8px 0 0 8px;color:#d00101;font-size:35px;cursor:pointer}.quantity-field[_ngcontent-%COMP%]   .increase-button[_ngcontent-%COMP%]{margin-left:-4px;border-radius:0 8px 8px 0;color:green;font-size:35px;cursor:pointer}.number[_ngcontent-%COMP%]{border-top:1px solid #ddd;border-bottom:1px solid #ddd;text-align:center;background-color:1px solid #fff;margin:0;width:60px;height:100%;padding:0;outline:none;display:inline;font-size:22px;color:#000}.number[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:50px!important}.address[_ngcontent-%COMP%]{--min-height: 40px !important;--padding-start: 20px;--padding-end: 20px;font-size:18px;border:1px dashed var(--ion-color-dark);width:100%;border-radius:10px;border-width:1px}.cart_item[_ngcontent-%COMP%]{margin-top:15px}ion-card[_ngcontent-%COMP%]{margin:1rem;box-shadow:0 5px 15px #0000001a}.checkout_page[_ngcontent-%COMP%]{border-left:3px solid var(--ion-color-light)}.discount[_ngcontent-%COMP%]{display:block;margin-top:5px;color:red}.remove_discount[_ngcontent-%COMP%]{color:red;font-size:16px;cursor:pointer;margin-top:30px}.rating[_ngcontent-%COMP%]{display:block;margin-top:5px}.desc[_ngcontent-%COMP%]{font-size:15px;color:gray;display:block}.star[_ngcontent-%COMP%]{font-size:15px;margin:2px}.dtime[_ngcontent-%COMP%]{font-size:17px;padding:0 10px}img[_ngcontent-%COMP%]{border-radius:10px}"]}),p})()}}]);