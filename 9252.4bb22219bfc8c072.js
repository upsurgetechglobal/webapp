"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9252],{9252:(N,u,r)=>{r.r(u),r.d(u,{DatesPage:()=>X});var l=r(467),d=r(177),m=r(4341),_=r(4742),t=r(4438),h=r(2068),k=r(9568);const b=()=>[0,1];function x(e,a){if(1&e&&(t.j41(0,"a",7),t.EFF(1),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.JRh(n.text.stop_sub)}}function D(e,a){if(1&e){const n=t.RV6();t.j41(0,"ion-col",12)(1,"ion-checkbox",23),t.bIt("ionChange",function(i){t.eBV(n);const c=t.XpG().$implicit,s=t.XpG(2);return t.Njj(s.setValue(i,c.id))}),t.EFF(2),t.k0s()()}if(2&e){const n=t.XpG().$implicit;t.R7$(2),t.JRh(n.date)}}function R(e,a){if(1&e){const n=t.RV6();t.j41(0,"a",25),t.bIt("click",function(){t.eBV(n);const i=t.XpG(2).$implicit,c=t.XpG(2);return t.Njj(c.viewimg(i.img))}),t.EFF(1,"View Image"),t.k0s()}}function P(e,a){if(1&e&&(t.j41(0,"ion-col",12),t.EFF(1),t.DNE(2,R,2,0,"a",24),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.SpI("",n.date," "),t.R7$(),t.Y8G("ngIf",n.img)}}function I(e,a){1&e&&(t.j41(0,"span"),t.EFF(1,"---"),t.k0s())}function E(e,a){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&e){const n=t.XpG(3);t.R7$(),t.JRh(n.text.on_way)}}function v(e,a){1&e&&(t.j41(0,"span",26),t.nrm(1,"ion-icon",27),t.k0s())}function $(e,a){1&e&&(t.j41(0,"span",28),t.nrm(1,"ion-icon",29),t.k0s())}function j(e,a){1&e&&(t.j41(0,"span",30),t.nrm(1,"ion-icon",29),t.k0s())}function G(e,a){if(1&e){const n=t.RV6();t.j41(0,"ion-col",31),t.bIt("click",function(){t.eBV(n);const i=t.XpG().$implicit,c=t.XpG(2);return t.Njj(c.undo(i.id))}),t.EFF(1),t.k0s()}if(2&e){const n=t.XpG(3);t.R7$(),t.JRh(n.text.reorder)}}function y(e,a){if(1&e&&(t.j41(0,"ion-row",16),t.DNE(1,D,3,1,"ion-col",17)(2,P,3,2,"ion-col",17),t.j41(3,"ion-col",13),t.DNE(4,I,2,0,"span",18)(5,E,2,1,"span",18)(6,v,2,0,"span",19)(7,$,2,0,"span",20)(8,j,2,0,"span",21),t.k0s(),t.DNE(9,G,2,1,"ion-col",22),t.k0s()),2&e){const n=a.$implicit;t.R7$(),t.Y8G("ngIf",n.mark&&0==n.status),t.R7$(),t.Y8G("ngIf",!n.mark||0!=n.status),t.R7$(2),t.Y8G("ngIf",0==n.status&&!n.not),t.R7$(),t.Y8G("ngIf",1==n.status&&!n.not),t.R7$(),t.Y8G("ngIf",2==n.status),t.R7$(),t.Y8G("ngIf",3==n.status),t.R7$(),t.Y8G("ngIf",n.not),t.R7$(),t.Y8G("ngIf",3==n.status&&n.mark)}}function F(e,a){if(1&e){const n=t.RV6();t.j41(0,"ion-button",37),t.bIt("click",function(){t.eBV(n);const i=t.XpG(3);return t.Njj(i.cancel())}),t.EFF(1),t.k0s()}if(2&e){const n=t.XpG(3);t.R7$(),t.JRh(n.text.cancel)}}function T(e,a){if(1&e){const n=t.RV6();t.j41(0,"ion-button",38),t.bIt("click",function(){t.eBV(n);const i=t.XpG(3);return t.Njj(i.stop())}),t.EFF(1),t.k0s()}if(2&e){const n=t.XpG(3);t.R7$(),t.JRh(n.text.stop_sub)}}function w(e,a){1&e&&(t.j41(0,"ion-button",39),t.nrm(1,"ion-spinner",40),t.k0s())}function C(e,a){if(1&e&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",3),t.DNE(3,F,2,1,"ion-button",32),t.k0s()()(),t.j41(4,"div",8)(5,"p",33),t.EFF(6),t.k0s(),t.j41(7,"ion-row")(8,"ion-col",34)(9,"b"),t.EFF(10),t.k0s()(),t.j41(11,"ion-col",34),t.EFF(12),t.k0s()(),t.j41(13,"ion-row")(14,"ion-col",34)(15,"b"),t.EFF(16),t.k0s()(),t.j41(17,"ion-col",34),t.EFF(18),t.k0s()(),t.nrm(19,"br"),t.DNE(20,T,2,1,"ion-button",35)(21,w,2,0,"ion-button",36),t.k0s()),2&e){const n=t.XpG(2);t.R7$(3),t.Y8G("ngIf",n.text),t.R7$(3),t.JRh(n.text.cancel_sub),t.R7$(4),t.JRh(n.text.pending_days),t.R7$(2),t.JRh(n.data.pending.count),t.R7$(4),t.JRh(n.text.return_amount),t.R7$(2),t.Lme("",n.data.currency,"",n.data.pending.amount,""),t.R7$(2),t.Y8G("ngIf",!n.hasClick),t.R7$(),t.Y8G("ngIf",n.hasClick)}}function O(e,a){if(1&e&&(t.j41(0,"ion-content",8)(1,"ion-grid",9)(2,"b",10),t.EFF(3),t.k0s(),t.nrm(4,"br")(5,"br"),t.j41(6,"small"),t.EFF(7),t.k0s(),t.nrm(8,"br")(9,"br"),t.j41(10,"ion-row",11)(11,"ion-col",12)(12,"b"),t.EFF(13),t.k0s()(),t.j41(14,"ion-col",13)(15,"b"),t.EFF(16),t.k0s()()(),t.DNE(17,y,10,8,"ion-row",14),t.j41(18,"ion-modal",15),t.DNE(19,C,22,9,"ng-template"),t.k0s()()()),2&e){const n=t.XpG();t.R7$(),t.Y8G("fixed",!0),t.R7$(2),t.Lme("",n.data.item," - ",n.text.del_cal,""),t.R7$(4),t.JRh(n.text.date_desc),t.R7$(6),t.JRh(n.text.date),t.R7$(3),t.JRh(n.text.status),t.R7$(),t.Y8G("ngForOf",n.data.dates),t.R7$(),t.Y8G("initialBreakpoint",1)("breakpoints",t.lJ4(9,b))}}function M(e,a){if(1&e){const n=t.RV6();t.j41(0,"ion-button",43),t.bIt("click",function(){t.eBV(n);const i=t.XpG(2);return t.Njj(i.mark())}),t.EFF(1),t.j41(2,"span",44),t.nrm(3,"ion-icon",45),t.k0s()()}if(2&e){const n=t.XpG(2);t.R7$(),t.SpI("",n.text.dont_send," ")}}function S(e,a){1&e&&(t.j41(0,"ion-button",46),t.nrm(1,"ion-spinner",40),t.k0s())}function Y(e,a){if(1&e&&(t.j41(0,"ion-footer",0)(1,"ion-toolbar",1),t.DNE(2,M,4,1,"ion-button",41)(3,S,2,0,"ion-button",42),t.k0s()()),2&e){const n=t.XpG();t.R7$(2),t.Y8G("ngIf",!n.hasClick),t.R7$(),t.Y8G("ngIf",n.hasClick)}}let X=(()=>{var e;class a{constructor(o,i){this.server=o,this.otherService=i,this.fakeData=[1,2,3,4,5,6],this.array=[],this.hasClick=!1;const c=localStorage.getItem("sub_data");null!==c&&(this.data=JSON.parse(c),console.log(this.data));const s=localStorage.getItem("app_lang");null!==s&&(this.text=JSON.parse(s),this.text=this.text.text)}ngOnInit(){}mark(){var o=this;return(0,l.A)(function*(){o.otherService.vacationModeConfirm("Order Cancellation & Refund Update",`Your order will be canceled in ${o.array.length} days, and the refunded amount ${o.data.currency}${o.array.length*o.data.price} will be added to your wallet. Thank you.`).then(s=>{if("ok"===s){o.hasClick=!0;const p={id:o.array,user_id:localStorage.getItem("user_id")};o.server.mark(p).subscribe(f=>{o.hasClick=!1,o.otherService.triggerLoadData.emit(),o.otherService.toast("Delivery dates updated successfully. "+f.data+" credited in your wallet."),o.otherService.redirect("subscription")})}})})()}undo(o){var i=this;return(0,l.A)(function*(){i.otherService.vacationModeConfirm("Reorder Confirmation",`The amount ${i.data.currency}${i.data.price} will be directly debited from your wallet balance. Thank you.`).then(p=>{"ok"===p&&(localStorage.getItem("user_id"),i.otherService.showLoading(),i.server.undo(o).subscribe(g=>{i.otherService.hideLoading(),"done"==g.msg?(i.otherService.toast("Delivery dates updated successfully. "+g.data+" debited from your wallet."),i.otherService.redirect("subscription")):i.otherService.toast(g.error),i.otherService.triggerLoadData.emit()}))})})()}setValue(o,i){if(1==o.detail.checked)this.array.push(i);else{let c=this.array.indexOf(i);-1!==c&&this.array.splice(c,1)}}cancel(){this.modal.dismiss(null,"cancel")}stop(){var o=this;return(0,l.A)(function*(){o.otherService.confirm().then(i=>{"ok"===i&&(o.hasClick=!0,o.server.stop(o.data.detail_id).subscribe(c=>{o.hasClick=!1,o.cancel(),o.otherService.toast(o.text.sub_stop),o.otherService.redirect("account")}))})})()}viewimg(o){return(0,l.A)(function*(){})()}}return(e=a).\u0275fac=function(o){return new(o||e)(t.rXU(h.Z),t.rXU(k.G))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-dates"]],viewQuery:function(o,i){if(1&o&&t.GBs(_.Sb,5),2&o){let c;t.mGM(c=t.lsd())&&(i.modal=c.first)}},decls:8,vars:3,consts:[[1,"ion-no-border"],["color","dark"],["slot","start"],["slot","end"],["style","color:white !important;margin-right: 10px;","id","open-modal",4,"ngIf"],["class","ion-padding",4,"ngIf"],["class","ion-no-border",4,"ngIf"],["id","open-modal",2,"color","white !important","margin-right","10px"],[1,"ion-padding"],[3,"fixed"],[2,"font-size","18px"],[1,"head"],["size","4"],["size","8",2,"text-align","right"],["class","detail",4,"ngFor","ngForOf"],["trigger","open-modal",3,"initialBreakpoint","breakpoints"],[1,"detail"],["size","4",4,"ngIf"],[4,"ngIf"],["style","color:green",4,"ngIf"],["style","color:orange",4,"ngIf"],["style","color:red",4,"ngIf"],["size","12","style","font-size: 12px;color:blue;cursor: pointer;",3,"click",4,"ngIf"],["labelPlacement","end","color","dark",3,"ionChange"],["style","margin-top: 10px;display: block;",3,"click",4,"ngIf"],[2,"margin-top","10px","display","block",3,"click"],[2,"color","green"],["name","checkmark-circle-outline",1,"f22"],[2,"color","orange"],["name","close-circle-outline",1,"f22"],[2,"color","red"],["size","12",2,"font-size","12px","color","blue","cursor","pointer",3,"click"],[3,"click",4,"ngIf"],[2,"font-size","15px"],["size","6"],["color","dark","expand","block","mode","ios",3,"click",4,"ngIf"],["color","dark","expand","block","mode","ios",4,"ngIf"],[3,"click"],["color","dark","expand","block","mode","ios",3,"click"],["color","dark","expand","block","mode","ios"],["name","crescent"],["expand","block","color","dark","mode","ios",3,"click",4,"ngIf"],["expand","block","color","dark","mode","ios",4,"ngIf"],["expand","block","color","dark","mode","ios",3,"click"],[2,"margin-left","10px","margin-top","5px"],["name","arrow-forward-outline"],["expand","block","color","dark","mode","ios"]],template:function(o,i){1&o&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),t.nrm(3,"ion-back-button"),t.k0s(),t.j41(4,"ion-buttons",3),t.DNE(5,x,2,1,"a",4),t.k0s()()(),t.DNE(6,O,20,10,"ion-content",5)(7,Y,4,2,"ion-footer",6)),2&o&&(t.R7$(5),t.Y8G("ngIf",i.text),t.R7$(),t.Y8G("ngIf",i.data&&i.text),t.R7$(),t.Y8G("ngIf",i.text&&i.array&&i.array.length>0))},dependencies:[_.bv,_.Jm,_.QW,_.eY,_.hU,_.W9,_.M0,_.lO,_.eU,_.iq,_.ln,_.w2,_.ai,_.Sb,_.hB,_.el,d.MD,d.Sq,d.bT,m.YN],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-light)}.head[_ngcontent-%COMP%]{background-color:#fff;padding:10px}.detail[_ngcontent-%COMP%]{background-color:#fff;padding:10px;margin-top:5px}.block[_ngcontent-%COMP%]{width:100%;height:300px}ion-modal[_ngcontent-%COMP%]{--height: auto}ion-modal[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{border-bottom:1px solid #efefef;padding:10px}.f22[_ngcontent-%COMP%]{font-size:22px}"]}),a})()}}]);