"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5704,5864,8304,9890],{3923:(X,I,c)=>{c.d(I,{$o:()=>f,_G:()=>R,Vq:()=>E,SQ:()=>r});var f=function(e){return e.Loaded="applePayLoaded",e.FailedToLoad="applePayFailedToLoad",e.Completed="applePayCompleted",e.Canceled="applePayCanceled",e.Failed="applePayFailed",e.DidSelectShippingContact="applePayDidSelectShippingContact",e.DidCreatePaymentMethod="applePayDidCreatePaymentMethod",e}(f||{}),R=function(e){return e.Loaded="googlePayLoaded",e.FailedToLoad="googlePayFailedToLoad",e.Completed="googlePayCompleted",e.Canceled="googlePayCanceled",e.Failed="googlePayFailed",e}(R||{}),E=function(e){return e.Loaded="paymentFlowLoaded",e.FailedToLoad="paymentFlowFailedToLoad",e.Opened="paymentFlowOpened",e.Created="paymentFlowCreated",e.Completed="paymentFlowCompleted",e.Canceled="paymentFlowCanceled",e.Failed="paymentFlowFailed",e}(E||{}),r=function(e){return e.Loaded="paymentSheetLoaded",e.FailedToLoad="paymentSheetFailedToLoad",e.Completed="paymentSheetCompleted",e.Canceled="paymentSheetCanceled",e.Failed="paymentSheetFailed",e}(r||{})},9890:(X,I,c)=>{c.r(I),c.d(I,{CartPage:()=>w});var f=c(467),R=c(177),E=c(4341),r=c(4742),e=c(7414),i=c(4531),j=c(7564),$=c(5864),N=c(5704),A=c(8304),t=c(4438),B=c(2068),x=c(9568);function D(s,k){1&s&&t.nrm(0,"ion-skeleton-text",6),2&s&&t.Y8G("animated",!0)}function g(s,k){if(1&s&&(t.j41(0,"div")(1,"ion-grid",2),t.DNE(2,D,1,1,"ion-skeleton-text",5),t.k0s()()),2&s){const a=t.XpG();t.R7$(),t.Y8G("fixed",!0),t.R7$(),t.Y8G("ngForOf",a.fakeData)}}function y(s,k){if(1&s){const a=t.RV6();t.j41(0,"ion-item",25)(1,"ion-label",26)(2,"span",27),t.EFF(3),t.k0s(),t.nrm(4,"br"),t.j41(5,"ion-row")(6,"ion-col",28)(7,"div",29)(8,"button",30),t.bIt("click",function(){const o=t.eBV(a).$implicit,_=t.XpG(4);return t.Njj(_.decrement(o))}),t.EFF(9,"-"),t.k0s(),t.j41(10,"div",31),t.EFF(11),t.k0s(),t.j41(12,"button",32),t.bIt("click",function(){const o=t.eBV(a).$implicit,_=t.XpG(4);return t.Njj(_.increment(o))}),t.EFF(13,"+ "),t.k0s()()(),t.j41(14,"ion-col",33)(15,"ion-badge",34),t.EFF(16),t.k0s()(),t.j41(17,"ion-col",35)(18,"ion-icon",36),t.bIt("click",function(){const o=t.eBV(a).$implicit,_=t.XpG(4);return t.Njj(_.remove(o.id))}),t.k0s()()()()()}if(2&s){const a=k.$implicit;t.R7$(3),t.SpI("",a.name," "),t.R7$(8),t.JRh(a.qty),t.R7$(5),t.Lme("",a.currency,"",a.price,"")}}function l(s,k){if(1&s&&(t.j41(0,"div",23),t.DNE(1,y,19,4,"ion-item",24),t.k0s()),2&s){const a=t.XpG(3);t.R7$(),t.Y8G("ngForOf",a.data)}}function C(s,k){if(1&s){const a=t.RV6();t.j41(0,"ion-item")(1,"ion-row")(2,"ion-col",39),t.nrm(3,"img",40),t.k0s(),t.j41(4,"ion-col",41)(5,"span",42),t.EFF(6),t.k0s()(),t.j41(7,"ion-col",43)(8,"div",29)(9,"button",30),t.bIt("click",function(){t.eBV(a);const o=t.XpG().$implicit,_=t.XpG(4);return t.Njj(_.decrement(o))}),t.EFF(10,"-"),t.k0s(),t.j41(11,"div",31),t.EFF(12),t.k0s(),t.j41(13,"button",32),t.bIt("click",function(){t.eBV(a);const o=t.XpG().$implicit,_=t.XpG(4);return t.Njj(_.increment(o))}),t.EFF(14,"+ "),t.k0s()()(),t.j41(15,"ion-col",44)(16,"span",42),t.EFF(17),t.nI1(18,"currency"),t.k0s()(),t.j41(19,"ion-col",45)(20,"ion-icon",36),t.bIt("click",function(){t.eBV(a);const o=t.XpG().$implicit,_=t.XpG(4);return t.Njj(_.remove(o.id))}),t.k0s()()()()}if(2&s){const a=t.XpG().$implicit;t.R7$(3),t.FS9("src",a.img,t.B4B),t.R7$(3),t.JRh(a.name),t.R7$(6),t.JRh(a.qty),t.R7$(5),t.JRh(t.i5U(18,4,a.price,"INR"))}}function p(s,k){if(1&s&&(t.j41(0,"ion-list"),t.DNE(1,C,21,7,"ion-item",3),t.k0s()),2&s){const a=t.XpG(4);t.R7$(),t.Y8G("ngIf",a.data)}}function b(s,k){if(1&s&&(t.j41(0,"ion-card-content",37),t.DNE(1,p,2,1,"ion-list",38),t.j41(2,"ion-row")(3,"ion-col",12)(4,"h3",13),t.EFF(5,"Total Amount\xa0:\xa0"),t.j41(6,"span"),t.EFF(7),t.nI1(8,"currency"),t.k0s()()()()()),2&s){const a=t.XpG(3);t.R7$(),t.Y8G("ngForOf",a.data),t.R7$(6),t.JRh(t.i5U(8,2,a.total,"INR"))}}function P(s,k){if(1&s&&(t.j41(0,"small",46),t.nrm(1,"br"),t.EFF(2),t.k0s()),2&s){const a=t.XpG(3);t.R7$(2),t.JRh(a.address.address)}}function m(s,k){if(1&s&&(t.j41(0,"small",47),t.EFF(1),t.nI1(2,"currency"),t.k0s()),2&s){const a=t.XpG(3);t.R7$(),t.Lme("",a.text.you_save," ",t.i5U(2,2,a.save,"INR"),"")}}function F(s,k){if(1&s){const a=t.RV6();t.j41(0,"ion-icon",48),t.bIt("click",function(o){t.eBV(a);const _=t.XpG(3);return t.Njj(_.removeDiscount(o))}),t.k0s()}}function h(s,k){if(1&s&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"currency"),t.k0s()),2&s){const a=t.XpG(4);t.R7$(),t.JRh(t.i5U(2,1,a.total,"INR"))}}function d(s,k){if(1&s&&(t.j41(0,"s"),t.EFF(1),t.nI1(2,"currency"),t.k0s()),2&s){const a=t.XpG(4);t.R7$(),t.JRh(t.i5U(2,1,a.total,"INR"))}}function u(s,k){if(1&s&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"currency"),t.k0s()),2&s){const a=t.XpG(4);t.R7$(),t.JRh(t.i5U(2,1,a.total-a.save,"INR"))}}function O(s,k){if(1&s&&(t.j41(0,"h3"),t.EFF(1,"Total Payable Amount\xa0:\xa0"),t.DNE(2,h,3,4,"span",3),t.EFF(3,"\xa0"),t.DNE(4,d,3,4,"s",3),t.EFF(5,"\xa0"),t.DNE(6,u,3,4,"span",3),t.k0s()),2&s){const a=t.XpG(3);t.HbH(a.isMobile?"mobile_total":"total"),t.R7$(2),t.Y8G("ngIf",!a.payble_amount),t.R7$(2),t.Y8G("ngIf",a.payble_amount),t.R7$(2),t.Y8G("ngIf",a.payble_amount)}}function M(s,k){if(1&s){const a=t.RV6();t.j41(0,"ion-row")(1,"ion-col",7)(2,"ion-card-header",8)(3,"ion-card-title"),t.EFF(4,"Selected Products"),t.k0s()(),t.DNE(5,l,2,1,"div",9)(6,b,9,5,"ion-card-content",10),t.k0s(),t.j41(7,"ion-col",7)(8,"div",11)(9,"ion-row")(10,"ion-col",12)(11,"h3",13),t.EFF(12,"Total Amount\xa0:\xa0"),t.j41(13,"span"),t.EFF(14),t.nI1(15,"currency"),t.k0s()()()(),t.j41(16,"ion-row")(17,"ion-col",12)(18,"p",14),t.EFF(19),t.k0s(),t.j41(20,"ion-item",15),t.bIt("click",function(){t.eBV(a);const o=t.XpG(2);return t.Njj(o.getAddress())}),t.j41(21,"label"),t.EFF(22),t.DNE(23,P,3,1,"small",16),t.k0s(),t.nrm(24,"ion-icon",17),t.k0s()()(),t.j41(25,"ion-row")(26,"ion-col",12)(27,"p",14),t.EFF(28),t.k0s(),t.j41(29,"ion-item",15),t.bIt("click",function(){t.eBV(a);const o=t.XpG(2);return t.Njj(o.getOffer())}),t.j41(30,"label"),t.EFF(31),t.DNE(32,m,3,5,"small",18),t.k0s(),t.nrm(33,"ion-icon",19),t.DNE(34,F,1,0,"ion-icon",20),t.k0s()()(),t.j41(35,"ion-row")(36,"ion-col",12),t.DNE(37,O,7,5,"h3",21),t.nrm(38,"br"),t.j41(39,"ion-button",22),t.bIt("click",function(){t.eBV(a);const o=t.XpG(2);return t.Njj(o.placeOrder())}),t.EFF(40),t.k0s()()()()()()}if(2&s){const a=t.XpG(2);t.R7$(),t.Y8G("size",a.isMobile?12:8),t.R7$(4),t.Y8G("ngIf",a.isMobile),t.R7$(),t.Y8G("ngIf",!a.isMobile),t.R7$(),t.Y8G("size",a.isMobile?12:4),t.R7$(7),t.JRh(t.i5U(15,14,a.total,"INR")),t.R7$(5),t.JRh(a.text.delivery_address_desc),t.R7$(3),t.SpI("",a.text.delivery_address," "),t.R7$(),t.Y8G("ngIf",a.address),t.R7$(5),t.JRh(a.text.discount_desc),t.R7$(3),t.SpI("",a.text.discount_offers," "),t.R7$(),t.Y8G("ngIf",a.save),t.R7$(2),t.Y8G("ngIf",a.save),t.R7$(3),t.Y8G("ngIf",a.validate()),t.R7$(3),t.JRh(a.text.checkout_button)}}function S(s,k){if(1&s&&(t.j41(0,"div")(1,"ion-card"),t.DNE(2,M,41,17,"ion-row",3),t.k0s()()),2&s){const a=t.XpG();t.R7$(2),t.Y8G("ngIf",a.data)}}function T(s,k){if(1&s&&(t.j41(0,"div",49),t.nrm(1,"br")(2,"br")(3,"img",50),t.j41(4,"h1",51),t.EFF(5),t.k0s(),t.j41(6,"div",49)(7,"ion-button",52),t.EFF(8),t.k0s()()()),2&s){const a=t.XpG();t.R7$(5),t.JRh(a.text.cart_empty),t.R7$(2),t.Y8G("expand",a.isMobile?"block":""),t.R7$(),t.JRh(a.text.start_item)}}(0,i.kz)();let w=(()=>{var s;class k{constructor(n,o,_,v){this.server=n,this.otherService=o,this.modalCtrl=_,this.router=v,this.fakeData=[1,2,3,4],this.selectedDay=[],this.hasClick=!1,this.isMobile=!1,this.payble_amount=0,this.show=!0;const G=localStorage.getItem("app_lang");null!==G&&(this.text=JSON.parse(G),this.text=this.text.text),"null"==localStorage.getItem("cart_no")||null==localStorage.getItem("cart_no")?(this.cart_no=Math.floor(2e9*Math.random())+1,localStorage.setItem("cart_no",this.cart_no)):this.cart_no=localStorage.getItem("cart_no"),this.checkScreenSize(),this.user_id=localStorage.getItem("user_id")}onResize(n){this.checkScreenSize()}checkScreenSize(){this.isMobile=window.innerWidth<=768}ngOnInit(){this.otherService.triggerLoadData.subscribe(()=>{this.user_id=localStorage.getItem("user_id"),this.getSavedAddress(),this.loadData()})}ionViewDidEnter(){this.otherService.statusBar("#ffffff",2),this.loadData()}loadData(){var n=this;return(0,f.A)(function*(){n.server.getCart().subscribe(o=>{n.data=o.data,n.data.map(_=>{_.selected_price=Number(_.price)*_.qty}),n.CalculateTotal(),n.getSavedAddress(),n.working_days=o.working_day,n.selectedDay=o.days,console.log(n.data)})})()}increment(n){if(n.qty<10){const o=this.data.find(_=>_.id===n.id);o.qty+=1,o.selected_price=Number(n.price)*Number(o.qty),this.CalculateTotal(),this.addToCart(n,"increment")}}decrement(n){if(n.qty>1){const o=this.data.find(_=>_.id===n.id);o.qty-=1,o.selected_price=Number(n.price)*Number(o.qty),this.CalculateTotal(),this.addToCart(n,"decrement")}}addToCart(n,o){this.server.add_to_cart({cart_no:this.cart_no,item_id:n.item_id,mode:o,qty:1,store_id:n.store_id}).subscribe(v=>{this.hasClick=!1})}CalculateTotal(){this.total=this.data.reduce((n,o)=>n+(Number(o.selected_price)||0),0)}getSavedAddress(){this.server.checkoutData().subscribe(n=>{this.checkout_data=n.data,this.savedAddress=this.checkout_data.address})}getAddress(){var n=this;return(0,f.A)(function*(){if(n.user_id){var o;const _={data:n.savedAddress,store_id:null!==(o=n.data)&&void 0!==o&&null!==(o=o.store)&&void 0!==o&&o.id?n.data.store.id:1},v=yield n.modalCtrl.create({component:j.AddressPage,animated:!0,mode:"ios",componentProps:_});return v.onDidDismiss().then(G=>{n.startDate(),G.data.id&&(n.address=G.data)}),yield v.present()}n.router.navigate(["/login"])})()}formatDate(n){return n.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric",weekday:"short"}).replace(",","").replace(/ /,"-")}startDate(){var n=this;return(0,f.A)(function*(){if(n.start_date=n.formatDate(new Date),n.sub_time=1,!n.sub_time)return n.otherService.toast(n.text.sub_time);if(!n.start_date)return;const o={plan:n.sub_time,start_date:n.start_date,cart_no:localStorage.getItem("cart_no"),user_id:localStorage.getItem("user_id"),store_id:n.checkout_data.store.id};console.log(o),n.server.getAmount(o).subscribe(_=>{n.cal=_,console.log("this.cal",n.cal),n.otherService.hideLoading(),console.log(n.cal.summery)})})()}getOffer(){var n=this;return(0,f.A)(function*(){const o=yield n.modalCtrl.create({component:$.OfferPage,animated:!0,mode:"ios",componentProps:{data:n.checkout_data.offer,type:"NORMAL"}});return o.onDidDismiss().then(_=>{_.data.code&&(n.offer=_.data,n.applyOffer())}),yield o.present()})()}applyOffer(){var n=this;return(0,f.A)(function*(){if(1==n.offer.type){const o=n.cal.total*n.offer.value/100;n.payble_amount=n.total-o,n.save=o.toFixed(1)}else n.payble_amount=n.total-n.offer.value,n.save=n.offer.value})()}validate(){return!!this.address}placeOrder(){var n=this;return(0,f.A)(function*(){n.validate()?n.total>n.checkout_data.user.wallet?n.openpaymentsModel({amount:n.total-n.checkout_data.user.wallet,stripe_key:n.checkout_data.stripe_id}):n.checkout():n.otherService.toast(n.text.all_field)})()}openpaymentsModel(n){var o=this;return(0,f.A)(function*(){const _=yield o.modalCtrl.create({component:N.PaymentPage,animated:!0,mode:"ios",componentProps:{data:n}});return _.onDidDismiss().then(v=>{v.data?o.checkout():o.otherService.toast(o.text.payment_cancel)}),yield _.present()})()}checkout(){var n=this;return(0,f.A)(function*(){n.hasClick=!0;const o={user_id:localStorage.getItem("user_id"),cart_no:localStorage.getItem("cart_no"),cal:n.cal,address:n.address.id,plan:n.sub_time,total:n.save?n.total-Number(n.save):n.total,discount:n.save,store_id:n.checkout_data.store.id,notes:localStorage.getItem("order_notes")&&"undefined"!=localStorage.getItem("order_notes")?localStorage.getItem("order_notes"):null};console.log(o),n.server.placeOrder(o).subscribe(_=>{1==_.done?(n.show=!1,localStorage.removeItem("order_notes"),n.otherService.triggerLoadData.emit(),n.openSuccessModel()):n.otherService.toast(_.error),n.hasClick=!1})})()}openSuccessModel(){var n=this;return(0,f.A)(function*(){const o=yield n.modalCtrl.create({component:A.SuccessPage,animated:!0,mode:"ios"});return o.onDidDismiss().then(_=>{_.data||n.otherService.redirect("/tabs/home")}),yield o.present()})()}removeDiscount(n){n.stopPropagation(),this.save=0,this.payble_amount=0}remove(n){var o=this;return(0,f.A)(function*(){o.otherService.confirm().then(_=>{"ok"===_&&o.server.getCart(n).subscribe(v=>{o.data=v.data,o.data.map(G=>{G.selected_price=G.price}),o.CalculateTotal(),o.otherService.triggerLoadData.emit(),o.otherService.toast(o.text.removed)})})})()}selectDay(n,o){var _=this;return(0,f.A)(function*(){let v=_.checkSelected(n,o);v?(v=999==v?0:v,_.selectedDay.splice(v,1)):_.selectedDay.push({day:n,id:o.id})})()}checkSelected(n,o,_=!1){for(var v=0;v<this.selectedDay.length;v++)if(this.selectedDay[v].day===n&&this.selectedDay[v].id==o.id)return 0==v?999:v;return!1}continue(){var n=this;return(0,f.A)(function*(){localStorage.setItem("order_notes",n.notes),n.hasClick=!0,n.server.updateDays({days:n.selectedDay}).subscribe(o=>{n.hasClick=!1,n.otherService.redirect("checkout/0")})})()}}return(s=k).\u0275fac=function(n){return new(n||s)(t.rXU(B.Z),t.rXU(x.G),t.rXU(r.W3),t.rXU(e.Ix))},s.\u0275cmp=t.VBU({type:s,selectors:[["app-cart"]],hostBindings:function(n,o){1&n&&t.bIt("resize",function(v){return o.onResize(v)},!1,t.tSv)},decls:7,vars:4,consts:[[1,"ion-no-border"],["color","dark"],[3,"fixed"],[4,"ngIf"],["class","ion-padding","style","text-align: center;",4,"ngIf"],["class","sek",3,"animated",4,"ngFor","ngForOf"],[1,"sek",3,"animated"],[3,"size"],[1,"card_title"],["class","ion-padding","style","background-color: whitesmoke !important;",4,"ngIf"],["class","scrollable-content",4,"ngIf"],[2,"padding","20px"],["size","12"],[1,"total"],[1,"desc"],["lines","none",1,"address",3,"click"],["class","address_1",4,"ngIf"],["name","location-outline","slot","start","color","dark"],["class","discount",4,"ngIf"],["name","receipt-outline","slot","start","color","dark"],["name","trash","slot","end","class","remove_discount",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["mode","ios","expand","block","color","dark","id","open-modal","expand","block",3,"click"],[1,"ion-padding",2,"background-color","whitesmoke !important"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],[1,"ion-text-wrap"],[2,"font-weight","bold","font-size","20px"],["size","6"],[1,"quantity-field"],[1,"value-button","decrease-button",3,"click"],[1,"number"],[1,"value-button","increase-button",3,"click"],["size","4"],["color","dark",2,"float","right","padding","8px 15px"],["size","2"],["name","trash",1,"trash_icon",3,"click"],[1,"scrollable-content"],[4,"ngFor","ngForOf"],["size","1"],[3,"src"],["size","5",1,"cart_item"],[1,"iname_price"],["size","3",1,"cart_item"],["size","2",1,"cart_item"],["size","1",1,"cart_item"],[1,"address_1"],[1,"discount"],["name","trash","slot","end",1,"remove_discount",3,"click"],[1,"ion-padding",2,"text-align","center"],["src","assets/empty-cart.gif",2,"width","20%"],["align","center"],["routerLink","/tabs/home","mode","ios","color","dark",3,"expand"]],template:function(n,o){1&n&&(t.j41(0,"ion-header",0),t.nrm(1,"ion-toolbar",1),t.k0s(),t.j41(2,"ion-content")(3,"ion-grid",2),t.DNE(4,g,3,2,"div",3)(5,S,3,1,"div",3)(6,T,9,3,"div",4),t.k0s()()),2&n&&(t.R7$(3),t.Y8G("fixed",!!o.isMobile),t.R7$(),t.Y8G("ngIf",!o.data),t.R7$(),t.Y8G("ngIf",o.data&&o.data.length>0),t.R7$(),t.Y8G("ngIf",o.data&&0==o.data.length))},dependencies:[r.bv,r.In,r.Jm,r.b_,r.I9,r.ME,r.tN,r.hU,r.W9,r.lO,r.eU,r.iq,r.uz,r.he,r.nf,r.ln,r.ds,r.ai,r.N7,R.MD,R.Sq,R.bT,R.oe,E.YN,e.Wk],styles:["ion-textarea[_ngcontent-%COMP%]{background-color:#fff}ion-item[_ngcontent-%COMP%]{margin-bottom:10px}.day[_ngcontent-%COMP%]{background-color:var(--ion-color-light);padding:10px;width:auto!important;text-align:center;border-radius:5px}.selected[_ngcontent-%COMP%]{background-color:var(--ion-color-dark);color:#fff;padding:10px;width:auto!important;text-align:center;border-radius:5px}.dayDiv[_ngcontent-%COMP%]{background-color:#fff;padding:10px;margin-bottom:20px}.sek[_ngcontent-%COMP%]{width:96%;height:50px;border-radius:10px;margin-left:2%;margin-top:8%}.desc[_ngcontent-%COMP%]{font-size:14px;color:gray;padding:0 10px}.cart_desc[_ngcontent-%COMP%]{display:block;margin-top:5px;color:gray;font-size:15px}.msg[_ngcontent-%COMP%]{height:100px;margin-top:20px}.iname[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--ion-color-dark)}.iname_price[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.total[_ngcontent-%COMP%]{font-weight:600;font-size:20px;text-align:right;color:#000}.mobile_total[_ngcontent-%COMP%]{font-weight:600;font-size:15px;text-align:right;color:#000}.trash_icon[_ngcontent-%COMP%]{margin-top:-1px;color:#d00101;cursor:pointer;font-size:20px;border:1px solid var(--ion-color-light);border-radius:5px;padding:5px;background-color:#f5f5f5}.quantity-field[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:80px;height:30px}.quantity-field[_ngcontent-%COMP%]   .value-button[_ngcontent-%COMP%]{border:1px solid #ddd;margin:0;width:40px;height:100%;padding:0;background:#eee;outline:none;cursor:pointer}.quantity-field[_ngcontent-%COMP%]   .value-button[_ngcontent-%COMP%]:hover{background:#e6e6e6}.quantity-field[_ngcontent-%COMP%]   .value-button[_ngcontent-%COMP%]:active{background:#d2d2d2}.quantity-field[_ngcontent-%COMP%]   .decrease-button[_ngcontent-%COMP%]{margin-right:-4px;border-radius:8px 0 0 8px;color:#d00101;font-size:25px;cursor:pointer}.quantity-field[_ngcontent-%COMP%]   .increase-button[_ngcontent-%COMP%]{margin-left:-4px;border-radius:0 8px 8px 0;color:green;font-size:25px;cursor:pointer}.number[_ngcontent-%COMP%]{border-top:1px solid #ddd;border-bottom:1px solid #ddd;text-align:center;background-color:1px solid #fff;margin:0;width:60px;height:100%;padding:0;outline:none;display:inline;font-size:20px}.address[_ngcontent-%COMP%]{--min-height: 60px !important;--padding-start: 20px;--padding-end: 20px;font-size:18px;border:1px dashed var(--ion-color-dark);width:100%;border-radius:10px;border-width:1px}.scrollable-content[_ngcontent-%COMP%]{height:78vh;overflow-y:auto;border-right:3px solid var(--ion-color-light);scrollbar-width:thin;scrollbar-color:transparent transparent}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.card_title[_ngcontent-%COMP%]{width:100%;font-weight:700;background-color:var(--ion-color-dark);padding:10px;border-radius:10px}.card_title[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--ion-color-light)}.cart_item[_ngcontent-%COMP%]{margin-top:15px}ion-card[_ngcontent-%COMP%]{margin:1rem;box-shadow:0 5px 15px #0000001a}ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light) }.discount[_ngcontent-%COMP%]{display:block;margin-top:5px;color:red}.remove_discount[_ngcontent-%COMP%]{color:red;font-size:16px;cursor:pointer;margin-top:30px}"]}),k})()},5864:(X,I,c)=>{c.r(I),c.d(I,{OfferPage:()=>y});var f=c(467),R=c(177),E=c(4341),r=c(4742),e=c(4438),i=c(9568),j=c(3656);function $(l,C){if(1&l){const p=e.RV6();e.j41(0,"ion-button",4),e.bIt("click",function(){e.eBV(p);const P=e.XpG();return e.Njj(P.close())}),e.EFF(1),e.k0s()}if(2&l){const p=e.XpG();e.R7$(),e.JRh(p.text.cancel)}}function N(l,C){if(1&l&&(e.j41(0,"p",8),e.EFF(1),e.k0s()),2&l){const p=e.XpG(2);e.R7$(),e.JRh(p.text.no_offer)}}function A(l,C){if(1&l&&(e.j41(0,"ion-item",13)(1,"ion-avatar",14),e.nrm(2,"img",15),e.k0s(),e.j41(3,"ion-label",16)(4,"b"),e.EFF(5),e.k0s(),e.j41(6,"span",17),e.EFF(7),e.k0s()()()),2&l){const p=e.XpG().$implicit;e.R7$(5),e.JRh(p.code),e.R7$(2),e.JRh(p.desc)}}function t(l,C){if(1&l){const p=e.RV6();e.j41(0,"div",11),e.bIt("click",function(){const P=e.eBV(p).$implicit,m=e.XpG(3);return e.Njj(m.setOffer(P))}),e.DNE(1,A,8,2,"ion-item",12),e.k0s()}if(2&l){const p=C.$implicit,b=e.XpG(3);e.R7$(),e.Y8G("ngIf","SUBSCRIPTION"==b.type&&"SUBSCRIPTION"==p.subscription)}}function B(l,C){if(1&l&&(e.j41(0,"ion-item",13)(1,"ion-avatar",14),e.nrm(2,"img",15),e.k0s(),e.j41(3,"ion-label",16)(4,"b"),e.EFF(5),e.k0s(),e.j41(6,"span",17),e.EFF(7),e.k0s()()()),2&l){const p=e.XpG().$implicit;e.R7$(5),e.JRh(p.code),e.R7$(2),e.JRh(p.desc)}}function x(l,C){if(1&l){const p=e.RV6();e.j41(0,"div",11),e.bIt("click",function(){const P=e.eBV(p).$implicit,m=e.XpG(3);return e.Njj(m.setOffer(P))}),e.DNE(1,B,8,2,"ion-item",12),e.k0s()}if(2&l){const p=C.$implicit,b=e.XpG(3);e.R7$(),e.Y8G("ngIf","NORMAL"==b.type&&"NORMAL"==p.subscription)}}function D(l,C){if(1&l&&(e.j41(0,"div")(1,"ion-note",9),e.EFF(2),e.k0s(),e.nrm(3,"br")(4,"br"),e.DNE(5,t,2,1,"div",10)(6,x,2,1,"div",10),e.k0s()),2&l){const p=e.XpG(2);e.R7$(2),e.JRh(p.text.avilable_offer),e.R7$(3),e.Y8G("ngForOf",p.data),e.R7$(),e.Y8G("ngForOf",p.data)}}function g(l,C){if(1&l&&(e.j41(0,"ion-content",5),e.DNE(1,N,2,1,"p",6)(2,D,7,3,"div",7),e.k0s()),2&l){const p=e.XpG();e.R7$(),e.Y8G("ngIf",p.data&&0==p.data.length),e.R7$(),e.Y8G("ngIf",p.data&&p.data.length>0)}}let y=(()=>{var l;class C{constructor(b,P){this.otherService=b,this.navParams=P,this.data=P.get("data"),this.type=P.get("type"),console.log("this.type",this.type);const m=localStorage.getItem("app_lang");null!==m&&(this.text=JSON.parse(m),this.text=this.text.text)}ngOnInit(){}close(b=null){var P=this;return(0,f.A)(function*(){P.otherService.closeModel(b)})()}setOffer(b){var P=this;return(0,f.A)(function*(){P.otherService.closeModel(b)})()}}return(l=C).\u0275fac=function(b){return new(b||l)(e.rXU(i.G),e.rXU(j.y8))},l.\u0275cmp=e.VBU({type:l,selectors:[["app-offer"]],decls:5,vars:2,consts:[[1,"ion-no-border"],["slot","end"],["color","medium",3,"click",4,"ngIf"],["class","ion-padding",4,"ngIf"],["color","medium",3,"click"],[1,"ion-padding"],["align","center",4,"ngIf"],[4,"ngIf"],["align","center"],[2,"color","black"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["lines","none","detail","","style","cursor: pointer;",4,"ngIf"],["lines","none","detail","",2,"cursor","pointer"],["slot","start"],["src","assets/discount-icon.png"],[1,"ion-text-wrap"],[2,"display","block","margin-top","5px"]],template:function(b,P){1&b&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.DNE(3,$,2,1,"ion-button",2),e.k0s()()(),e.DNE(4,g,3,2,"ion-content",3)),2&b&&(e.R7$(3),e.Y8G("ngIf",P.text),e.R7$(),e.Y8G("ngIf",P.data&&P.text))},dependencies:[r.bv,r.mC,r.Jm,r.QW,r.W9,r.eU,r.uz,r.he,r.JI,r.ai,R.MD,R.Sq,R.bT,E.YN],styles:["ion-item[_ngcontent-%COMP%]{margin-top:20px;--min-height: 50px !important;border-radius:5px}ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light)}"]}),C})()},5704:(X,I,c)=>{c.r(I),c.d(I,{PaymentPage:()=>P});var f=c(467),R=c(177),E=c(4341),r=c(4742),e=c(5083),i=c(3923);const j=(0,e.F3)("Stripe",{web:()=>c.e(1651).then(c.bind(c,1651)).then(m=>new m.StripeWeb)});var $=c(1594),N=c(9350),t=c(4438),B=c(3656),x=c(9568),D=c(1626),g=c(2068);function y(m,F){if(1&m){const h=t.RV6();t.j41(0,"ion-button",4),t.bIt("click",function(){t.eBV(h);const u=t.XpG();return t.Njj(u.close())}),t.EFF(1),t.k0s()}if(2&m){const h=t.XpG();t.R7$(),t.JRh(h.text.cancel)}}function l(m,F){1&m&&t.nrm(0,"ion-spinner",13)}function C(m,F){if(1&m){const h=t.RV6();t.j41(0,"ion-item",8),t.bIt("click",function(){t.eBV(h);const u=t.XpG(2);return t.Njj(u.paymentSheet())}),t.j41(1,"ion-thumbnail",9),t.nrm(2,"img",12),t.k0s(),t.j41(3,"ion-label"),t.EFF(4),t.k0s(),t.DNE(5,l,1,0,"ion-spinner",11),t.k0s()}if(2&m){const h=t.XpG(2);t.R7$(4),t.JRh(h.text.credit),t.R7$(),t.Y8G("ngIf",1==h.payment_method)}}function p(m,F){1&m&&t.nrm(0,"ion-spinner",13)}function b(m,F){if(1&m){const h=t.RV6();t.j41(0,"ion-content",5)(1,"h3"),t.EFF(2),t.j41(3,"ion-badge",6),t.EFF(4),t.k0s()(),t.nrm(5,"br")(6,"br"),t.DNE(7,C,6,2,"ion-item",7),t.nrm(8,"br"),t.j41(9,"ion-item",8),t.bIt("click",function(){t.eBV(h);const u=t.XpG();return t.Njj(u.payWithRazorpay())}),t.j41(10,"ion-label"),t.EFF(11),t.k0s(),t.j41(12,"ion-thumbnail",9),t.nrm(13,"img",10),t.k0s(),t.DNE(14,p,1,0,"ion-spinner",11),t.k0s(),t.nrm(15,"br")(16,"br")(17,"br")(18,"br"),t.j41(19,"b"),t.EFF(20,"For stripe use these Test card detail : "),t.k0s(),t.j41(21,"p"),t.EFF(22,"Card No : 4242 4242 4242 4242"),t.k0s(),t.j41(23,"p"),t.EFF(24,"Exp. 12/25 CVV : 321"),t.k0s()()}if(2&m){const h=t.XpG();t.R7$(2),t.SpI("",h.text.select_payment_method," "),t.R7$(2),t.Lme("",h.setting.currency,"",h.data.amount,""),t.R7$(3),t.Y8G("ngIf",h.setting.stripe_key),t.R7$(4),t.SpI(" ",h.text.upi,""),t.R7$(3),t.Y8G("ngIf",2==h.payment_method)}}let P=(()=>{var m;class F{constructor(d,u,O,M){this.navParams=d,this.otherService=u,this.http=O,this.server=M,this.data=d.get("data");const S=localStorage.getItem("admin_setting"),T=localStorage.getItem("user_data");null!==S&&(this.setting=JSON.parse(S)),null!==T&&(this.user=JSON.parse(T));const w=localStorage.getItem("app_lang");null!==w&&(this.text=JSON.parse(w),this.text=this.text.text),j.initialize({publishableKey:this.data.stripe_key}),this.meta={counsumer_id:778383,consumer_mac:"sdjksfhsd887f8s"},this.customizations={title:"Wallet Recharge",description:"Wallet Recharge",logo:"https://dicont.s3.amazonaws.com/static/flow-logos/flutterwave-logo.png"},this.customerDetails={name:this.user.name,email:this.user.email,phone_number:this.user.phone}}ngOnInit(){}updateWallet(d=null){var u=this;return(0,f.A)(function*(){const O={amount:u.data.amount,user_id:localStorage.getItem("user_id"),trans_id:d,payment_method:u.payment_method,notes:"Wallet Recharge"};u.server.updateWallet(O).subscribe(M=>{u.payment_method=null,u.otherService.toast(u.text.payment_added),u.close(d)})})()}close(d=null){var u=this;return(0,f.A)(function*(){u.otherService.closeModel(d)})()}httpPost(){const d={user:localStorage.getItem("user_id"),total:this.data.amount};return this.http.post(this.server.getApiUrl()+"stripePayment",d).pipe((0,$.$)())}paymentSheet(){var d=this;return(0,f.A)(function*(){d.payment_method=1;try{j.addListener(i.SQ.Completed,()=>{console.log("PaymentSheetEventsEnum.Completed")});const u=d.httpPost();console.log(u);const{paymentIntent:O,ephemeralKey:M,customer:S}=yield function A(m,F){const h="object"==typeof F;return new Promise((d,u)=>{let M,O=!1;m.subscribe({next:S=>{M=S,O=!0},error:u,complete:()=>{O?d(M):h?d(F.defaultValue):u(new N.G)}})})}(u);yield j.createPaymentSheet({paymentIntentClientSecret:O,customerId:S,customerEphemeralKeySecret:M,merchantDisplayName:d.setting.app_name});const T=yield j.presentPaymentSheet();console.log("result: ",T),T&&T.paymentResult===i.SQ.Completed?d.updateWallet(d.splitAndJoin(O)):d.otherService.toast(d.text.payment_cancel)}catch{d.otherService.toast(d.text.payment_cancel)}})()}splitAndJoin(d){const u=d.split("_").slice(0,2).join("_");return console.log(u),u}payWithRazorpay(){var d=this;return(0,f.A)(function*(){RazorpayCheckout.open({description:"Pay Now",image:"https://cdn.iconscout.com/icon/free/png-512/bhim-3-69845.png",currency:"INR",key:d.setting.razor_key,amount:100*d.data.amount,name:d.user.name,prefill:{email:d.user.email,contact:d.user.phone},theme:{color:"#2196f3"},modal:{ondismiss:function(){alert("dismissed")}}},S=>{d.updateWallet(Date.now())},S=>{d.otherService.toast(d.text.payment_cancel)})})()}}return(m=F).\u0275fac=function(d){return new(d||m)(t.rXU(B.y8),t.rXU(x.G),t.rXU(D.Qq),t.rXU(g.Z))},m.\u0275cmp=t.VBU({type:m,selectors:[["app-payment"]],decls:5,vars:2,consts:[[1,"ion-no-border"],["slot","end"],["color","medium",3,"click",4,"ngIf"],["class","ion-padding",4,"ngIf"],["color","medium",3,"click"],[1,"ion-padding"],["color","dark",2,"float","right","margin-top","5px"],["lines","none","detail","",3,"click",4,"ngIf"],["lines","none","detail","",3,"click"],["slot","start"],["src","assets/razor.png"],["name","crescent","slot","end",4,"ngIf"],["src","assets/stripe.png"],["name","crescent","slot","end"]],template:function(d,u){1&d&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t.DNE(3,y,2,1,"ion-button",2),t.k0s()()(),t.DNE(4,b,25,6,"ion-content",3)),2&d&&(t.R7$(3),t.Y8G("ngIf",u.text),t.R7$(),t.Y8G("ngIf",u.data&&u.text))},dependencies:[r.bv,r.In,r.Jm,r.QW,r.W9,r.eU,r.uz,r.he,r.w2,r.Zx,r.ai,R.MD,R.bT,E.YN],styles:["ion-item[_ngcontent-%COMP%]{border-radius:5px;--min-height:60px;border:1px solid #f1f1f1}ion-toolbar[_ngcontent-%COMP%]{--background: white}ion-thumbnail[_ngcontent-%COMP%]{width:32px;height:32px}"]}),F})()},8304:(X,I,c)=>{c.r(I),c.d(I,{SuccessPage:()=>B});var f=c(467),R=c(177),E=c(4341),r=c(4742),e=c(7414),i=c(4438),j=c(9568);function $(x,D){if(1&x){const g=i.RV6();i.j41(0,"ion-button",4),i.bIt("click",function(){i.eBV(g);const l=i.XpG();return i.Njj(l.close())}),i.EFF(1),i.k0s()}if(2&x){const g=i.XpG();i.R7$(),i.JRh(g.text.cancel)}}function N(x,D){1&x&&i.nrm(0,"ion-col",16)}function A(x,D){1&x&&i.nrm(0,"ion-col",16)}function t(x,D){if(1&x){const g=i.RV6();i.j41(0,"ion-content",5)(1,"ion-grid",6)(2,"ion-row",7)(3,"ion-col",8),i.nrm(4,"img",9),i.k0s(),i.j41(5,"ion-col",8)(6,"h1",10),i.EFF(7),i.k0s(),i.j41(8,"p",11),i.EFF(9),i.k0s(),i.nrm(10,"br")(11,"br"),i.j41(12,"ion-row",7),i.DNE(13,N,1,0,"ion-col",12),i.j41(14,"ion-col",8)(15,"ion-button",13),i.bIt("click",function(){i.eBV(g);const l=i.XpG();return i.Njj(l.close())}),i.j41(16,"span",14),i.EFF(17),i.k0s()()(),i.j41(18,"ion-col",8)(19,"ion-button",15),i.bIt("click",function(){i.eBV(g);const l=i.XpG();return i.Njj(l.close())}),i.j41(20,"span",14),i.EFF(21),i.k0s()()(),i.DNE(22,A,1,0,"ion-col",12),i.k0s()()()()()}if(2&x){const g=i.XpG();i.R7$(),i.Y8G("fixed",!0),i.R7$(2),i.Y8G("size",12),i.R7$(2),i.Y8G("size",12),i.R7$(2),i.JRh(g.text.success_title),i.R7$(2),i.JRh(g.text.success_desc),i.R7$(4),i.Y8G("ngIf",!g.isMobile),i.R7$(),i.Y8G("size",g.isMobile?6:3),i.R7$(3),i.JRh(g.text.go_back),i.R7$(),i.Y8G("size",g.isMobile?6:3),i.R7$(3),i.JRh(g.text.my_order),i.R7$(),i.Y8G("ngIf",!g.isMobile)}}let B=(()=>{var x;class D{constructor(y){this.otherService=y,this.isMobile=!1;const l=localStorage.getItem("app_lang");null!==l&&(this.text=JSON.parse(l),this.text=this.text.text),this.checkScreenSize()}onResize(y){this.checkScreenSize()}checkScreenSize(){this.isMobile=window.innerWidth<=768}ngOnInit(){}close(y=[]){var l=this;return(0,f.A)(function*(){l.otherService.closeModel(y)})()}}return(x=D).\u0275fac=function(y){return new(y||x)(i.rXU(j.G))},x.\u0275cmp=i.VBU({type:x,selectors:[["app-success"]],hostBindings:function(y,l){1&y&&i.bIt("resize",function(p){return l.onResize(p)},!1,i.tSv)},decls:5,vars:2,consts:[[1,"ion-no-border"],["slot","end"],["color","medium",3,"click",4,"ngIf"],["class","ion-padding",4,"ngIf"],["color","medium",3,"click"],[1,"ion-padding"],[3,"fixed"],[2,"text-align","center"],[3,"size"],["src","assets/confirm.gif",2,"width","22%","margin-top","50px"],["align","center"],["align","center",2,"color","gray"],["size","3",4,"ngIf"],["shape","round","color","dark","routerLink","/tabs/home","routerDirection","root",3,"click"],[2,"white-space","nowrap"],["shape","round","color","dark","routerLink","/tabs/account","routerDirection","forward",3,"click"],["size","3"]],template:function(y,l){1&y&&(i.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),i.DNE(3,$,2,1,"ion-button",2),i.k0s()()(),i.DNE(4,t,23,11,"ion-content",3)),2&y&&(i.R7$(3),i.Y8G("ngIf",l.text),i.R7$(),i.Y8G("ngIf",l.text))},dependencies:[r.bv,r.Jm,r.QW,r.hU,r.W9,r.lO,r.eU,r.ln,r.ai,r.N7,R.MD,R.bT,E.YN,e.Wk],styles:["ion-content[_ngcontent-%COMP%]{height:80vh;overflow-y:auto;border-right:3px solid whitesmoke;scrollbar-width:thin;scrollbar-color:transparent transparent}ion-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}"]}),D})()}}]);