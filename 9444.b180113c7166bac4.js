"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9444],{9444:(k,p,s)=>{s.r(p),s.d(p,{LoginPage:()=>C});var f=s(467),_=s(177),g=s(4341),t=s(4742),u=s(8870),e=s(4438),h=s(2068),b=s(9568);function M(i,c){if(1&i&&e.nrm(0,"ion-input",21),2&i){const o=e.XpG();e.FS9("label",o.text.phone),e.Y8G("disabled",o.hasClick)}}function P(i,c){if(1&i){const o=e.RV6();e.j41(0,"ion-input",22),e.mxI("ngModelChange",function(n){e.eBV(o);const l=e.XpG();return e.DH7(l.email,n)||(l.email=n),e.Njj(n)}),e.k0s()}if(2&i){const o=e.XpG();e.FS9("label",o.text.email),e.R50("ngModel",o.email),e.Y8G("disabled",o.hasClick)}}function x(i,c){if(1&i&&(e.j41(0,"ion-button",23),e.EFF(1),e.k0s()),2&i){const o=e.XpG();e.R7$(),e.SpI(" ",o.text.login," ")}}function v(i,c){1&i&&(e.j41(0,"ion-button",24),e.nrm(1,"ion-spinner",25),e.k0s())}let C=(()=>{var i;class c{constructor(a,n,l,d){this.server=a,this.otherService=n,this.loctaion=l,this.router=d,this.hasClick=!1,this.email="",this.password="",this.isMobile=!1,this.otherService.statusBar("#ffc927",2);const r=localStorage.getItem("admin_setting");null!==r&&(this.setting=JSON.parse(r));const m=localStorage.getItem("app_lang");null!==m&&(this.text=JSON.parse(m),this.text=this.text.text),this.checkScreenSize()}onResize(a){this.checkScreenSize()}checkScreenSize(){this.isMobile=window.innerWidth<=768}ngOnInit(){}login(a){var n=this;return(0,f.A)(function*(){if(0==a.password.length)return n.otherService.toast(n.text.correct_detail);n.hasClick=!0,n.server.login(a).subscribe(l=>{n.hasClick=!1,"done"!=l.msg?n.otherService.toast(l.error):(localStorage.setItem("user_id",l.user.id),localStorage.setItem("user_data",JSON.stringify(l.user)),n.otherService.triggerLoadData.emit(),n.otherService.toast(n.text.logged_in),window,n.loctaion.back())})})()}}return(i=c).\u0275fac=function(a){return new(a||i)(e.rXU(h.Z),e.rXU(b.G),e.rXU(_.aZ),e.rXU(u.Ix))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-login"]],hostBindings:function(a,n){1&a&&e.bIt("resize",function(d){return n.onResize(d)},!1,e.tSv)},decls:31,vars:14,consts:[["form","ngForm"],[1,"ion-no-border"],["color","dark"],[1,"ion-padding","login-content",3,"fullscreen"],["size","4"],[3,"size"],[1,"login-card"],[1,"logo-container"],["src","assets/login.png",1,"login-image"],[1,"login-title"],[3,"ngSubmit"],["name","phone","ngModel","","label-placement","floating","fill","outline","mode","md","class","input-item","oninput","this.value = this.value.replace(/[^0-9]/g, '').replace(/(\\..*?)\\..*/g, '$1');","maxlength","10",3,"label","disabled",4,"ngIf"],["name","email","label-placement","floating","fill","outline","mode","md","class","input-item",3,"label","ngModel","disabled","ngModelChange",4,"ngIf"],["type","password","name","password","label-placement","floating","fill","outline","mode","md",1,"input-item",3,"ngModelChange","label","ngModel","disabled"],[1,"forgot-password"],["routerLink","/forgot"],["mode","ios","expand","block","color","dark","type","submit",4,"ngIf"],["mode","ios","expand","block","color","dark","type","button",4,"ngIf"],[1,"signup-text"],["routerLink","/signup"],["size","3"],["name","phone","ngModel","","label-placement","floating","fill","outline","mode","md","oninput","this.value = this.value.replace(/[^0-9]/g, '').replace(/(\\..*?)\\..*/g, '$1');","maxlength","10",1,"input-item",3,"label","disabled"],["name","email","label-placement","floating","fill","outline","mode","md",1,"input-item",3,"ngModelChange","label","ngModel","disabled"],["mode","ios","expand","block","color","dark","type","submit"],["mode","ios","expand","block","color","dark","type","button"],["name","crescent"]],template:function(a,n){if(1&a){const l=e.RV6();e.j41(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-buttons"),e.nrm(3,"ion-back-button"),e.k0s()()(),e.j41(4,"ion-content",3)(5,"ion-grid")(6,"ion-row"),e.nrm(7,"ion-col",4),e.j41(8,"ion-col",5)(9,"ion-card",6)(10,"ion-card-content")(11,"div",7),e.nrm(12,"img",8),e.k0s(),e.j41(13,"h2",9),e.EFF(14),e.k0s(),e.j41(15,"form",10,0),e.bIt("ngSubmit",function(){e.eBV(l);const r=e.sdS(16);return e.Njj(n.login(r.value))}),e.DNE(17,M,1,2,"ion-input",11)(18,P,1,3,"ion-input",12),e.j41(19,"ion-input",13),e.mxI("ngModelChange",function(r){return e.eBV(l),e.DH7(n.password,r)||(n.password=r),e.Njj(r)}),e.k0s(),e.j41(20,"p",14),e.EFF(21),e.j41(22,"a",15),e.EFF(23),e.k0s()(),e.DNE(24,x,2,1,"ion-button",16)(25,v,2,0,"ion-button",17),e.j41(26,"p",18),e.EFF(27),e.j41(28,"a",19),e.EFF(29),e.k0s()()()()()(),e.nrm(30,"ion-col",20),e.k0s()()()}2&a&&(e.R7$(4),e.Y8G("fullscreen",!0),e.R7$(4),e.Y8G("size",n.isMobile?"11":"6"),e.R7$(6),e.JRh(n.text.login_title),e.R7$(3),e.Y8G("ngIf",1==n.setting.verify_type||2==n.setting.verify_type),e.R7$(),e.Y8G("ngIf",3==n.setting.verify_type||0==n.setting.verify_type),e.R7$(),e.FS9("label",n.text.password),e.R50("ngModel",n.password),e.Y8G("disabled",n.hasClick),e.R7$(2),e.SpI(" ",n.text.forgot," "),e.R7$(2),e.JRh(n.text.reset),e.R7$(),e.Y8G("ngIf",!n.hasClick),e.R7$(),e.Y8G("ngIf",n.hasClick),e.R7$(2),e.SpI(" ",n.text.dont_account," "),e.R7$(2),e.JRh(n.text.signup_here))},dependencies:[t.bv,t.Jm,t.QW,t.b_,t.I9,t.hU,t.W9,t.lO,t.eU,t.$w,t.ln,t.w2,t.ai,t.Gw,t.el,t.oY,_.MD,_.bT,g.YN,g.qT,g.BC,g.cb,g.tU,g.vS,g.cV,u.Wk],styles:[".login-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:#f4f4f4}ion-input[_ngcontent-%COMP%]{color:#000}.login-card[_ngcontent-%COMP%]{max-width:400px;width:100%;border-radius:12px;box-shadow:0 4px 10px #0003;padding:20px;background:#fff}.logo-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px}.login-image[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:contain}.login-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--ion-color-dark);margin-bottom:15px;text-align:center}.input-item[_ngcontent-%COMP%]{margin-bottom:15px}.forgot-password[_ngcontent-%COMP%]{text-align:right;font-size:14px;color:#666}.signup-text[_ngcontent-%COMP%]{text-align:center;font-size:14px;margin-top:10px}"]}),c})()}}]);