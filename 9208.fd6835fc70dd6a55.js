"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9208],{9208:(O,u,c)=>{c.r(u),c.d(u,{CustomPage:()=>T});var p=c(467),l=c(177),d=c(4341),s=c(4742),m=c(3804),t=c(4438),f=c(9568),h=c(2068);function x(o,_){if(1&o&&(t.j41(0,"ion-segment-button",9),t.EFF(1),t.k0s()),2&o){const n=t.XpG(2);t.Y8G("value",2),t.R7$(),t.JRh(n.text.breakfast)}}function b(o,_){if(1&o&&(t.j41(0,"ion-segment-button",9),t.EFF(1),t.k0s()),2&o){const n=t.XpG(2);t.Y8G("value",3),t.R7$(),t.JRh(n.text.lunch)}}function C(o,_){if(1&o&&(t.j41(0,"ion-segment-button",9),t.EFF(1),t.k0s()),2&o){const n=t.XpG(2);t.Y8G("value",4),t.R7$(),t.JRh(n.text.dinner)}}function k(o,_){if(1&o&&(t.j41(0,"p",10),t.EFF(1),t.k0s()),2&o){const n=t.XpG(2);t.R7$(),t.Lme("",n.text.delivery_time," ",n.store.b_time,"")}}function P(o,_){if(1&o&&(t.j41(0,"p",10),t.EFF(1),t.k0s()),2&o){const n=t.XpG(2);t.R7$(),t.Lme("",n.text.delivery_time," ",n.store.l_time,"")}}function v(o,_){if(1&o&&(t.j41(0,"p",10),t.EFF(1),t.k0s()),2&o){const n=t.XpG(2);t.R7$(),t.Lme("",n.text.delivery_time," ",n.store.d_time,"")}}function y(o,_){if(1&o){const n=t.RV6();t.j41(0,"small",17),t.bIt("click",function(){t.eBV(n);const i=t.XpG(2).$implicit,a=t.XpG(2);return t.Njj(a.add(i))}),t.EFF(1),t.k0s()}if(2&o){const n=t.XpG(4);t.R7$(),t.SpI("+ ",n.text.add,"")}}function I(o,_){if(1&o){const n=t.RV6();t.j41(0,"div",18)(1,"button",19),t.bIt("click",function(){t.eBV(n);const i=t.XpG(2).$implicit,a=t.XpG(2);return t.Njj(a.update(2,i.id))}),t.EFF(2," - "),t.k0s(),t.nrm(3,"input",20),t.j41(4,"button",21),t.bIt("click",function(){t.eBV(n);const i=t.XpG(2).$implicit,a=t.XpG(2);return t.Njj(a.update(1,i.id))}),t.EFF(5,"+"),t.k0s()()}if(2&o){const n=t.XpG(2).$implicit,e=t.XpG(2);t.R7$(3),t.FS9("value",e.hasItem(n.id))}}function R(o,_){if(1&o&&(t.j41(0,"ion-row")(1,"ion-col",12),t.EFF(2),t.k0s(),t.j41(3,"ion-col",13),t.DNE(4,y,2,1,"small",14)(5,I,6,1,"div",15),t.k0s(),t.j41(6,"ion-col",16)(7,"b"),t.EFF(8),t.k0s(),t.EFF(9),t.k0s()()),2&o){const n=t.XpG().$implicit,e=t.XpG(2);t.R7$(2),t.JRh(n.name),t.R7$(2),t.Y8G("ngIf",!e.hasItem(n.id)),t.R7$(),t.Y8G("ngIf",e.hasItem(n.id)),t.R7$(3),t.Lme("",n.currency,"",n.price,""),t.R7$(),t.SpI(" - ",n.desc,"")}}function D(o,_){if(1&o&&(t.j41(0,"div",11),t.DNE(1,R,10,6,"ion-row",8),t.k0s()),2&o){const n=_.$implicit,e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.chkFilter(n))}}function E(o,_){if(1&o){const n=t.RV6();t.j41(0,"ion-button",25),t.bIt("click",function(){t.eBV(n);const i=t.XpG(3);return t.Njj(i.add_to_cart())}),t.EFF(1),t.k0s()}if(2&o){const n=t.XpG(3);t.R7$(),t.JRh(n.text.add_to_cart)}}function G(o,_){1&o&&(t.j41(0,"ion-button",26),t.nrm(1,"ion-spinner",27),t.k0s())}function M(o,_){if(1&o&&(t.j41(0,"div")(1,"p",22),t.EFF(2),t.k0s(),t.DNE(3,E,2,1,"ion-button",23)(4,G,2,0,"ion-button",24),t.k0s()),2&o){const n=t.XpG(2);t.R7$(2),t.Lme("",n.text.total_amount," : ",n.getTotal(),""),t.R7$(),t.Y8G("ngIf",!n.hasClick),t.R7$(),t.Y8G("ngIf",n.hasClick)}}function F(o,_){if(1&o){const n=t.RV6();t.j41(0,"ion-content",3)(1,"h3"),t.EFF(2),t.k0s(),t.nrm(3,"br")(4,"br"),t.j41(5,"ion-segment",4),t.mxI("ngModelChange",function(i){t.eBV(n);const a=t.XpG();return t.DH7(a.type,i)||(a.type=i),t.Njj(i)}),t.bIt("ionChange",function(i){t.eBV(n);const a=t.XpG();return t.Njj(a.setType(i))}),t.DNE(6,x,2,2,"ion-segment-button",5)(7,b,2,2,"ion-segment-button",5)(8,C,2,2,"ion-segment-button",5),t.k0s(),t.nrm(9,"br"),t.DNE(10,k,2,2,"p",6)(11,P,2,2,"p",6)(12,v,2,2,"p",6),t.nrm(13,"br"),t.DNE(14,D,2,1,"div",7)(15,M,5,4,"div",8),t.k0s()}if(2&o){const n=t.XpG();t.R7$(2),t.JRh(n.text.custom_title),t.R7$(3),t.Y8G("scrollable",!0),t.R50("ngModel",n.type),t.R7$(),t.Y8G("ngIf",0==n.store.breakfast),t.R7$(),t.Y8G("ngIf",0==n.store.lunch),t.R7$(),t.Y8G("ngIf",0==n.store.dinner),t.R7$(2),t.Y8G("ngIf",2==n.type),t.R7$(),t.Y8G("ngIf",3==n.type),t.R7$(),t.Y8G("ngIf",4==n.type),t.R7$(2),t.Y8G("ngForOf",n.data),t.R7$(),t.Y8G("ngIf",n.addData&&n.addData.length>0)}}(0,m.kz)();let T=(()=>{var o;class _{constructor(e,i){this.otherService=e,this.server=i,this.qty=1,this.type=2,this.hasClick=!1,this.addData=[];const a=localStorage.getItem("custom_data"),r=localStorage.getItem("store_data");null!==a&&(this.data=JSON.parse(a)),null!==r&&(this.store=JSON.parse(r));const g=localStorage.getItem("app_lang");null!==g&&(this.text=JSON.parse(g),this.text=this.text.text),"null"==localStorage.getItem("cart_no")||null==localStorage.getItem("cart_no")?(this.cart_no=Math.floor(2e9*Math.random())+1,localStorage.setItem("cart_no",this.cart_no)):this.cart_no=localStorage.getItem("cart_no")}ngOnInit(){}addQty(e){this.qty=0==e?1*this.qty+1:this.qty>1?this.qty-1:1}goBack(){var e=this;return(0,p.A)(function*(){return e.otherService.goBack()})()}add_to_cart(){var e=this;return(0,p.A)(function*(){e.hasClick=!0;var i={cart_no:e.cart_no,item:e.addData,item_type:e.type,store_id:e.store.id,price:e.getTotal()};console.log(i),e.server.customCart(i).subscribe(a=>{e.hasClick=!1,e.otherService.toast(e.text.added),e.otherService.goBack()})})()}chkFilter(e){return 1==this.type||(2==this.type?1==e.breakfast:3==this.type?1==e.lunch:4!=this.type||1==e.dinner)}add(e){this.addData.push({id:e.id,qty:1,price:e.price})}hasItem(e){for(var i=0;i<this.addData.length;i++)if(e==this.addData[i].id)return this.addData[i].qty;return!1}update(e,i){this.getTotal();for(var a=0;a<this.addData.length;a++)if(i==this.addData[a].id)return 1==e?this.addData[a].qty+=1:1==this.addData[a].qty?this.addData.splice(a,1):this.addData[a].qty-=1,this.addData[a].qty}setType(e){this.addData=[]}getTotal(){let e=0;for(let i=0;i<this.addData.length;i++){const a=this.addData[i];e+=parseInt(1*a.price*(1*a.qty))}return e}}return(o=_).\u0275fac=function(e){return new(e||o)(t.rXU(f.G),t.rXU(h.Z))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-custom"]],decls:5,vars:1,consts:[[1,"ion-no-border"],["color","light"],["class","ion-padding",4,"ngIf"],[1,"ion-padding"],["mode","md","color","dark",3,"ngModelChange","ionChange","scrollable","ngModel"],[3,"value",4,"ngIf"],["class","d_time",4,"ngIf"],["style","margin-bottom: 10px;",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[1,"d_time"],[2,"margin-bottom","10px"],["size","7"],["size","5",2,"text-align","right"],["class","add",3,"click",4,"ngIf"],["class","quantitybtn",4,"ngIf"],["size","12",2,"font-size","14px"],[1,"add",3,"click"],[1,"quantitybtn"],["type","button","data-quantity","plus","data-field","quantity",1,"sign","plus",3,"click"],["type","text","name","qty","readonly","readonly",1,"quantityinput",3,"value"],["type","button","data-quantity","minus","data-field","quantity",1,"sign","minus",3,"click"],["align","center"],["mode","ios","expand","block","color","dark",3,"click",4,"ngIf"],["mode","ios","expand","block","color","dark",4,"ngIf"],["mode","ios","expand","block","color","dark",3,"click"],["mode","ios","expand","block","color","dark"],["name","crescent"]],template:function(e,i){1&e&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons"),t.nrm(3,"ion-back-button"),t.k0s()()(),t.DNE(4,F,16,11,"ion-content",2)),2&e&&(t.R7$(4),t.Y8G("ngIf",i.data&&i.text))},dependencies:[s.bv,s.Jm,s.QW,s.hU,s.W9,s.eU,s.ln,s.Gp,s.eP,s.w2,s.ai,s.Je,s.el,l.MD,l.Sq,l.bT,d.YN,d.BC,d.vS],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-light)}ion-list[_ngcontent-%COMP%]{border-radius:10px}ion-item[_ngcontent-%COMP%]{border-radius:10px}ion-row[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border-radius:5px}.quantityinput[_ngcontent-%COMP%]{padding:2px;text-align:center;border:0px solid #ccc;background:#fff;width:28px;font-size:14px}.quantitybtn[_ngcontent-%COMP%]   .sign[_ngcontent-%COMP%]{padding:7px 2px;width:20px;text-align:center;cursor:pointer;font-weight:700;outline:none}.quantitybtn[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{background:#f44336;border:1px solid #f44336;color:#fff;border-radius:5px 0 0 5px}.quantitybtn[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]{background:#304b58;border:1px solid #304b58;color:#fff;border-radius:0 5px 5px 0}.add[_ngcontent-%COMP%]{font-size:12px!important;border:1px solid #bdbdbd;padding:6px 15px;border-radius:10px}.d_time[_ngcontent-%COMP%]{font-size:14px;padding:0 10px}ion-segment[_ngcontent-%COMP%]{--background:white}"]}),_})()}}]);