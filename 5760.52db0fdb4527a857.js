"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5760],{5760:(R,g,s)=>{s.r(g),s.d(g,{BookPage:()=>B});var c=s(467),l=s(177),h=s(4341),a=s(4742),m=s(7564),t=s(4438),f=s(2068),p=s(9568);function u(n,r){if(1&n&&(t.j41(0,"ion-title"),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.JRh(e.text.address_book)}}function k(n,r){1&n&&t.nrm(0,"ion-skeleton-text",11),2&n&&t.Y8G("animated",!0)}function v(n,r){if(1&n&&(t.j41(0,"div"),t.DNE(1,k,1,1,"ion-skeleton-text",10),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.fakeData)}}function E(n,r){if(1&n){const e=t.RV6();t.j41(0,"ion-col",13)(1,"ion-card",14)(2,"ion-card-header")(3,"ion-card-subtitle"),t.EFF(4),t.k0s()(),t.j41(5,"ion-card-content"),t.EFF(6),t.nrm(7,"br"),t.EFF(8),t.nrm(9,"br"),t.EFF(10),t.nrm(11,"br"),t.EFF(12),t.k0s(),t.j41(13,"ion-button",15),t.bIt("click",function(){const o=t.eBV(e).$implicit,_=t.XpG(3);return t.Njj(_.deleteAddress(o.id))}),t.nrm(14,"ion-icon",16),t.EFF(15),t.k0s()()()}if(2&n){const e=r.$implicit,i=t.XpG(3);t.Y8G("size",i.isMobile?12:4),t.R7$(4),t.JRh(e.type),t.R7$(2),t.SpI(" ",e.address," "),t.R7$(2),t.SpI("",e.pincode," "),t.R7$(2),t.SpI(" ",e.floor," "),t.R7$(2),t.SpI(" ",e.landmark," "),t.R7$(3),t.SpI(" \xa0",i.text.remove,"")}}function P(n,r){if(1&n&&(t.j41(0,"div")(1,"ion-row"),t.DNE(2,E,16,7,"ion-col",12),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(2),t.Y8G("ngForOf",e.data)}}function D(n,r){if(1&n&&(t.j41(0,"div",17)(1,"p",18),t.EFF(2),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(2),t.JRh(e.text.no_address)}}function x(n,r){if(1&n){const e=t.RV6();t.j41(0,"ion-content",5)(1,"ion-grid",6),t.DNE(2,v,2,1,"div",3),t.j41(3,"ion-row")(4,"ion-col",7)(5,"ion-button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.addNew())}),t.EFF(6,"+ Add New Address"),t.k0s()()(),t.DNE(7,P,3,1,"div",3)(8,D,3,1,"div",9),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(),t.Y8G("fixed",!0),t.R7$(),t.Y8G("ngIf",!e.data),t.R7$(5),t.Y8G("ngIf",e.data&&e.data.length>0),t.R7$(),t.Y8G("ngIf",e.data&&0==e.data.length)}}let B=(()=>{var n;class r{constructor(i,o,_){this.server=i,this.otherService=o,this.modalCtrl=_,this.fakeData=[1,2,3,4,6],this.isMobile=!1;const d=localStorage.getItem("app_lang");null!==d&&(this.text=JSON.parse(d),this.text=this.text.text),this.checkScreenSize()}onResize(i){this.checkScreenSize()}checkScreenSize(){this.isMobile=window.innerWidth<=768}ngOnInit(){this.otherService.triggerAddressLoadData.subscribe(()=>{this.loadData()}),this.loadData()}ionViewDidEnter(){this.loadData()}loadData(){var i=this;return(0,c.A)(function*(){i.server.getAddress().subscribe(o=>{i.data=o.data})})()}deleteAddress(i){var o=this;return(0,c.A)(function*(){o.otherService.confirm().then(_=>{"ok"===_&&(o.otherService.showLoading(),o.server.deleteAddress(i).subscribe(d=>{o.data=d.data,o.otherService.hideLoading(),o.otherService.toast(o.text.address_removed)}))})})()}addNew(){var i=this;return(0,c.A)(function*(){const o=yield i.modalCtrl.create({component:m.AddressPage,animated:!0,mode:"ios",componentProps:{addnew:!0}});return o.onDidDismiss().then(_=>{console.log(_.data),_.data.all&&(i.data=_.data.all)}),yield o.present()})()}}return(n=r).\u0275fac=function(i){return new(i||n)(t.rXU(f.Z),t.rXU(p.G),t.rXU(a.W3))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-book"]],hostBindings:function(i,o){1&i&&t.bIt("resize",function(d){return o.onResize(d)},!1,t.tSv)},decls:6,vars:2,consts:[[1,"ion-no-border"],["color","dark"],["slot","start"],[4,"ngIf"],["class","ion-padding",4,"ngIf"],[1,"ion-padding"],[3,"fixed"],["size","12"],["mode","ios","expand","block","color","dark","id","open-modal","expand","block",3,"click"],["style","margin-top: 20%;",4,"ngIf"],["class","sek1",3,"animated",4,"ngFor","ngForOf"],[1,"sek1",3,"animated"],[3,"size",4,"ngFor","ngForOf"],[3,"size"],["mode","ios"],["fill","clear","color","danger",3,"click"],["name","trash-outline"],[2,"margin-top","20%"],["align","center"]],template:function(i,o){1&i&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),t.nrm(3,"ion-back-button"),t.k0s(),t.DNE(4,u,2,1,"ion-title",3),t.k0s()(),t.DNE(5,x,9,4,"ion-content",4)),2&i&&(t.R7$(4),t.Y8G("ngIf",o.text),t.R7$(),t.Y8G("ngIf",o.text))},dependencies:[a.bv,a.Jm,a.QW,a.b_,a.I9,a.ME,a.HW,a.hU,a.W9,a.lO,a.eU,a.iq,a.ln,a.ds,a.BC,a.ai,a.el,l.MD,l.Sq,l.bT,h.YN],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-light)}ion-item[_ngcontent-%COMP%]{border-radius:10px;margin-top:10px}ion-card[_ngcontent-%COMP%]{width:98%;margin:20px auto auto;color:#000}.sek1[_ngcontent-%COMP%]{width:96%;height:70px;border-radius:10px;margin-left:2%;margin-top:8%}"]}),r})()}}]);