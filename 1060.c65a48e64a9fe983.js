"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[52,1060,5704,5864],{3923:($,k,r)=>{r.d(k,{$o:()=>u,_G:()=>v,Vq:()=>R,SQ:()=>s});var u=function(e){return e.Loaded="applePayLoaded",e.FailedToLoad="applePayFailedToLoad",e.Completed="applePayCompleted",e.Canceled="applePayCanceled",e.Failed="applePayFailed",e.DidSelectShippingContact="applePayDidSelectShippingContact",e.DidCreatePaymentMethod="applePayDidCreatePaymentMethod",e}(u||{}),v=function(e){return e.Loaded="googlePayLoaded",e.FailedToLoad="googlePayFailedToLoad",e.Completed="googlePayCompleted",e.Canceled="googlePayCanceled",e.Failed="googlePayFailed",e}(v||{}),R=function(e){return e.Loaded="paymentFlowLoaded",e.FailedToLoad="paymentFlowFailedToLoad",e.Opened="paymentFlowOpened",e.Created="paymentFlowCreated",e.Completed="paymentFlowCompleted",e.Canceled="paymentFlowCanceled",e.Failed="paymentFlowFailed",e}(R||{}),s=function(e){return e.Loaded="paymentSheetLoaded",e.FailedToLoad="paymentSheetFailedToLoad",e.Completed="paymentSheetCompleted",e.Canceled="paymentSheetCanceled",e.Failed="paymentSheetFailed",e}(s||{})},52:($,k,r)=>{r.r(k),r.d(k,{FeedbackPage:()=>j});var u=r(467),v=r(177),R=r(4341),s=r(4742),e=r(4438),D=r(9568),F=r(3656);const E=()=>[];function T(x,M){if(1&x){const P=e.RV6();e.j41(0,"ion-button",5),e.bIt("click",function(){e.eBV(P);const b=e.XpG();return e.Njj(b.close())}),e.EFF(1),e.k0s()}if(2&x){const P=e.XpG();e.R7$(),e.JRh(P.text.cancel)}}function t(x,M){1&x&&e.nrm(0,"ion-icon",9)}function a(x,M){if(1&x&&(e.j41(0,"ion-item",10)(1,"ion-label",11),e.EFF(2),e.j41(3,"ion-badge",12),e.nrm(4,"ion-icon",13),e.EFF(5),e.k0s(),e.j41(6,"small",14),e.EFF(7),e.k0s()()()),2&x){const P=M.$implicit;e.R7$(2),e.SpI("",P.name," "),e.R7$(3),e.SpI(" ",P.star,".0"),e.R7$(2),e.JRh(P.comment)}}function S(x,M){if(1&x&&(e.j41(0,"ion-content",6)(1,"h3"),e.EFF(2),e.k0s(),e.DNE(3,t,1,0,"ion-icon",7),e.nrm(4,"br")(5,"br"),e.DNE(6,a,8,3,"ion-item",8),e.k0s()),2&x){const P=e.XpG();e.R7$(2),e.JRh(P.data.item.name),e.R7$(),e.Y8G("ngForOf",e.lJ4(3,E).constructor(P.roundRating(P.data.item.rating))),e.R7$(3),e.Y8G("ngForOf",P.data.item.ratings)}}let j=(()=>{var x;class M{constructor(g,b){this.otherService=g,this.navParams=b,this.data=b.get("data");const d=localStorage.getItem("app_lang");null!==d&&(this.text=JSON.parse(d),this.text=this.text.text)}ngOnInit(){}close(g=[]){var b=this;return(0,u.A)(function*(){b.otherService.closeModel(g)})()}roundRating(g){return Math.round(g)}}return(x=M).\u0275fac=function(g){return new(g||x)(e.rXU(D.G),e.rXU(F.y8))},x.\u0275cmp=e.VBU({type:x,selectors:[["app-feedback"]],decls:5,vars:2,consts:[[1,"ion-no-border"],["color","light"],["slot","end"],["color","medium",3,"click",4,"ngIf"],["class","ion-padding",4,"ngIf"],["color","medium",3,"click"],[1,"ion-padding"],["name","star","color","primary",4,"ngFor","ngForOf"],["lines","none",4,"ngFor","ngForOf"],["name","star","color","primary"],["lines","none"],[1,"ion-text-wrap"],["color","dark",2,"float","right"],["name","star"],[2,"margin-top","5px","display","block"]],template:function(g,b){1&g&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e.DNE(3,T,2,1,"ion-button",3),e.k0s()()(),e.DNE(4,S,7,4,"ion-content",4)),2&g&&(e.R7$(3),e.Y8G("ngIf",b.text),e.R7$(),e.Y8G("ngIf",b.data))},dependencies:[s.bv,s.In,s.Jm,s.QW,s.W9,s.eU,s.iq,s.uz,s.he,s.ai,v.MD,v.Sq,v.bT,R.YN],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-light)}ion-item[_ngcontent-%COMP%]{border-radius:10px;margin-top:15px}"]}),M})()},1060:($,k,r)=>{r.r(k),r.d(k,{ItemPage:()=>z});var u=r(467),v=r(177),R=r(4341),s=r(4742),e=r(4531),D=r(52),F=r(7564),E=r(5864),T=r(5704),t=r(4438),a=r(2068),S=r(8870),j=r(9568);const x=["content"];function M(_,y){1&_&&(t.j41(0,"ion-col",15),t.nrm(1,"ion-skeleton-text",16),t.k0s()),2&_&&(t.R7$(),t.Y8G("animated",!0))}function P(_,y){1&_&&(t.j41(0,"ion-row")(1,"ion-col",17),t.nrm(2,"ion-skeleton-text",18),t.k0s()()),2&_&&(t.R7$(2),t.Y8G("animated",!0))}function g(_,y){if(1&_&&(t.j41(0,"div",6)(1,"ion-grid",7),t.nrm(2,"ion-skeleton-text",8)(3,"ion-skeleton-text",9)(4,"br")(5,"ion-skeleton-text",10)(6,"br"),t.j41(7,"ion-row"),t.DNE(8,M,2,1,"ion-col",11),t.k0s(),t.nrm(9,"br"),t.j41(10,"ion-row")(11,"ion-col",12),t.nrm(12,"ion-skeleton-text",13),t.k0s(),t.j41(13,"ion-col",12),t.nrm(14,"ion-skeleton-text",13),t.k0s(),t.j41(15,"ion-col",12),t.nrm(16,"ion-skeleton-text",13),t.k0s(),t.j41(17,"ion-col",12),t.nrm(18,"ion-skeleton-text",13),t.k0s()(),t.nrm(19,"br"),t.DNE(20,P,3,1,"ion-row",14),t.k0s()()),2&_){const l=t.XpG(2);t.R7$(),t.Y8G("fixed",!0),t.R7$(),t.Y8G("animated",!0),t.R7$(),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(3),t.Y8G("ngForOf",l.fakeData),t.R7$(4),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(2),t.Y8G("ngForOf",l.fakeData)}}function b(_,y){if(1&_){const l=t.RV6();t.j41(0,"ion-segment-button",26),t.bIt("click",function(){const o=t.eBV(l).$implicit,c=t.XpG(4);return t.Njj(c.selectProducts(o.id))}),t.EFF(1),t.k0s()}if(2&_){const l=y.$implicit,n=t.XpG(4);t.Y8G("ngClass",n.cat_id==l.id?"mobile_selected_category":""),t.R7$(),t.SpI(" ",l.name," ")}}function d(_,y){if(1&_&&(t.j41(0,"ion-segment",24),t.DNE(1,b,2,2,"ion-segment-button",25),t.k0s()),2&_){const l=t.XpG(3);t.Y8G("scrollable",!0),t.R7$(),t.Y8G("ngForOf",l.categories_list)}}function f(_,y){if(1&_){const l=t.RV6();t.j41(0,"ion-list",29)(1,"ion-item",30),t.bIt("click",function(){const o=t.eBV(l).$implicit,c=t.XpG(4);return t.Njj(c.selectProducts(o.id))}),t.j41(2,"ion-row")(3,"ion-col",31),t.nrm(4,"img",32),t.k0s(),t.j41(5,"ion-col",33)(6,"h3",34),t.EFF(7),t.k0s()()()()()}if(2&_){const l=y.$implicit,n=t.XpG(4);t.R7$(),t.Y8G("ngClass",n.cat_id==l.id?"selected_category":"non_selected_category"),t.R7$(3),t.FS9("src",l.img,t.B4B),t.R7$(3),t.JRh(l.name)}}function m(_,y){if(1&_&&(t.j41(0,"ion-card-content",27),t.DNE(1,f,8,3,"ion-list",28),t.k0s()),2&_){const l=t.XpG(3);t.R7$(),t.Y8G("ngForOf",l.categories_list)}}function i(_,y){if(1&_){const l=t.RV6();t.j41(0,"ion-button",53),t.bIt("click",function(){t.eBV(l);const o=t.XpG().$implicit,c=t.XpG(4);return t.Njj(c.add_to_cart(o))}),t.EFF(1),t.k0s()}if(2&_){const l=t.XpG().$implicit,n=t.XpG(4);t.R7$(),t.SpI(" ",null!=l&&l.subscribed_item?"Subscribe":n.text.add,"")}}function p(_,y){if(1&_){const l=t.RV6();t.j41(0,"div",54)(1,"button",55),t.bIt("click",function(){t.eBV(l);const o=t.XpG().$implicit,c=t.XpG(4);return t.Njj(c.decrement(o))}),t.EFF(2,"-"),t.k0s(),t.j41(3,"span",56)(4,"span",57),t.EFF(5),t.k0s()(),t.j41(6,"button",58),t.bIt("click",function(){t.eBV(l);const o=t.XpG().$implicit,c=t.XpG(4);return t.Njj(c.increment(o))}),t.EFF(7,"+ "),t.k0s()()}if(2&_){const l=t.XpG().$implicit;t.R7$(5),t.JRh(l.qty)}}function h(_,y){if(1&_&&(t.j41(0,"ion-col",36)(1,"ion-card",37)(2,"ion-row")(3,"ion-col",12),t.nrm(4,"img",38),t.k0s(),t.j41(5,"ion-col",39)(6,"span",40),t.EFF(7),t.k0s(),t.j41(8,"span",41),t.EFF(9),t.nI1(10,"currency"),t.k0s(),t.nrm(11,"br"),t.k0s(),t.j41(12,"ion-col",17)(13,"div",42),t.EFF(14,"Order via App and get "),t.j41(15,"span"),t.EFF(16,"Upto 40% OFF"),t.k0s(),t.EFF(17," with "),t.j41(18,"strong"),t.EFF(19,"VIP"),t.k0s()()(),t.j41(20,"ion-col",43)(21,"ion-row",44)(22,"ion-col",45),t.nrm(23,"ion-icon",46),t.j41(24,"span",47),t.EFF(25,"Premium Sourcing"),t.k0s()(),t.j41(26,"ion-col",45),t.nrm(27,"ion-icon",48),t.j41(28,"span",47),t.EFF(29,"Hourly Flash Deals"),t.k0s()(),t.j41(30,"ion-col",45),t.nrm(31,"ion-icon",49),t.j41(32,"span",47),t.EFF(33,"Delivery by 7 AM"),t.k0s()()()(),t.j41(34,"ion-col",20)(35,"p",50),t.EFF(36),t.k0s()(),t.j41(37,"ion-col",20),t.DNE(38,i,2,1,"ion-button",51)(39,p,8,1,"div",52),t.k0s()()()()),2&_){const l=y.$implicit,n=t.XpG(4);t.Y8G("size",n.isMobile?12:4),t.R7$(4),t.FS9("src",l.img,t.B4B),t.R7$(3),t.JRh(l.name),t.R7$(2),t.SpI("",t.i5U(10,9,l.price,"INR")," "),t.R7$(25),t.Y8G("size",n.isMobile?12:8),t.R7$(2),t.SpI("Order Premium Quality ",l.name," Online"),t.R7$(),t.Y8G("size",n.isMobile?12:4),t.R7$(),t.Y8G("ngIf",!(null!=l&&l.cart_added)),t.R7$(),t.Y8G("ngIf",null==l?null:l.cart_added)}}function I(_,y){if(1&_&&(t.j41(0,"ion-row"),t.DNE(1,h,40,12,"ion-col",35),t.k0s()),2&_){const l=t.XpG(3);t.R7$(),t.Y8G("ngForOf",l.filteredItems)}}function C(_,y){if(1&_&&(t.j41(0,"div",6),t.DNE(1,d,2,2,"ion-segment",19),t.j41(2,"ion-card")(3,"ion-row")(4,"ion-col",20),t.DNE(5,m,2,1,"ion-card-content",21),t.k0s(),t.j41(6,"ion-col",22),t.DNE(7,I,2,1,"ion-row",23),t.k0s()()()()),2&_){const l=t.XpG(2);t.R7$(),t.Y8G("ngIf",l.isMobile),t.R7$(),t.HbH(l.isMobile?"":"category_card"),t.R7$(2),t.Y8G("size",l.isMobile?12:2),t.R7$(),t.Y8G("ngIf",!l.isMobile),t.R7$(),t.Y8G("size",l.isMobile?12:10),t.R7$(),t.Y8G("ngIf",l.filteredItems)}}function G(_,y){if(1&_&&(t.j41(0,"ion-content",4),t.DNE(1,g,21,10,"div",5)(2,C,8,7,"div",5),t.k0s()),2&_){const l=t.XpG();t.Y8G("fullscreen",!0),t.R7$(),t.Y8G("ngIf",!l.data),t.R7$(),t.Y8G("ngIf",l.data)}}(0,e.kz)();let z=(()=>{var _;class y{constructor(n,o,c,O,N){this.server=n,this.route=o,this.router=c,this.otherService=O,this.modalCtrl=N,this.fakeData=[1,2,3,4,5,6],this.type=2,this.isMobile=!1,this.allItem=[],this.filteredItems=[],this.selectedItms=[],this.total=0,this.payble_amount=0,this.hasClick=!1,this.show=!0,this.categoryItemsMap={1:[1,2,6],2:[5],3:[3,4]},this.days=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.otherService.statusBar("#ffffff",2),this.cat_id=this.route.snapshot.paramMap.get("id");const A=localStorage.getItem("app_lang");null!==A&&(this.text=JSON.parse(A),this.text=this.text.text),"null"==localStorage.getItem("cart_no")||null==localStorage.getItem("cart_no")?(this.cart_no=Math.floor(2e9*Math.random())+1,localStorage.setItem("cart_no",this.cart_no)):this.cart_no=localStorage.getItem("cart_no"),this.checkScreenSize(),null==localStorage.getItem("lang_id")&&localStorage.setItem("lang_id","0")}onResize(n){this.checkScreenSize()}checkScreenSize(){this.isMobile=window.innerWidth<=768}ngOnInit(){}ionViewDidEnter(){this.loadData()}loadData(){var n=this;return(0,u.A)(function*(){n.server.item({store_id:1,cat_id:n.cat_id}).subscribe(o=>{const c=o.data;localStorage.setItem("admin_setting",JSON.stringify(c.admin)),localStorage.setItem("app_lang",JSON.stringify(c.lang)),localStorage.setItem("lang_id","0"),n.text=c.lang.text,n.data=c,n.filteredItems=c.item;const O=localStorage.getItem("selectedItms");n.selectedItms=O?JSON.parse(O):[],n.selectedItms.length>0&&n.CalculateTotal(),n.loadCategoriesData(),n.getSavedAddress(),n.setItem(),n.selectProducts(n.cat_id)})})()}selectProducts(n){var o=this;return(0,u.A)(function*(){o.cat_id=n,o.server.item({store_id:1,cat_id:n}).subscribe(c=>{o.filteredItems=c.data.item,console.log("Filtered Items with cart status:",o.filteredItems)})})()}loadCategoriesData(){var n=this;return(0,u.A)(function*(){n.server.homepage().subscribe(o=>{n.categories_list=o.data.cate})})()}getSavedAddress(){this.server.checkoutData().subscribe(n=>{this.checkout_data=n.data,this.savedAddress=this.checkout_data.address})}setItem(){var n=this;return(0,u.A)(function*(){const o=new Map;for(const c of n.data.item)n.chkFilter(c)&&o.set(c.id,c);n.allItem=Array.from(o.values()).map(c=>({...c,subscribed_item:/fruit/i.test(c.name)})),console.log(n.allItem)})()}ic(){var n=this;return(0,u.A)(function*(){n.allItem=[],n.setItem()})()}goBack(){var n=this;return(0,u.A)(function*(){return n.otherService.goBack()})()}chkFilter(n){return 1==this.type||(2==this.type?1==n.breakfast:3==this.type?1==n.lunch:4!=this.type||1==n.dinner)}add_to_cart(n){var o=this;return(0,u.A)(function*(){n.subscribed_item?(n.qty=1,localStorage.setItem("subscribed_items",JSON.stringify(n)),o.router.navigate(["/subscribed-cart"],{replaceUrl:!0})):(n.cart_added=!0,n.qty=1,o.hasClick=!0,o.server.add_to_cart({cart_no:o.cart_no,item_id:n.id,price:n.price,item_type:o.type,qty:1,store_id:n.store_id,days:o.days}).subscribe(O=>{o.hasClick=!1,o.otherService.triggerLoadData.emit(),o.otherService.toast(o.text.added)}))})()}detail(n){const o=this.selectedItms.find(c=>c.id===n.id);o?(o.quantity+=1,o.selected_price=Number(n.price)*Number(o.quantity)):(n.quantity=1,n.selected_price=n.price,this.selectedItms.push(n)),this.CalculateTotal()}increment(n){n.qty<10&&(this.filteredItems.find(c=>c.id===n.id).qty+=1,this.otherService.triggerLoadData.emit(),this.addToCart(n,"increment"))}decrement(n){n.qty>1?(this.filteredItems.find(c=>c.id===n.id).qty-=1,this.otherService.triggerLoadData.emit(),this.addToCart(n,"decrement")):this.removefromcart(n)}removefromcart(n){var o=this;return(0,u.A)(function*(){o.server.getCart(n.cart_id).subscribe(c=>{n.cart_added=!1,o.otherService.triggerLoadData.emit(),o.otherService.toast(o.text.removed)})})()}addToCart(n,o){this.server.add_to_cart({cart_no:this.cart_no,item_id:n.id,mode:o,qty:1,store_id:n.store_id}).subscribe(O=>{this.hasClick=!1})}CalculateTotal(){this.total=this.selectedItms.reduce((n,o)=>n+(Number(o.selected_price)||0),0),localStorage.setItem("selectedItms",JSON.stringify(this.selectedItms))}removeItem(n){this.selectedItms=this.selectedItms.filter(o=>o.id!=n.id),this.CalculateTotal()}getAddress(){var n=this;return(0,u.A)(function*(){const o={data:n.savedAddress,store_id:n.data.store.id},c=yield n.modalCtrl.create({component:F.AddressPage,animated:!0,mode:"ios",componentProps:o});return c.onDidDismiss().then(O=>{console.log(O),O.data.id&&(n.address=O.data)}),yield c.present()})()}startDate(){var n=this;return(0,u.A)(function*(){if(!n.sub_time)return n.otherService.toast(n.text.sub_time);if(!n.start_date)return;n.otherService.showLoading();const o={plan:n.sub_time,start_date:n.start_date,cart_no:localStorage.getItem("cart_no"),user_id:localStorage.getItem("user_id"),store_id:n.checkout_data.store.id};n.server.getAmount(o).subscribe(c=>{n.cal=c,n.otherService.hideLoading(),console.log(n.cal.summery)})})()}getOffer(){var n=this;return(0,u.A)(function*(){const o=yield n.modalCtrl.create({component:E.OfferPage,animated:!0,mode:"ios",componentProps:{data:n.checkout_data.offer}});return o.onDidDismiss().then(c=>{c.data.code&&(n.offer=c.data,n.applyOffer())}),yield o.present()})()}applyOffer(){var n=this;return(0,u.A)(function*(){if(1==n.offer.type){const o=n.cal.total*n.offer.value/100;n.payble_amount=n.total-o,n.save=o.toFixed(1)}else n.payble_amount=n.total-n.offer.value,n.save=n.offer.value})()}validate(){return!!(this.sub_time&&this.start_date&&this.address)}placeOrder(){var n=this;return(0,u.A)(function*(){n.validate()?n.total>n.checkout_data.user.wallet?n.openpaymentsModel({amount:n.total-n.checkout_data.user.wallet,stripe_key:n.checkout_data.stripe_id}):n.checkout():n.otherService.toast(n.text.all_field)})()}openpaymentsModel(n){var o=this;return(0,u.A)(function*(){const c=yield o.modalCtrl.create({component:T.PaymentPage,animated:!0,mode:"ios",componentProps:{data:n}});return c.onDidDismiss().then(O=>{O.data?o.checkout():o.otherService.toast(o.text.payment_cancel)}),yield c.present()})()}checkout(){var n=this;return(0,u.A)(function*(){n.hasClick=!0;const o={user_id:localStorage.getItem("user_id"),cart_no:localStorage.getItem("cart_no"),cal:n.cal,address:n.address.id,plan:n.sub_time,total:n.total,discount:n.save,store_id:n.checkout_data.store.id,notes:localStorage.getItem("order_notes")&&"undefined"!=localStorage.getItem("order_notes")?localStorage.getItem("order_notes"):null};console.log(o)})()}custom(){return localStorage.setItem("custom_data",JSON.stringify(this.data.custom)),localStorage.setItem("store_data",JSON.stringify(this.data.store)),this.otherService.redirect("custom")}openModel(n,o){var c=this;return(0,u.A)(function*(){const O=yield c.modalCtrl.create({component:D.FeedbackPage,animated:!0,mode:"ios",componentProps:{data:{item:n,type:o}}});return O.onDidDismiss().then(N=>{}),yield O.present()})()}}return(_=y).\u0275fac=function(n){return new(n||_)(t.rXU(a.Z),t.rXU(S.nX),t.rXU(S.Ix),t.rXU(j.G),t.rXU(s.W3))},_.\u0275cmp=t.VBU({type:_,selectors:[["app-item"]],viewQuery:function(n,o){if(1&n&&t.GBs(x,5),2&n){let c;t.mGM(c=t.lsd())&&(o.content=c.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(O){return o.onResize(O)},!1,t.tSv)},decls:5,vars:1,consts:[[1,"ion-no-border"],["color","dark"],["slot","start"],[3,"fullscreen",4,"ngIf"],[3,"fullscreen"],["class","ion-padding",4,"ngIf"],[1,"ion-padding"],[3,"fixed"],[1,"sek",3,"animated"],[1,"sek2",3,"animated"],[1,"sek3",3,"animated"],["size","2",4,"ngFor","ngForOf"],["size","3"],[1,"sek5",3,"animated"],[4,"ngFor","ngForOf"],["size","2"],[1,"sek4",3,"animated"],["size","12"],[1,"sek6",3,"animated"],["mode","sm","color","dark","class","cat_menu",3,"scrollable",4,"ngIf"],[3,"size"],["class","scrollable-content",4,"ngIf"],[2,"padding","5px 25px",3,"size"],[4,"ngIf"],["mode","sm","color","dark",1,"cat_menu",3,"scrollable"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"click","ngClass"],[1,"scrollable-content"],["style","cursor: pointer;padding:0px;",4,"ngFor","ngForOf"],[2,"cursor","pointer","padding","0px"],["lines","none",3,"click","ngClass"],["size","4"],[1,"cat_img",3,"src"],["size","8"],[1,"cat_title"],["style","margin-bottom: 10px;",3,"size",4,"ngFor","ngForOf"],[2,"margin-bottom","10px",3,"size"],[1,"product_card"],[3,"src"],["size","9",2,"padding","15px 10px"],[1,"iname"],[1,"actual_price"],[1,"discount"],["size","12",1,"prod_desc"],[1,"feature-row"],["size","4",1,"feature-col"],["name","ribbon-outline",1,"feature-icon"],[1,"feature-text"],["name","flash-outline",1,"feature-icon"],["name","time-outline",1,"feature-icon"],[1,"footer"],["color","primary","expand","block","shape","round","color","dark","size","medium","style","margin-top: 10px;",3,"click",4,"ngIf"],["class","quantity-field",4,"ngIf"],["color","primary","expand","block","shape","round","color","dark","size","medium",2,"margin-top","10px",3,"click"],[1,"quantity-field"],[1,"value-button","decrease-button",3,"click"],[1,"number"],[2,"margin-top","-100px"],[1,"value-button","increase-button",3,"click"]],template:function(n,o){1&n&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),t.nrm(3,"ion-back-button"),t.k0s()()(),t.DNE(4,G,3,3,"ion-content",3)),2&n&&(t.R7$(4),t.Y8G("ngIf",o.text))},dependencies:[s.bv,s.Jm,s.QW,s.b_,s.I9,s.hU,s.W9,s.lO,s.eU,s.iq,s.uz,s.nf,s.ln,s.Gp,s.eP,s.ds,s.ai,s.Je,s.el,v.MD,v.YU,v.Sq,v.bT,v.oe,R.YN],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light) }.scrollable-content[_ngcontent-%COMP%]{height:80vh;overflow-y:auto;border-right:3px solid whitesmoke;scrollbar-width:thin;scrollbar-color:transparent transparent}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.card_title[_ngcontent-%COMP%]{width:100%;font-weight:700;background-color:var(--ion-color-dark);padding:10px}.card_title[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--ion-color-light)}.category_card[_ngcontent-%COMP%]{box-shadow:0 5px 15px #0000001a}.product_card[_ngcontent-%COMP%]{box-shadow:0 0 #0003;border:2px solid var(--ion-color-light);background:#f5f5f5;padding:20px;border-radius:12px;width:100%;transition:transform .2s;transition:transform .4s ease,box-shadow .4s ease}.product_card[_ngcontent-%COMP%]:hover{border:2px solid var(--ion-color-dark);transform:scale(1.005);box-shadow:0 12px 24px #0000004d;background-color:#fff}.discount[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff3cd);padding:8px;font-size:14px;margin:10px 0;border-radius:5px;color:#000}.discount[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#28a745;font-weight:700}.prod_desc[_ngcontent-%COMP%]{border-top:1px solid whitesmoke;border-bottom:1px solid whitesmoke;font-size:12px}.feature-row[_ngcontent-%COMP%]{text-align:center;margin-top:10px}.feature-col[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:5px}.feature-icon[_ngcontent-%COMP%]{font-size:20px;color:#333}.footer[_ngcontent-%COMP%]{font-weight:600;font-size:14px;line-height:18px}.selected_category[_ngcontent-%COMP%]{border:2px solid var(--ion-color-dark);border-radius:10px;border-left:10px solid var(--ion-color-dark);color:var(--ion-color-dark);cursor:pointer}.mobile_selected_category[_ngcontent-%COMP%]{color:var(--ion-color-dark);border-bottom:2px solid var(--ion-color-dark)}.non_selected_category[_ngcontent-%COMP%]{border:2px solid white;border-radius:10px;border-left:10px solid white;cursor:pointer}ion-fab[_ngcontent-%COMP%]{margin-top:20px}.iname[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--ion-color-dark)}.iname_price[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.total[_ngcontent-%COMP%]{font-weight:600;font-size:20px;text-align:right;color:#000}.trash_icon[_ngcontent-%COMP%]{margin-top:3px;color:#d00101;cursor:pointer}.white[_ngcontent-%COMP%]{background-color:#fff}.top[_ngcontent-%COMP%]{padding:10px 20px;margin-top:20px}.cont[_ngcontent-%COMP%]{padding:10px;margin-top:2%}swiper-slide[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: var(--ion-color-light)}.code[_ngcontent-%COMP%]{letter-spacing:3px}.top[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:700}.offer[_ngcontent-%COMP%]{border:1px solid #d1d1d1;border-radius:10px;background-color:#fff;font-size:15px}.buttonDiv[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{background-color:var(--ion-color-dark);padding:10px;border-radius:50%;color:#fff}.buttonDiv[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;text-align:center;padding:10px 0}.buttonDiv[_ngcontent-%COMP%]{margin-top:-5%}.day[_ngcontent-%COMP%]{background-color:var(--ion-color-light);padding:10px;width:auto!important;text-align:center;border-radius:5px}.sek[_ngcontent-%COMP%]{width:100%;height:150px;border-radius:10px}.sek2[_ngcontent-%COMP%]{width:80%;height:50px;border-radius:10px;margin-left:10%;margin-top:-10%}.sek3[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:10px}.sek4[_ngcontent-%COMP%]{height:30px;border-radius:10px}.sek5[_ngcontent-%COMP%]{height:30px;border-radius:5px}.sek6[_ngcontent-%COMP%]{height:50px;width:100%;border-radius:10px}.badgeRow[_ngcontent-%COMP%]{float:right;margin-right:10px}.address[_ngcontent-%COMP%]{float:right;margin-top:5px}.desc[_ngcontent-%COMP%]{display:block;margin-top:5px}.ddays[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.swipe[_ngcontent-%COMP%]{background-color:#fff;padding:10px}.own[_ngcontent-%COMP%]{float:right;border:1px solid #607d8b;padding:5px;border-radius:5px;font-size:14px}.dtime[_ngcontent-%COMP%]{font-size:14px;padding:10px}.avial[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.item_desc[_ngcontent-%COMP%]{display:block;margin-top:10px;color:gray;font-size:15px}ion-segment[_ngcontent-%COMP%]{--background: white}.actual_price[_ngcontent-%COMP%]{font-size:22px;display:block;margin-top:15px;font-weight:700;color:var(--ion-color-dark)}.total_price[_ngcontent-%COMP%]{font-size:13px;font-weight:500;display:block;margin-top:18px;color:#b5b4b4}.price[_ngcontent-%COMP%]{font-size:18px;display:block;margin-top:20px;font-weight:700}img[_ngcontent-%COMP%]{border-radius:5px}.topBtn[_ngcontent-%COMP%]{margin-top:15px}.quantity-field[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:70px;height:25px}.number[_ngcontent-%COMP%]{border-top:1px solid #ddd;border-bottom:1px solid #ddd;text-align:center;background-color:1px solid #fff;margin:0;width:60px;height:100%;padding:0;outline:none}.address[_ngcontent-%COMP%]{--min-height: 40px !important;--padding-start: 20px;--padding-end: 20px;--background: var(--ion-color-light);width:100%}.cat_title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-top:15px}.cat_img[_ngcontent-%COMP%]{height:40px;width:200px;margin-top:5px}.quantity-field[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100px;height:30px;margin-top:20px}.quantity-field[_ngcontent-%COMP%]   .value-button[_ngcontent-%COMP%]{border:1px solid #ddd;margin:0;width:40px;height:100%;padding:0;background:#eee;outline:none;cursor:pointer}.quantity-field[_ngcontent-%COMP%]   .value-button[_ngcontent-%COMP%]:hover{background:#e6e6e6}.quantity-field[_ngcontent-%COMP%]   .value-button[_ngcontent-%COMP%]:active{background:#d2d2d2}.quantity-field[_ngcontent-%COMP%]   .decrease-button[_ngcontent-%COMP%]{margin-right:-4px;border-radius:8px 0 0 8px;color:#d00101;font-size:25px;cursor:pointer}.quantity-field[_ngcontent-%COMP%]   .increase-button[_ngcontent-%COMP%]{margin-left:-4px;border-radius:0 8px 8px 0;color:green;font-size:25px;cursor:pointer}.number[_ngcontent-%COMP%]{border-top:1px solid #ddd;border-bottom:1px solid #ddd;text-align:center;background-color:1px solid #fff;margin:0;width:60px;height:100%;padding:5px 15px;outline:none;display:inline;font-size:20px}.number[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--ion-color-dark)}.cat_menu[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;color:#000}"]}),y})()},5864:($,k,r)=>{r.r(k),r.d(k,{OfferPage:()=>P});var u=r(467),v=r(177),R=r(4341),s=r(4742),e=r(4438),D=r(9568),F=r(3656);function E(g,b){if(1&g){const d=e.RV6();e.j41(0,"ion-button",4),e.bIt("click",function(){e.eBV(d);const m=e.XpG();return e.Njj(m.close())}),e.EFF(1),e.k0s()}if(2&g){const d=e.XpG();e.R7$(),e.JRh(d.text.cancel)}}function T(g,b){if(1&g&&(e.j41(0,"p",8),e.EFF(1),e.k0s()),2&g){const d=e.XpG(2);e.R7$(),e.JRh(d.text.no_offer)}}function t(g,b){if(1&g&&(e.j41(0,"ion-item",13)(1,"ion-avatar",14),e.nrm(2,"img",15),e.k0s(),e.j41(3,"ion-label",16)(4,"b"),e.EFF(5),e.k0s(),e.j41(6,"span",17),e.EFF(7),e.k0s()()()),2&g){const d=e.XpG().$implicit;e.R7$(5),e.JRh(d.code),e.R7$(2),e.JRh(d.desc)}}function a(g,b){if(1&g){const d=e.RV6();e.j41(0,"div",11),e.bIt("click",function(){const m=e.eBV(d).$implicit,i=e.XpG(3);return e.Njj(i.setOffer(m))}),e.DNE(1,t,8,2,"ion-item",12),e.k0s()}if(2&g){const d=b.$implicit,f=e.XpG(3);e.R7$(),e.Y8G("ngIf","SUBSCRIPTION"==f.type&&"SUBSCRIPTION"==d.subscription)}}function S(g,b){if(1&g&&(e.j41(0,"ion-item",13)(1,"ion-avatar",14),e.nrm(2,"img",15),e.k0s(),e.j41(3,"ion-label",16)(4,"b"),e.EFF(5),e.k0s(),e.j41(6,"span",17),e.EFF(7),e.k0s()()()),2&g){const d=e.XpG().$implicit;e.R7$(5),e.JRh(d.code),e.R7$(2),e.JRh(d.desc)}}function j(g,b){if(1&g){const d=e.RV6();e.j41(0,"div",11),e.bIt("click",function(){const m=e.eBV(d).$implicit,i=e.XpG(3);return e.Njj(i.setOffer(m))}),e.DNE(1,S,8,2,"ion-item",12),e.k0s()}if(2&g){const d=b.$implicit,f=e.XpG(3);e.R7$(),e.Y8G("ngIf","NORMAL"==f.type&&"NORMAL"==d.subscription)}}function x(g,b){if(1&g&&(e.j41(0,"div")(1,"ion-note",9),e.EFF(2),e.k0s(),e.nrm(3,"br")(4,"br"),e.DNE(5,a,2,1,"div",10)(6,j,2,1,"div",10),e.k0s()),2&g){const d=e.XpG(2);e.R7$(2),e.JRh(d.text.avilable_offer),e.R7$(3),e.Y8G("ngForOf",d.data),e.R7$(),e.Y8G("ngForOf",d.data)}}function M(g,b){if(1&g&&(e.j41(0,"ion-content",5),e.DNE(1,T,2,1,"p",6)(2,x,7,3,"div",7),e.k0s()),2&g){const d=e.XpG();e.R7$(),e.Y8G("ngIf",d.data&&0==d.data.length),e.R7$(),e.Y8G("ngIf",d.data&&d.data.length>0)}}let P=(()=>{var g;class b{constructor(f,m){this.otherService=f,this.navParams=m,this.data=m.get("data"),this.type=m.get("type"),console.log("this.type",this.type);const i=localStorage.getItem("app_lang");null!==i&&(this.text=JSON.parse(i),this.text=this.text.text)}ngOnInit(){}close(f=null){var m=this;return(0,u.A)(function*(){m.otherService.closeModel(f)})()}setOffer(f){var m=this;return(0,u.A)(function*(){m.otherService.closeModel(f)})()}}return(g=b).\u0275fac=function(f){return new(f||g)(e.rXU(D.G),e.rXU(F.y8))},g.\u0275cmp=e.VBU({type:g,selectors:[["app-offer"]],decls:5,vars:2,consts:[[1,"ion-no-border"],["slot","end"],["color","medium",3,"click",4,"ngIf"],["class","ion-padding",4,"ngIf"],["color","medium",3,"click"],[1,"ion-padding"],["align","center",4,"ngIf"],[4,"ngIf"],["align","center"],[2,"color","black"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["lines","none","detail","","style","cursor: pointer;",4,"ngIf"],["lines","none","detail","",2,"cursor","pointer"],["slot","start"],["src","assets/discount-icon.png"],[1,"ion-text-wrap"],[2,"display","block","margin-top","5px"]],template:function(f,m){1&f&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.DNE(3,E,2,1,"ion-button",2),e.k0s()()(),e.DNE(4,M,3,2,"ion-content",3)),2&f&&(e.R7$(3),e.Y8G("ngIf",m.text),e.R7$(),e.Y8G("ngIf",m.data&&m.text))},dependencies:[s.bv,s.mC,s.Jm,s.QW,s.W9,s.eU,s.uz,s.he,s.JI,s.ai,v.MD,v.Sq,v.bT,R.YN],styles:["ion-item[_ngcontent-%COMP%]{margin-top:20px;--min-height: 50px !important;border-radius:5px}ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light)}"]}),b})()},5704:($,k,r)=>{r.r(k),r.d(k,{PaymentPage:()=>b});var u=r(467),v=r(177),R=r(4341),s=r(4742),e=r(5083),D=r(3923);const F=(0,e.F3)("Stripe",{web:()=>r.e(1651).then(r.bind(r,1651)).then(d=>new d.StripeWeb)});var E=r(1594),T=r(9350),a=r(4438),S=r(3656),j=r(9568),x=r(1626),M=r(2068);function P(d,f){if(1&d){const m=a.RV6();a.j41(0,"ion-button",4),a.bIt("click",function(){a.eBV(m);const p=a.XpG();return a.Njj(p.close())}),a.EFF(1),a.k0s()}if(2&d){const m=a.XpG();a.R7$(),a.JRh(m.text.cancel)}}function g(d,f){if(1&d){const m=a.RV6();a.j41(0,"ion-content",5)(1,"h3"),a.EFF(2,"You have insufficient balance in your wallet. Please add "),a.j41(3,"strong"),a.EFF(4),a.k0s(),a.EFF(5," to continue."),a.k0s(),a.nrm(6,"br")(7,"br"),a.j41(8,"ion-row")(9,"ion-col",6),a.nrm(10,"img",7),a.k0s(),a.nrm(11,"br"),a.j41(12,"ion-col",8)(13,"ion-button",9),a.bIt("click",function(){a.eBV(m);const p=a.XpG();return a.Njj(p.addAmountToWallet())}),a.EFF(14),a.nI1(15,"currency"),a.k0s()()()()}if(2&d){const m=a.XpG();a.R7$(4),a.Lme("",m.setting.currency,"",m.data.amount,""),a.R7$(10),a.SpI("Add ",a.i5U(15,3,m.data.amount,"INR")," to Wallet")}}let b=(()=>{var d;class f{constructor(i,p,h,I){this.navParams=i,this.otherService=p,this.http=h,this.server=I,this.options={key:"",amount:0,name:"",description:"The Daily Fruit",image:"",order_id:"",handler:function(_){var y=new CustomEvent("payment.success",{detail:_,bubbles:!0,cancelable:!0});window.dispatchEvent(y)},prefill:{name:"",email:"",contact:""},notes:{address:""},theme:{color:"#3399cc"}},this.message="Not yet stared",this.paymentId="",this.error="",this.data=i.get("data"),this.user_id=localStorage.getItem("user_id");const C=localStorage.getItem("admin_setting"),G=localStorage.getItem("user_data");null!==C&&(this.setting=JSON.parse(C)),null!==G&&(this.user=JSON.parse(G));const z=localStorage.getItem("app_lang");null!==z&&(this.text=JSON.parse(z),this.text=this.text.text),F.initialize({publishableKey:this.data.stripe_key}),this.meta={counsumer_id:778383,consumer_mac:"sdjksfhsd887f8s"},this.customizations={title:"Wallet Recharge",description:"Wallet Recharge",logo:"https://dicont.s3.amazonaws.com/static/flow-logos/flutterwave-logo.png"},this.customerDetails={name:this.user.name,email:this.user.email,phone_number:this.user.phone}}ngOnInit(){}addAmountToWallet(){var i=this;return(0,u.A)(function*(){if(i.data.amount){const p={user_id:i.user_id,amount:i.data.amount,notes:"Add To Wallet\xa0Razorpay"};(yield i.server.createRazorpayOrder(p)).subscribe(h=>{i.options.key=h.razor_key.replace(/\r\n/g,""),i.options.order_id=h.order_id,i.options.amount=Number(h.amount),i.options.name="The Daily Fruit",i.options.prefill.name="The Daily Fruit",i.options.prefill.email="support@thedailyfruit.in",i.options.prefill.contact="9998887776",i.payNow()})}else i.otherService.toast(i.text.enter_amount)})()}payNow(){if(typeof Razorpay>"u")console.error("Razorpay is not loaded yet.");else{var i=new Razorpay(this.options);i.open(),i.on("payment.failed",function(p){console.error("Payment failed",p.error)})}}onPaymentSuccess(i){var p=this;return(0,u.A)(function*(){let h=i.detail,I={razorpay_order_id:null==h?void 0:h.razorpay_order_id,razorpay_payment_id:null==h?void 0:h.razorpay_payment_id,razorpay_signature:null==h?void 0:h.razorpay_signature};(yield p.server.verifyRazorpayOrder(I)).subscribe(C=>{p.otherService.triggerLoadData.emit(),p.otherService.closeModel(C)}),p.message="Success Payment"})()}updateWallet(i=null){var p=this;return(0,u.A)(function*(){const h={amount:p.data.amount,user_id:localStorage.getItem("user_id"),trans_id:i,payment_method:p.payment_method,notes:"Wallet Recharge"};p.server.updateWallet(h).subscribe(I=>{p.payment_method=null,p.otherService.toast(p.text.payment_added),p.close(i)})})()}close(i=null){var p=this;return(0,u.A)(function*(){p.otherService.closeModel(i)})()}httpPost(){const i={user:localStorage.getItem("user_id"),total:this.data.amount};return this.http.post(this.server.getApiUrl()+"stripePayment",i).pipe((0,E.$)())}paymentSheet(){var i=this;return(0,u.A)(function*(){i.payment_method=1;try{F.addListener(D.SQ.Completed,()=>{});const p=i.httpPost(),{paymentIntent:h,ephemeralKey:I,customer:C}=yield function t(d,f){const m="object"==typeof f;return new Promise((i,p)=>{let I,h=!1;d.subscribe({next:C=>{I=C,h=!0},error:p,complete:()=>{h?i(I):m?i(f.defaultValue):p(new T.G)}})})}(p);yield F.createPaymentSheet({paymentIntentClientSecret:h,customerId:C,customerEphemeralKeySecret:I,merchantDisplayName:i.setting.app_name});const G=yield F.presentPaymentSheet();G&&G.paymentResult===D.SQ.Completed?i.updateWallet(i.splitAndJoin(h)):i.otherService.toast(i.text.payment_cancel)}catch{i.otherService.toast(i.text.payment_cancel)}})()}splitAndJoin(i){return i.split("_").slice(0,2).join("_")}payWithRazorpay(){return(0,u.A)(function*(){})()}}return(d=f).\u0275fac=function(i){return new(i||d)(a.rXU(S.y8),a.rXU(j.G),a.rXU(x.Qq),a.rXU(M.Z))},d.\u0275cmp=a.VBU({type:d,selectors:[["app-payment"]],hostBindings:function(i,p){1&i&&a.bIt("payment.success",function(I){return p.onPaymentSuccess(I)},!1,a.tSv)},decls:5,vars:2,consts:[[1,"ion-no-border"],["slot","end"],["color","medium",3,"click",4,"ngIf"],["class","ion-padding",4,"ngIf"],["color","medium",3,"click"],[1,"ion-padding"],["size","12",2,"text-align","center"],["src","assets/razorpay.gif",2,"width","40%","height","auto","border-radius","25px"],["size","12"],["mode","ios","expand","block","color","dark","id","open-modal","expand","block",3,"click"]],template:function(i,p){1&i&&(a.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),a.DNE(3,P,2,1,"ion-button",2),a.k0s()()(),a.DNE(4,g,16,6,"ion-content",3)),2&i&&(a.R7$(3),a.Y8G("ngIf",p.text),a.R7$(),a.Y8G("ngIf",p.data&&p.text))},dependencies:[s.bv,s.Jm,s.QW,s.hU,s.W9,s.eU,s.ln,s.ai,v.MD,v.bT,v.oe,R.YN],styles:["ion-item[_ngcontent-%COMP%]{border-radius:5px;--min-height:60px;border:1px solid #f1f1f1}ion-toolbar[_ngcontent-%COMP%]{--background: white}ion-thumbnail[_ngcontent-%COMP%]{width:32px;height:32px}"]}),f})()}}]);