"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9444],{9444:(C,u,s)=>{s.r(u),s.d(u,{LoginPage:()=>k});var h=s(467),d=s(177),c=s(4341),n=s(4742),p=s(4613),e=s(4438),f=s(2068),b=s(9568);function M(i,_){if(1&i&&e.nrm(0,"ion-input",21),2&i){const l=e.XpG();e.FS9("label",l.text.phone),e.Y8G("disabled",l.hasClick)}}function P(i,_){if(1&i){const l=e.RV6();e.j41(0,"ion-input",22),e.mxI("ngModelChange",function(t){e.eBV(l);const o=e.XpG();return e.DH7(o.email,t)||(o.email=t),e.Njj(t)}),e.k0s()}if(2&i){const l=e.XpG();e.FS9("label",l.text.email),e.R50("ngModel",l.email),e.Y8G("disabled",l.hasClick)}}function v(i,_){if(1&i&&(e.j41(0,"ion-button",23),e.EFF(1),e.k0s()),2&i){const l=e.XpG();e.R7$(),e.SpI(" ",l.text.login," ")}}function x(i,_){1&i&&(e.j41(0,"ion-button",24),e.nrm(1,"ion-spinner",25),e.k0s())}let k=(()=>{var i;class _{constructor(a,t,o,r){this.server=a,this.otherService=t,this.loctaion=o,this.router=r,this.hasClick=!1,this.email="",this.password="",this.isMobile=!1,this.otherService.statusBar("#ffc927",2);const g=localStorage.getItem("admin_setting");null!==g&&(this.setting=JSON.parse(g));const m=localStorage.getItem("app_lang");null!==m&&(this.text=JSON.parse(m),this.text=this.text.text),this.checkScreenSize()}onResize(a){this.checkScreenSize()}checkScreenSize(){this.isMobile=window.innerWidth<=768}ngOnInit(){}login(a){var t=this;return(0,h.A)(function*(){if(0==a.password.length)return t.otherService.toast(t.text.correct_detail);t.hasClick=!0,t.server.login(a).subscribe(o=>{if(console.log("response",o),t.hasClick=!1,o.status){localStorage.setItem("token",o.token),localStorage.setItem("user_id",o.user.id),localStorage.setItem("user_data",JSON.stringify(o.user)),t.otherService.triggerLoadData.emit(),t.otherService.toast(t.text.logged_in);const r=t.otherService.getPreviousUrl();console.log(r),"/tabs/cart"==r||"/subscribed-cart"==r?t.loctaion.back():t.router.navigate(["/tabs/home"])}else t.otherService.toast(o.message)})})()}}return(i=_).\u0275fac=function(a){return new(a||i)(e.rXU(f.Z),e.rXU(b.G),e.rXU(d.aZ),e.rXU(p.Ix))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-login"]],hostBindings:function(a,t){1&a&&e.bIt("resize",function(r){return t.onResize(r)},!1,e.tSv)},decls:31,vars:14,consts:[["form","ngForm"],[1,"ion-no-border"],["color","dark"],[1,"login-content",3,"fullscreen"],["size","4"],[3,"size"],[1,"login-card"],[1,"logo-container"],["src","assets/login.png",1,"login-image"],[1,"login-title"],[3,"ngSubmit"],["name","phone","ngModel","","label-placement","floating","fill","outline","mode","md","class","input-item","oninput","this.value = this.value.replace(/[^0-9]/g, '').replace(/(\\..*?)\\..*/g, '$1');","maxlength","10",3,"label","disabled",4,"ngIf"],["name","email","label-placement","floating","fill","outline","mode","md","class","input-item",3,"label","ngModel","disabled","ngModelChange",4,"ngIf"],["type","password","name","password","label-placement","floating","fill","outline","mode","md",1,"input-item",3,"ngModelChange","label","ngModel","disabled"],[1,"forgot-password"],["routerLink","/forgot"],["mode","ios","expand","block","color","dark","type","submit",4,"ngIf"],["mode","ios","expand","block","color","dark","type","button",4,"ngIf"],[1,"signup-text"],["routerLink","/signup"],["size","3"],["name","phone","ngModel","","label-placement","floating","fill","outline","mode","md","oninput","this.value = this.value.replace(/[^0-9]/g, '').replace(/(\\..*?)\\..*/g, '$1');","maxlength","10",1,"input-item",3,"label","disabled"],["name","email","label-placement","floating","fill","outline","mode","md",1,"input-item",3,"ngModelChange","label","ngModel","disabled"],["mode","ios","expand","block","color","dark","type","submit"],["mode","ios","expand","block","color","dark","type","button"],["name","crescent"]],template:function(a,t){if(1&a){const o=e.RV6();e.j41(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-buttons"),e.nrm(3,"ion-back-button"),e.k0s()()(),e.j41(4,"ion-content",3)(5,"ion-grid")(6,"ion-row"),e.nrm(7,"ion-col",4),e.j41(8,"ion-col",5)(9,"ion-card",6)(10,"ion-card-content")(11,"div",7),e.nrm(12,"img",8),e.k0s(),e.j41(13,"h2",9),e.EFF(14),e.k0s(),e.j41(15,"form",10,0),e.bIt("ngSubmit",function(){e.eBV(o);const g=e.sdS(16);return e.Njj(t.login(g.value))}),e.DNE(17,M,1,2,"ion-input",11)(18,P,1,3,"ion-input",12),e.j41(19,"ion-input",13),e.mxI("ngModelChange",function(g){return e.eBV(o),e.DH7(t.password,g)||(t.password=g),e.Njj(g)}),e.k0s(),e.j41(20,"p",14),e.EFF(21),e.j41(22,"a",15),e.EFF(23),e.k0s()(),e.DNE(24,v,2,1,"ion-button",16)(25,x,2,0,"ion-button",17),e.j41(26,"p",18),e.EFF(27),e.j41(28,"a",19),e.EFF(29),e.k0s()()()()()(),e.nrm(30,"ion-col",20),e.k0s()()()}2&a&&(e.R7$(4),e.Y8G("fullscreen",!0),e.R7$(4),e.Y8G("size",t.isMobile?"11":"6"),e.R7$(6),e.JRh(t.text.login_title),e.R7$(3),e.Y8G("ngIf",1==t.setting.verify_type||2==t.setting.verify_type),e.R7$(),e.Y8G("ngIf",3==t.setting.verify_type||0==t.setting.verify_type),e.R7$(),e.FS9("label",t.text.password),e.R50("ngModel",t.password),e.Y8G("disabled",t.hasClick),e.R7$(2),e.SpI(" ",t.text.forgot," "),e.R7$(2),e.JRh(t.text.reset),e.R7$(),e.Y8G("ngIf",!t.hasClick),e.R7$(),e.Y8G("ngIf",t.hasClick),e.R7$(2),e.SpI(" ",t.text.dont_account," "),e.R7$(2),e.JRh(t.text.signup_here))},dependencies:[n.bv,n.Jm,n.QW,n.b_,n.I9,n.hU,n.W9,n.lO,n.eU,n.$w,n.ln,n.w2,n.ai,n.Gw,n.el,n.oY,d.MD,d.bT,c.YN,c.qT,c.BC,c.cb,c.tU,c.vS,c.cV,p.Wk],styles:[".login-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:#f4f4f4}ion-input[_ngcontent-%COMP%]{color:#000}.login-card[_ngcontent-%COMP%]{max-width:400px;width:100%;border-radius:12px;box-shadow:0 4px 10px #0003;padding:20px;background:#fff}.logo-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px}.login-image[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:contain}.login-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--ion-color-dark);margin-bottom:15px;text-align:center}.input-item[_ngcontent-%COMP%]{margin-bottom:15px}.forgot-password[_ngcontent-%COMP%]{text-align:right;font-size:14px;color:#666}.signup-text[_ngcontent-%COMP%]{text-align:center;font-size:14px;margin-top:10px}"]}),_})()}}]);